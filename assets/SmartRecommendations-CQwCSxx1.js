import{a4 as g,a5 as y,t as h,D as N,j as e,J as k,X as S}from"./vendor-ui-B6CU6qF1.js";import{r as o}from"./vendor-react-DtEkOSI3.js";import{C as w}from"./index-XBRr7Ttx.js";const P=[{name:"Apple One 개인",price:10900,includes:["Apple Music","Apple TV+","iCloud+ 50GB","Apple Arcade"],savings:"개별 가입 대비 약 30% 절약"},{name:"Apple One 가족",price:16900,includes:["Apple Music 가족","Apple TV+","iCloud+ 200GB","Apple Arcade"],savings:"최대 6명 공유 가능"},{name:"Naver 플러스 멤버십",price:4900,includes:["네이버페이 포인트 적립","네이버 웹툰","네이버시리즈","VIBE"],savings:"쇼핑+콘텐츠 통합 혜택"},{name:"Coupang 로켓와우+쿠팡플레이",price:7890,includes:["로켓배송 무료","쿠팡플레이 무료","로켓프레시 무료배송"],savings:"배송+OTT 통합 혜택"}],A={Netflix:[{name:"Wavve",price:7900,note:"국내 콘텐츠 강점"},{name:"Tving",price:7900,note:"tvN, OCN 독점"},{name:"Disney+",price:9900,note:"디즈니/마블/스타워즈"}],"YouTube Premium":[{name:"Wavve",price:7900,note:"광고 없는 국내 콘텐츠"}],Spotify:[{name:"Melon",price:10900,note:"국내 차트 강점"},{name:"Apple Music",price:10900,note:"고음질, 가사 지원"},{name:"VIBE",price:7900,note:"네이버 멤버십 포함 가능"}],"ChatGPT Plus":[{name:"Claude Pro",price:2e4,note:"긴 문맥, 코딩 강점"},{name:"Gemini Advanced",price:19e3,note:"Google 연동"}],Notion:[{name:"Obsidian",price:0,note:"무료 로컬 저장"},{name:"Craft",price:5e3,note:"Apple 생태계 최적화"}]};function R({subscriptions:m}){const[d,u]=o.useState("alternatives"),[x,b]=o.useState([]),r=o.useMemo(()=>{const t=m.filter(a=>!a.isPaused),s={alternatives:[],bundles:[],familyPlans:[],duplicates:[]};t.forEach(a=>{const i=A[a.name];if(i){const n=i.filter(c=>c.price<a.cost);n.length>0&&s.alternatives.push({current:a,alternatives:n,maxSavings:a.cost-Math.min(...n.map(c=>c.price))})}}),P.forEach(a=>{const i=t.filter(n=>a.includes.some(c=>n.name.toLowerCase().includes(c.toLowerCase().split(" ")[0])));if(i.length>=2){const n=i.reduce((c,j)=>c+j.cost,0);n>a.price&&s.bundles.push({bundle:a,matchedServices:i,currentTotal:n,savings:n-a.price})}}),t.forEach(a=>{if(a.sharedWith===1&&a.cost>=1e4){const i=a.cost*1.5,n=i/6;n<a.cost*.5&&s.familyPlans.push({subscription:a,familyPrice:i,perPersonSavings:a.cost-n,note:"가족/친구와 공유시 최대 80% 절약"})}});const l={};return t.forEach(a=>{l[a.category]||(l[a.category]=[]),l[a.category].push(a)}),Object.entries(l).forEach(([a,i])=>{i.length>=2&&s.duplicates.push({category:a,subscriptions:i,totalCost:i.reduce((n,c)=>n+c.cost,0),potentialSavings:Math.min(...i.map(n=>n.cost))})}),s},[m]),f=t=>{b([...x,t])},p=r.alternatives.reduce((t,s)=>t+s.maxSavings,0)+r.bundles.reduce((t,s)=>t+s.savings,0)+r.familyPlans.reduce((t,s)=>t+s.perPersonSavings,0);if(!(r.alternatives.length>0||r.bundles.length>0||r.familyPlans.length>0||r.duplicates.length>0))return null;const v=[{key:"alternatives",title:"대안 서비스",icon:g,count:r.alternatives.length},{key:"bundles",title:"번들 추천",icon:y,count:r.bundles.length},{key:"familyPlans",title:"가족 플랜",icon:h,count:r.familyPlans.length},{key:"duplicates",title:"중복 구독",icon:N,count:r.duplicates.length}].filter(t=>t.count>0);return e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2.5 text-base",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-50 dark:bg-amber-900/20 text-amber-500",children:e.jsx(k,{className:"w-5 h-5"})}),"스마트 추천"]}),p>0&&e.jsxs("span",{className:"text-xs font-bold text-green-500 bg-green-50 dark:bg-green-900/20 px-2.5 py-1 rounded-full",children:["최대 ",Math.round(p).toLocaleString(),"원 절약"]})]}),e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-1",children:v.map(t=>e.jsxs("button",{onClick:()=>u(d===t.key?null:t.key),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-xs font-medium whitespace-nowrap transition-all ${d===t.key?"bg-amber-500 text-white shadow-md":"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-dark-300 hover:bg-gray-200 dark:hover:bg-dark-600"}`,children:[e.jsx(t.icon,{size:14}),t.title,e.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-[10px] ${d===t.key?"bg-white/20 text-white":"bg-gray-200 dark:bg-dark-600 text-gray-500 dark:text-dark-400"}`,children:t.count})]},t.key))}),d==="alternatives"&&e.jsx("div",{className:"space-y-3",children:r.alternatives.filter(t=>!x.includes(`alt-${t.current.id}`)).map(t=>e.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-white",children:t.current.name}),e.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[t.current.cost.toLocaleString(),"원/월"]})]}),e.jsx("button",{onClick:()=>f(`alt-${t.current.id}`),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(S,{size:14})})]}),e.jsx("div",{className:"space-y-2",children:t.alternatives.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white dark:bg-dark-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{size:12,className:"text-green-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-dark-200",children:s.name}),e.jsx("span",{className:"text-[10px] text-gray-400",children:s.note})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xs font-bold text-green-600",children:[s.price.toLocaleString(),"원"]}),e.jsxs("span",{className:"text-[10px] text-green-500 ml-1",children:["-",Math.round((t.current.cost-s.price)/t.current.cost*100),"%"]})]})]},s.name))})]},t.current.id))}),d==="bundles"&&e.jsx("div",{className:"space-y-3",children:r.bundles.map((t,s)=>e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-sm text-amber-700 dark:text-amber-400",children:t.bundle.name}),e.jsxs("span",{className:"text-xs font-bold text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full",children:["월 ",t.savings.toLocaleString(),"원 절약"]})]}),e.jsx("p",{className:"text-xs text-amber-600/70 dark:text-amber-400/70 mb-3",children:t.bundle.savings}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.bundle.includes.map((l,a)=>e.jsx("span",{className:"text-[10px] px-2 py-1 bg-white/50 dark:bg-dark-800/50 rounded-full text-amber-700 dark:text-amber-300",children:l},a))}),e.jsx("div",{className:"mt-3 pt-3 border-t border-amber-200/50 dark:border-amber-800/30",children:e.jsxs("p",{className:"text-[10px] text-gray-500",children:["현재 ",t.matchedServices.map(l=>l.name).join(", ")," 사용 중"]})})]},s))}),d==="familyPlans"&&e.jsx("div",{className:"space-y-3",children:r.familyPlans.map((t,s)=>e.jsxs("div",{className:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{size:14,className:"text-blue-500"}),e.jsxs("span",{className:"font-medium text-sm text-blue-700 dark:text-blue-400",children:[t.subscription.name," 가족 플랜"]})]}),e.jsx("p",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 mb-2",children:t.note}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["현재: ",t.subscription.cost.toLocaleString(),"원"]}),e.jsxs("span",{className:"font-bold text-green-600",children:["1인당 약 ",Math.round(t.familyPrice/6).toLocaleString(),"원"]})]})]},s))}),d==="duplicates"&&e.jsx("div",{className:"space-y-3",children:r.duplicates.map((t,s)=>e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium text-sm text-red-700 dark:text-red-400",children:[w[t.category]||t.category," 중복"]}),e.jsxs("span",{className:"text-xs text-red-600",children:["월 ",t.totalCost.toLocaleString(),"원 지출"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.subscriptions.map(l=>e.jsxs("span",{className:"text-xs px-2 py-1 bg-white/50 dark:bg-dark-800/50 rounded-lg text-gray-700 dark:text-gray-300",children:[l.name," (",l.cost.toLocaleString(),"원)"]},l.id))}),e.jsxs("p",{className:"text-[10px] text-red-500/70 mt-2",children:["하나로 통합하면 월 ",t.potentialSavings.toLocaleString(),"원 절약 가능"]})]},s))})]})}export{R as default};
