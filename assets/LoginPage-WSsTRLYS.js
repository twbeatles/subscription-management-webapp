import{j as e,J as k,y as c,K as j,P as w}from"./vendor-ui-B6CU6qF1.js";import{u as N,r as t}from"./vendor-react-DtEkOSI3.js";import{u as S,l as C}from"./index-XBRr7Ttx.js";function P(){const a=N(),{login:m,register:x,startDemoMode:h}=S(),[i,g]=t.useState([]),[l,s]=t.useState(!1),[o,p]=t.useState(""),[d,n]=t.useState("");t.useEffect(()=>{b()},[]);const b=()=>{const r=C.getUsers();g(r),r.length===0&&s(!0)},u=async r=>{if(r.preventDefault(),!!o.trim())try{await x(o),a("/")}catch{n("프로필 생성 중 오류가 발생했습니다.")}},f=async r=>{try{await m(r),a("/")}catch{n("로그인 중 오류가 발생했습니다.")}},y=()=>{h(),a("/")};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 transition-colors relative overflow-hidden animated-gradient-bg",children:[e.jsx("div",{className:"floating-orb w-64 h-64 bg-purple-400 top-10 -left-20",style:{animationDelay:"0s"}}),e.jsx("div",{className:"floating-orb w-48 h-48 bg-indigo-400 bottom-20 right-10",style:{animationDelay:"-5s"}}),e.jsx("div",{className:"floating-orb w-32 h-32 bg-pink-400 top-1/2 left-1/3",style:{animationDelay:"-10s"}}),e.jsxs("div",{className:"relative z-10 max-w-md w-full glass-card rounded-3xl shadow-2xl overflow-hidden transition-all p-8 animate-scale-in",children:[e.jsx("div",{className:"absolute inset-0 shimmer pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-violet-600 mb-4 shadow-xl neon-glow",children:e.jsx(k,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"구독 관리자"}),e.jsx("p",{className:"text-gray-600 dark:text-dark-300",children:l?"새 프로필 만들기":"프로필 선택"})]}),d&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-500 text-sm dark:bg-red-900/20 dark:text-red-400 text-center border border-red-100 dark:border-red-900/30",children:d}),l?e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"이름 (닉네임)"}),e.jsx("input",{type:"text",value:o,onChange:r=>p(r.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-white/50 dark:bg-dark-700/50 backdrop-blur-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all",placeholder:"예: 홍길동",required:!0})]}),e.jsxs("button",{type:"submit",className:"w-full py-3.5 px-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-xl font-semibold transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary-500/30 hover-lift btn-ripple",children:[e.jsx(c,{size:20})," 프로필 생성 및 시작"]}),i.length>0&&e.jsx("button",{type:"button",onClick:()=>s(!1),className:"w-full py-3 px-4 text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"기존 프로필 선택하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"grid gap-3 max-h-60 overflow-y-auto pr-1 thin-scrollbar stagger-children",children:i.map(r=>e.jsxs("button",{onClick:()=>f(r.id),className:"w-full p-4 flex items-center gap-3 bg-white/50 dark:bg-dark-700/50 hover:bg-white/80 dark:hover:bg-dark-600/80 rounded-xl transition-all text-left group border border-gray-100 dark:border-dark-600 hover:border-primary-200 dark:hover:border-primary-800 hover-lift backdrop-blur-sm",children:[e.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-primary-400 to-violet-500 flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform shadow-md",children:r.displayName.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.displayName}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-dark-400",children:[new Date(r.createdAt).toLocaleDateString()," 가입"]})]}),e.jsx(j,{size:18,className:"text-gray-300 dark:text-dark-500 group-hover:text-primary-500 transition-colors"})]},r.id))}),e.jsx("div",{className:"pt-4 border-t border-gray-200/50 dark:border-dark-600/50 mt-4",children:e.jsxs("button",{onClick:()=>s(!0),className:"w-full py-3 px-4 border-2 border-dashed border-gray-300 dark:border-dark-500 text-gray-500 dark:text-dark-300 rounded-xl hover:bg-white/50 dark:hover:bg-dark-700/50 hover:border-primary-300 dark:hover:border-primary-700 transition-all flex items-center justify-center gap-2 font-medium",children:[e.jsx(c,{size:18})," 새 프로필 추가"]})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200/50 dark:border-dark-600/50",children:[e.jsxs("button",{onClick:y,className:"w-full py-3.5 px-4 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 hover:from-violet-600 hover:via-purple-600 hover:to-fuchsia-600 text-white rounded-xl font-semibold transition-all flex items-center justify-center gap-2 shadow-lg shadow-violet-500/30 hover-lift btn-ripple fab-pulse",children:[e.jsx(w,{size:18})," 로그인 없이 체험하기"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 text-center mt-3",children:"샘플 데이터로 모든 기능을 체험할 수 있습니다"})]})]})]})]})}export{P as default};
