const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage-WSsTRLYS.js","./vendor-ui-B6CU6qF1.js","./vendor-react-DtEkOSI3.js","./ForgotPasswordPage-DcJ1TOh9.js","./ProfilePage-D44E_LHt.js","./HealthScore-DJ5wIGzc.js","./CostSimulator-xYEE1bNP.js","./PriceTracker-ClU3bAba.js","./IncomeAnalysis-C5cX41jh.js","./SmartRecommendations-CQwCSxx1.js","./SubscriptionCompare-B3m0gl3u.js","./TagManager-BMqYA4vd.js","./TrialTracker-BmKIis-1.js","./SharingPanel-CYyITdIv.js","./ReceiptManager-JfR12L7u.js","./CancellationGuide-DNZ57gB6.js","./QuickViewWidget-AGOPDZ_p.js","./CurrencyConverter-D-9R7sE1.js","./UsageTracker-DaYVoELU.js","./GoalsSavings-DPM7jIc9.js","./PaymentMethodManager-CYPEgF6c.js","./RenewalAlerts-DXxaAL7X.js","./AccountBookExport-p9fMiqrV.js","./SubscriptionTable-DDXprn1W.js","./SecuritySettings-2NCdir-R.js","./ReportsInsights-DbtMArap.js","./FamilySharingManager-Bv2SBwpf.js","./AutoCancelReminder-D5G1sMWd.js","./BundleOptimizer-CUpq4Xy-.js","./SubscriptionHistory-CgrxV3vp.js","./QuickStatsWidget-Bdi5mh0o.js","./SmartSearch-Bw8fkY6w.js","./CalendarView-B3RArAga.js","./BudgetAlert-C7NR1CAB.js","./SplitBillCalculator-F80EFkjK.js","./RefundGuide-BXhtDECV.js","./SharedMemberManager-CSZc6EOB.js","./GoogleCalendarSync-lCkRYTIw.js","./NotificationSettings-Dsu4ELNq.js","./SmartSavingsAdvisor-ads8uBWO.js","./AdvancedAnalytics-CVbfD4Cy.js","./CategoryBudgetManager-3-NI04L-.js","./BackupRestore-BVAeiE5T.js","./PaymentSimulator-CtCLWfeR.js"])))=>i.map(i=>d[i]);
var gt=Object.defineProperty;var xt=(t,r,s)=>r in t?gt(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var pe=(t,r,s)=>xt(t,typeof r!="symbol"?r+"":r,s);import{j as e,C as De,S as je,a as Be,M as Ge,b as ht,U as pt,c as bt,L as ft,X as ie,T as Re,d as Ve,e as ge,f as Ne,g as We,R as yt,h as kt,D as ue,i as Je,k as Xe,l as xe,m as Oe,n as Se,P as Fe,o as be,p as re,q as He,E as Ye,r as vt,s as Ke,G as wt,t as jt,u as Nt,B as fe,v as ye,W as $e,F as St,w as _t,x as Et,y as Ct,H as qe,z as Dt,A as Rt,I as Pt}from"./vendor-ui-B6CU6qF1.js";import{a as It,r as o,u as Pe,R as K,H as Tt,b as At,c as de,N as Ot,d as Ft}from"./vendor-react-DtEkOSI3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var _e={},Me=It;_e.createRoot=Me.createRoot,_e.hydrateRoot=Me.hydrateRoot;const $t="modulepreload",Mt=function(t,r){return new URL(t,r).href},Le={},C=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){const u=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),d=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));n=Promise.allSettled(s.map(x=>{if(x=Mt(x,a),x in Le)return;Le[x]=!0;const l=x.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(!!a)for(let p=u.length-1;p>=0;p--){const b=u[p];if(b.href===x&&(!l||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${m}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":$t,l||(c.as="script"),c.crossOrigin="",c.href=x,d&&c.setAttribute("nonce",d),document.head.appendChild(c),l)return new Promise((p,b)=>{c.addEventListener("load",p),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${x}`)))})}))}function i(u){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=u,window.dispatchEvent(g),!g.defaultPrevented)throw u}return n.then(u=>{for(const g of u||[])g.status==="rejected"&&i(g.reason);return r().catch(i)})},I={USERS:"sub_manager_users",CURRENT_USER_ID:"sub_manager_current_user_id",SUBSCRIPTIONS_PREFIX:"sub_manager_data_",SETTINGS_PREFIX:"sub_manager_settings_",GLOBAL_SETTINGS:"sub_manager_global_settings",TAGS_PREFIX:"sub_manager_tags_",PRICE_HISTORY_PREFIX:"sub_manager_price_history_",PAYMENT_METHODS_PREFIX:"sub_manager_payment_methods_",USAGE_RECORDS_PREFIX:"sub_manager_usage_records_",GOALS_PREFIX:"sub_manager_goals_",BADGES_PREFIX:"sub_manager_badges_",CHALLENGES_PREFIX:"sub_manager_challenges_",SECURITY_PREFIX:"sub_manager_security_",CURRENCY_RATES:"sub_manager_currency_rates",REPORTS_PREFIX:"sub_manager_reports_",USER_STATS_PREFIX:"sub_manager_user_stats_",SHARED_MEMBERS_PREFIX:"sub_manager_shared_members_"},y={getUsers:()=>{try{const t=localStorage.getItem(I.USERS);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading users from local storage",t),[]}},saveUsers:t=>{localStorage.setItem(I.USERS,JSON.stringify(t))},createUser:t=>{const r=y.getUsers(),s={id:`user_${Date.now()}`,displayName:t,createdAt:new Date().toISOString(),isAdmin:!1};return r.push(s),y.saveUsers(r),s},updateUser:(t,r)=>{const s=y.getUsers(),a=s.findIndex(n=>n.id===t);return a!==-1?(s[a]={...s[a],...r},y.saveUsers(s),s[a]):null},deleteUser:t=>{const s=y.getUsers().filter(a=>a.id!==t);y.saveUsers(s),localStorage.removeItem(`${I.SUBSCRIPTIONS_PREFIX}${t}`),localStorage.removeItem(`${I.SETTINGS_PREFIX}${t}`),localStorage.removeItem(`${I.TAGS_PREFIX}${t}`),localStorage.removeItem(`${I.PRICE_HISTORY_PREFIX}${t}`)},getCurrentUserId:()=>localStorage.getItem(I.CURRENT_USER_ID),login:t=>{localStorage.setItem(I.CURRENT_USER_ID,t)},logout:()=>{localStorage.removeItem(I.CURRENT_USER_ID)},getSubscriptions:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.SUBSCRIPTIONS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading subscriptions",r),[]}},saveSubscriptions:(t,r)=>{if(t)try{const s=Array.isArray(r)?r:[];localStorage.setItem(`${I.SUBSCRIPTIONS_PREFIX}${t}`,JSON.stringify(s)),window.dispatchEvent(new CustomEvent("sub_manager_subscriptions_updated",{detail:{userId:t,subscriptions:s}}))}catch(s){throw s.name==="QuotaExceededError"&&(console.error("localStorage quota exceeded. Consider clearing old data."),window.dispatchEvent(new CustomEvent("sub_manager_storage_quota_exceeded",{detail:{message:"Ï†ÄÏû• Í≥µÍ∞ÑÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§. Î∂àÌïÑÏöîÌïú Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÎ¶¨Ìï¥Ï£ºÏÑ∏Ïöî."}}))),s}},restoreSubscription:(t,r)=>{if(!(!t||!r))try{const s=y.getSubscriptions(t);if(!s.find(a=>a.id===r.id)){const a=[...s,r];return y.saveSubscriptions(t,a),a}return s}catch(s){throw console.error("Failed to restore subscription:",s),s}},getUserSettings:t=>{if(!t)return{budget:0,monthlyIncome:0,autoTheme:!1,priceAlertEnabled:!0};try{const r=localStorage.getItem(`${I.SETTINGS_PREFIX}${t}`),s={budget:0,monthlyIncome:0,autoTheme:!1,priceAlertEnabled:!0};return r?{...s,...JSON.parse(r)}:s}catch(r){return console.error("Error reading user settings",r),{budget:0,monthlyIncome:0,autoTheme:!1,priceAlertEnabled:!0}}},saveUserSettings:(t,r)=>{t&&localStorage.setItem(`${I.SETTINGS_PREFIX}${t}`,JSON.stringify(r))},getTags:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.TAGS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading tags",r),[]}},saveTags:(t,r)=>{t&&localStorage.setItem(`${I.TAGS_PREFIX}${t}`,JSON.stringify(r))},addTag:(t,r)=>{const s=y.getTags(t);return s.find(a=>a.name===r.name)||(s.push(r),y.saveTags(t,s)),s},deleteTag:(t,r)=>{const s=y.getTags(t).filter(a=>a.name!==r);return y.saveTags(t,s),s},getPriceHistory:t=>{if(!t)return{};try{const r=localStorage.getItem(`${I.PRICE_HISTORY_PREFIX}${t}`);return r?JSON.parse(r):{}}catch(r){return console.error("Error reading price history",r),{}}},savePriceHistory:(t,r)=>{t&&localStorage.setItem(`${I.PRICE_HISTORY_PREFIX}${t}`,JSON.stringify(r))},addPriceRecord:(t,r,s)=>{const a=y.getPriceHistory(t);return a[r]||(a[r]=[]),a[r].push({price:s,date:new Date().toISOString()}),y.savePriceHistory(t,a),a[r]},getSubscriptionPriceHistory:(t,r)=>y.getPriceHistory(t)[r]||[],getPaymentMethods:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.PAYMENT_METHODS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading payment methods",r),[]}},savePaymentMethods:(t,r)=>{t&&(localStorage.setItem(`${I.PAYMENT_METHODS_PREFIX}${t}`,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("sub_manager_payment_methods_updated",{detail:{userId:t,methods:r}})))},addPaymentMethod:(t,r)=>{const s=y.getPaymentMethods(t),a={...r,id:`pm_${Date.now()}`,createdAt:new Date().toISOString()};return s.push(a),y.savePaymentMethods(t,s),a},updatePaymentMethod:(t,r,s)=>{const a=y.getPaymentMethods(t),n=a.findIndex(i=>i.id===r);return n!==-1?(a[n]={...a[n],...s},y.savePaymentMethods(t,a),a[n]):null},deletePaymentMethod:(t,r)=>{const s=y.getPaymentMethods(t).filter(a=>a.id!==r);return y.savePaymentMethods(t,s),s},getUsageRecords:t=>{if(!t)return{};try{const r=localStorage.getItem(`${I.USAGE_RECORDS_PREFIX}${t}`);return r?JSON.parse(r):{}}catch(r){return console.error("Error reading usage records",r),{}}},saveUsageRecords:(t,r)=>{t&&localStorage.setItem(`${I.USAGE_RECORDS_PREFIX}${t}`,JSON.stringify(r))},recordUsage:(t,r,s=new Date().toISOString().split("T")[0])=>{const a=y.getUsageRecords(t);return a[r]||(a[r]=[]),a[r].includes(s)||a[r].push(s),y.saveUsageRecords(t,a),a[r]},getSubscriptionUsageRecords:(t,r)=>y.getUsageRecords(t)[r]||[],getGoals:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.GOALS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading goals",r),[]}},saveGoals:(t,r)=>{t&&localStorage.setItem(`${I.GOALS_PREFIX}${t}`,JSON.stringify(r))},addGoal:(t,r)=>{const s=y.getGoals(t),a={...r,id:`goal_${Date.now()}`,createdAt:new Date().toISOString(),progress:0,completed:!1};return s.push(a),y.saveGoals(t,s),a},updateGoal:(t,r,s)=>{const a=y.getGoals(t),n=a.findIndex(i=>i.id===r);return n!==-1?(a[n]={...a[n],...s},y.saveGoals(t,a),a[n]):null},deleteGoal:(t,r)=>{const s=y.getGoals(t).filter(a=>a.id!==r);return y.saveGoals(t,s),s},getBadges:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.BADGES_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading badges",r),[]}},saveBadges:(t,r)=>{t&&localStorage.setItem(`${I.BADGES_PREFIX}${t}`,JSON.stringify(r))},addBadge:(t,r)=>{const s=y.getBadges(t);return s.find(a=>a.id===r)||(s.push({id:r,earnedAt:new Date().toISOString()}),y.saveBadges(t,s)),s},getChallenges:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.CHALLENGES_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading challenges",r),[]}},saveChallenges:(t,r)=>{t&&localStorage.setItem(`${I.CHALLENGES_PREFIX}${t}`,JSON.stringify(r))},startChallenge:(t,r)=>{const s=y.getChallenges(t);return s.find(n=>n.challengeId===r&&!n.completed)||(s.push({id:`ch_${Date.now()}`,challengeId:r,startedAt:new Date().toISOString(),progress:0,completed:!1}),y.saveChallenges(t,s)),s},updateChallengeProgress:(t,r,s,a=!1)=>{const n=y.getChallenges(t),i=n.findIndex(u=>u.id===r);return i!==-1&&(n[i].progress=s,n[i].completed=a,a&&(n[i].completedAt=new Date().toISOString()),y.saveChallenges(t,n)),n},getSecuritySettings:t=>{if(!t)return{pinEnabled:!1,pin:null,autoLockMinutes:5,dataEncrypted:!1};try{const r=localStorage.getItem(`${I.SECURITY_PREFIX}${t}`),s={pinEnabled:!1,pin:null,autoLockMinutes:5,dataEncrypted:!1};return r?{...s,...JSON.parse(r)}:s}catch(r){return console.error("Error reading security settings",r),{pinEnabled:!1,pin:null,autoLockMinutes:5,dataEncrypted:!1}}},saveSecuritySettings:(t,r)=>{t&&localStorage.setItem(`${I.SECURITY_PREFIX}${t}`,JSON.stringify(r))},getCurrencyRates:()=>{try{const t=localStorage.getItem(I.CURRENCY_RATES);if(!t)return null;const r=JSON.parse(t),s=new Date(r.updatedAt).getTime();return Date.now()-s>24*60*60*1e3?null:r}catch(t){return console.error("Error reading currency rates",t),null}},saveCurrencyRates:t=>{localStorage.setItem(I.CURRENCY_RATES,JSON.stringify({rates:t,updatedAt:new Date().toISOString()}))},getReportHistory:t=>{if(!t)return[];try{const r=localStorage.getItem(`${I.REPORTS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading report history",r),[]}},saveReportSnapshot:(t,r)=>{if(!t)return;const s=y.getReportHistory(t);s.push({...r,id:`report_${Date.now()}`,createdAt:new Date().toISOString()});const a=s.slice(-12);localStorage.setItem(`${I.REPORTS_PREFIX}${t}`,JSON.stringify(a))},getUserStats:t=>{if(!t)return{totalSubscriptions:0,activeSubscriptions:0,totalSaved:0,consecutiveCheckDays:0,featuresUsed:0,monthsUnderBudget:0,preventedAutoRenewals:0,linkedPaymentMethods:0,lastCheckDate:null};try{const r=localStorage.getItem(`${I.USER_STATS_PREFIX}${t}`),s={totalSubscriptions:0,activeSubscriptions:0,totalSaved:0,consecutiveCheckDays:0,featuresUsed:0,monthsUnderBudget:0,preventedAutoRenewals:0,linkedPaymentMethods:0,lastCheckDate:null};return r?{...s,...JSON.parse(r)}:s}catch(r){return console.error("Error reading user stats",r),{totalSubscriptions:0,activeSubscriptions:0,totalSaved:0,consecutiveCheckDays:0,featuresUsed:0,monthsUnderBudget:0,preventedAutoRenewals:0,linkedPaymentMethods:0,lastCheckDate:null}}},saveUserStats:(t,r)=>{t&&localStorage.setItem(`${I.USER_STATS_PREFIX}${t}`,JSON.stringify(r))},updateUserStats:(t,r)=>{const a={...y.getUserStats(t),...r};return y.saveUserStats(t,a),a},getSharedMembers:t=>{if(!t)return{};try{const r=localStorage.getItem(`${I.SHARED_MEMBERS_PREFIX}${t}`);return r?JSON.parse(r):{}}catch(r){return console.error("Error reading shared members",r),{}}},saveSharedMembers:(t,r)=>{t&&(localStorage.setItem(`${I.SHARED_MEMBERS_PREFIX}${t}`,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("sub_manager_shared_members_updated",{detail:{userId:t,members:r}})))},getNotificationSettings:t=>{if(!t)return null;try{const r=localStorage.getItem(`sub_manager_notifications_${t}`);return r?JSON.parse(r):null}catch(r){return console.error("Error reading notification settings",r),null}},saveNotificationSettings:(t,r)=>{t&&localStorage.setItem(`sub_manager_notifications_${t}`,JSON.stringify(r))},getCategoryBudgets:t=>{if(!t)return{};try{const r=localStorage.getItem(`sub_manager_category_budgets_${t}`);return r?JSON.parse(r):{}}catch(r){return console.error("Error reading category budgets",r),{}}},saveCategoryBudgets:(t,r)=>{t&&localStorage.setItem(`sub_manager_category_budgets_${t}`,JSON.stringify(r))}},Lt=Object.freeze(Object.defineProperty({__proto__:null,localStorageManager:y},Symbol.toStringTag,{value:"Module"})),Ee=[{id:"demo-1",name:"Netflix",cost:17e3,billingDay:15,billingCycle:"monthly",category:"OTT",url:"https://www.netflix.com",customColor:"#E50914",isPaused:!1,notes:"ÌîÑÎ¶¨ÎØ∏ÏóÑ ÏöîÍ∏àÏ†ú"},{id:"demo-2",name:"Spotify",cost:10900,billingDay:20,billingCycle:"monthly",category:"Music",url:"https://www.spotify.com",customColor:"#1DB954",isPaused:!1,notes:""},{id:"demo-3",name:"YouTube Premium",cost:14900,billingDay:5,billingCycle:"monthly",category:"OTT",url:"https://www.youtube.com",customColor:"#FF0000",isPaused:!1,notes:"Í∞ÄÏ°± ÏöîÍ∏àÏ†ú"},{id:"demo-4",name:"ChatGPT Plus",cost:28600,billingDay:10,billingCycle:"monthly",category:"Work",url:"https://chat.openai.com",customColor:"#10A37F",isPaused:!1,notes:"GPT-4 ÏÇ¨Ïö©"},{id:"demo-5",name:"Coupang Wow",cost:7890,billingDay:1,billingCycle:"monthly",category:"Shopping",url:"https://www.coupang.com",customColor:"#342971",isPaused:!1,notes:"Î°úÏºìÎ∞∞ÏÜ° Î¨¥Î£å"},{id:"demo-6",name:"iCloud+",cost:1100,billingDay:25,billingCycle:"monthly",category:"Utility",url:"https://www.icloud.com",customColor:"#3478F6",isPaused:!0,notes:"50GB Ï†ÄÏû•Í≥µÍ∞Ñ"},{id:"demo-7",name:"Notion",cost:1e4,billingDay:12,billingCycle:"monthly",category:"Work",url:"https://www.notion.so",customColor:"#000000",isPaused:!1,notes:"Plus ÏöîÍ∏àÏ†ú"},{id:"demo-8",name:"Î∞ÄÎ¶¨Ïùò ÏÑúÏû¨",cost:9900,billingDay:18,billingCycle:"monthly",category:"Education",url:"https://www.millie.co.kr",customColor:"#FFD700",isPaused:!1,notes:""}];function W(){const t=localStorage.getItem("demoSubscriptions");return t?JSON.parse(t):(localStorage.setItem("demoSubscriptions",JSON.stringify(Ee)),Ee)}function me(t){const r=W(),s=r.findIndex(a=>a.id===t.id);return s>=0?r[s]=t:(t.id=`demo-${Date.now()}`,r.push(t)),localStorage.setItem("demoSubscriptions",JSON.stringify(r)),t}function Ut(t){const s=W().filter(a=>a.id!==t);localStorage.setItem("demoSubscriptions",JSON.stringify(s))}function zt(t){if(!Array.isArray(t))return 0;const r=W(),s=new Set(r.map(n=>n.id)),a=t.filter(n=>n&&typeof n=="object"&&n.name&&!isNaN(parseFloat(n.cost))).map((n,i)=>({...n,id:n.id||`demo-import-${Date.now()}-${i}`,name:String(n.name).trim(),cost:parseFloat(n.cost),billingDay:Math.min(31,Math.max(1,parseInt(n.billingDay)||1)),category:n.category||"Í∏∞ÌÉÄ",isPaused:!!n.isPaused,createdAt:n.createdAt||new Date().toISOString()})).filter(n=>!s.has(n.id));if(a.length>0){const n=[...r,...a];localStorage.setItem("demoSubscriptions",JSON.stringify(n))}return a.length}function Bt(){localStorage.setItem("demoSubscriptions",JSON.stringify([]))}function Qe(){localStorage.removeItem("demoMode"),localStorage.removeItem("demoSubscriptions")}function Ze(){const t=localStorage.getItem("demoMode");if(!t)return null;const r=JSON.parse(t),s=new Date(r.expiresAt),a=new Date;if(s<=a)return Qe(),null;const n=s-a,i=Math.ceil(n/(1e3*60));return{...r,remainingMinutes:i,isExpired:!1}}const et=o.createContext();function Gt({children:t}){const[r,s]=o.useState(null),[a,n]=o.useState(!1),[i,u]=o.useState(!0),[g,d]=o.useState(null);o.useEffect(()=>{(()=>{try{if(Ze()){n(!0),u(!1);return}const T=y.getCurrentUserId();if(T){const O=y.getUsers().find(F=>F.id===T);O?s(O):y.logout()}}catch(E){d({message:"Ïù∏Ï¶ù Ï¥àÍ∏∞ÌôîÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:E})}finally{u(!1)}})()},[]);const x=async f=>{try{d(null);const T=y.getUsers().find(v=>v.id===f);if(!T)throw new Error("User not found");return y.login(f),s(T),n(!1),T}catch(E){throw d({message:"Î°úÍ∑∏Ïù∏Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:E}),E}},l=async f=>{try{if(d(null),!f||f.trim().length===0)throw new Error("Name is required");const E=y.createUser(f.trim());return await x(E.id),E}catch(E){throw d({message:"ÌîÑÎ°úÌïÑ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:E}),E}},m=()=>{const f=new Date;f.setMinutes(f.getMinutes()+30),localStorage.setItem("demoMode",JSON.stringify({startedAt:new Date().toISOString(),expiresAt:f.toISOString()})),localStorage.setItem("demoSubscriptions",JSON.stringify(Ee)),n(!0),s(null)},h=()=>{Qe(),n(!1)},c=async f=>{if(!r)return;const E=y.updateUser(r.id,f);s(E)},p=async()=>{a?h():(y.logout(),s(null))},b=async()=>{r&&(y.deleteUser(r.id),await p())},w={user:r,userProfile:r,loading:i,isDemo:a,isAuthenticated:!!r||a,isAdmin:(r==null?void 0:r.isAdmin)||!1,login:x,register:l,updateProfile:c,updateUserProfile:c,logout:p,deleteAccount:b,startDemoMode:m,endDemoMode:h,signOut:p};return e.jsx(et.Provider,{value:w,children:t})}function he(){const t=o.useContext(et);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const tt=o.createContext();function rt({children:t}){const[r,s]=o.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n?n==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});o.useEffect(()=>{const n=document.documentElement;r?(n.classList.add("dark"),localStorage.setItem("theme","dark")):(n.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]);const a=()=>s(n=>!n);return e.jsx(tt.Provider,{value:{isDark:r,toggleTheme:a},children:t})}function st(){const t=o.useContext(tt);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function Vt(t){const[r,s]=o.useState([]),[a,n]=o.useState(!0),[i,u]=o.useState(null);o.useEffect(()=>{if(!(t!=null&&t.id)){s([]),n(!1);return}const p=()=>{try{n(!0);const f=y.getSubscriptions(t.id);s(Array.isArray(f)?f:[])}catch(f){u({message:"Íµ¨ÎèÖ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:f}),s([])}finally{n(!1)}};p();const b=f=>{f.key===`sub_manager_data_${t.id}`&&p()},w=f=>{var E;if(((E=f.detail)==null?void 0:E.userId)===t.id){const T=f.detail.subscriptions;s(T)}};return window.addEventListener("storage",b),window.addEventListener("sub_manager_subscriptions_updated",w),()=>{window.removeEventListener("storage",b),window.removeEventListener("sub_manager_subscriptions_updated",w)}},[t==null?void 0:t.id]);const g=o.useCallback(async p=>{if(t!=null&&t.id)try{u(null);const b={...p,id:`sub_${Date.now()}`,userId:t.id,createdAt:new Date().toISOString()};return s(w=>{const f=[...w,b];return y.saveSubscriptions(t.id,f),f}),b.id}catch(b){throw u({message:"Íµ¨ÎèÖ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:b}),b}},[t==null?void 0:t.id]),d=o.useCallback(async(p,b)=>{if(t!=null&&t.id)try{u(null),s(w=>{const f=w.map(E=>E.id===p?{...E,...b}:E);return y.saveSubscriptions(t.id,f),f})}catch(w){throw u({message:"Íµ¨ÎèÖ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:w}),w}},[t==null?void 0:t.id]),x=o.useCallback(async p=>{if(t!=null&&t.id)try{let b=null;return s(w=>{const f=w.find(T=>T.id===p);f&&(b=f);const E=w.filter(T=>T.id!==p);return y.saveSubscriptions(t.id,E),E}),b}catch(b){throw u({message:"Íµ¨ÎèÖ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:b}),b}},[t==null?void 0:t.id]),l=o.useCallback(async p=>{if(t!=null&&t.id)try{s(b=>{const w=b.map(f=>f.id===p?{...f,isPaused:!f.isPaused}:f);return y.saveSubscriptions(t.id,w),w})}catch(b){throw u({message:"ÏùºÏãúÏ†ïÏßÄ ÏÉÅÌÉú Î≥ÄÍ≤ΩÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:b}),b}},[t==null?void 0:t.id]),m=o.useCallback(async()=>{if(t!=null&&t.id)try{y.saveSubscriptions(t.id,[]),s([])}catch(p){throw u({message:"Î™®Îì† Íµ¨ÎèÖ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:p}),p}},[t==null?void 0:t.id]),h=o.useCallback(async p=>{if(!(!(t!=null&&t.id)||!Array.isArray(p)))try{const b=p.filter(v=>v&&typeof v=="object"&&v.name&&!isNaN(parseFloat(v.cost))).map((v,O)=>({...v,id:v.id||`sub_${Date.now()}_${O}`,name:String(v.name).trim(),cost:parseFloat(v.cost),billingDay:Math.min(31,Math.max(1,parseInt(v.billingDay)||1)),category:v.category||"Í∏∞ÌÉÄ",memo:v.memo?String(v.memo):"",userId:t.id,createdAt:v.createdAt||new Date().toISOString(),isPaused:!!v.isPaused,paymentMethodId:v.paymentMethodId||null}));if(b.length===0)throw new Error("Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎäî Ïú†Ìö®Ìïú Íµ¨ÎèÖ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.");const w=y.getSubscriptions(t.id),f=new Set(w.map(v=>v.id)),E=new Set(w.map(v=>`${v.name.toLowerCase()}|${v.cost}|${v.billingDay}`)),T=b.filter(v=>{if(f.has(v.id))return!1;const O=`${v.name.toLowerCase()}|${v.cost}|${v.billingDay}`;return!E.has(O)});if(T.length===0&&b.length>0)throw new Error("Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Íµ¨ÎèÖ Îç∞Ïù¥ÌÑ∞ÏûÖÎãàÎã§ (Ï§ëÎ≥µ Ï†úÏô∏Îê®).");return s(v=>{const O=[...v,...T];return y.saveSubscriptions(t.id,O),O}),T.length}catch(b){throw u({message:b.message||"Íµ¨ÎèÖ Í∞ÄÏ†∏Ïò§Í∏∞Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",original:b}),b}},[t==null?void 0:t.id]),c=o.useCallback(()=>{u(null)},[]);return{subscriptions:r,loading:a,error:i,clearError:c,addSubscription:g,updateSubscription:d,deleteSubscription:x,togglePause:l,clearAllSubscriptions:m,importSubscriptions:h}}const Wt=(t,r="monthly",s=null)=>{const a=parseInt(t,10);if(isNaN(a)||a<1||a>31)return 0;const n=new Date;n.setHours(0,0,0,0);const u=Jt(t,r,s).getTime()-n.getTime();return Math.max(0,Math.ceil(u/(1e3*60*60*24)))},Jt=(t,r="monthly",s=null)=>{const a=parseInt(t,10),n=s?parseInt(s,10)-1:null,i=new Date;i.setHours(0,0,0,0);const u=i.getDate(),g=i.getMonth(),d=i.getFullYear(),x=i.getDay();let l=new Date(i);if(r==="yearly"&&n!==null&&!isNaN(n))l=new Date(d,n,a),l<i&&l.setFullYear(d+1);else if(r==="weekly"){let c=parseInt(t,10);(c>7||c<1)&&(c=1);let b=c-(x===0?7:x);b<=0&&(b+=7),l=new Date(i),l.setDate(i.getDate()+b)}else u<a?l=new Date(d,g,a):l=new Date(d,g+1,a);l.getMonth();const m=new Date(l.getFullYear(),l.getMonth(),1),h=new Date(m.getFullYear(),m.getMonth()+1,0).getDate();return a>h&&(l=new Date(m.getFullYear(),m.getMonth(),h)),l},Xt=t=>{if(!t)return-1;const r=new Date(t);return Math.ceil((r-new Date)/(1e3*60*60*24))},M={OTT:"#E50914",Music:"#1DB954",Shopping:"#FF9900",Utility:"#00A4EF",Work:"#5A5A5A",Education:"#FFD700",Health:"#10B981",Finance:"#8B5CF6",Etc:"#808080"},ae={OTT:"ÏòÅÏÉÅ/Ïä§Ìä∏Î¶¨Î∞ç",Music:"ÏùåÏïÖ",Shopping:"ÏáºÌïë/Ïù¥Ïª§Î®∏Ïä§",Utility:"Ïú†Ìã∏Î¶¨Ìã∞",Work:"ÏóÖÎ¨¥/ÏÉùÏÇ∞ÏÑ±",Education:"ÍµêÏú°/ÌïôÏäµ",Health:"Í±¥Í∞ï/Ïö¥Îèô",Finance:"Í∏àÏúµ/Ìà¨Ïûê",Etc:"Í∏∞ÌÉÄ"},Ht=[{name:"Netflix",category:"OTT",color:"#E50914",url:"https://www.netflix.com",defaultCost:17e3},{name:"YouTube Premium",category:"OTT",color:"#FF0000",url:"https://www.youtube.com",defaultCost:14900},{name:"Disney+",category:"OTT",color:"#113CCF",url:"https://www.disneyplus.com",defaultCost:9900},{name:"Wavve",category:"OTT",color:"#1C1B1F",url:"https://www.wavve.com",defaultCost:13900},{name:"Tving",category:"OTT",color:"#FF153C",url:"https://www.tving.com",defaultCost:13900},{name:"Watcha",category:"OTT",color:"#FF0558",url:"https://watcha.com",defaultCost:12900},{name:"Spotify",category:"Music",color:"#1DB954",url:"https://www.spotify.com",defaultCost:10900},{name:"Melon",category:"Music",color:"#00CD3C",url:"https://www.melon.com",defaultCost:10900},{name:"Apple Music",category:"Music",color:"#FA233B",url:"https://music.apple.com",defaultCost:10900},{name:"Genie",category:"Music",color:"#3D85C6",url:"https://www.genie.co.kr",defaultCost:10900},{name:"Bugs",category:"Music",color:"#FF3366",url:"https://music.bugs.co.kr",defaultCost:9500},{name:"Coupang Wow",category:"Shopping",color:"#342971",url:"https://www.coupang.com",defaultCost:7890},{name:"Naver Plus",category:"Shopping",color:"#03C75A",url:"https://nid.naver.com",defaultCost:4900},{name:"SSG Ïú†ÎãàÎ≤ÑÏä§",category:"Shopping",color:"#FF5A5A",url:"https://www.ssg.com",defaultCost:4900},{name:"Notion",category:"Work",color:"#000000",url:"https://www.notion.so",defaultCost:1e4},{name:"ChatGPT Plus",category:"Work",color:"#10A37F",url:"https://chat.openai.com",defaultCost:2e4},{name:"Figma",category:"Work",color:"#F24E1E",url:"https://www.figma.com",defaultCost:15e3},{name:"GitHub Copilot",category:"Work",color:"#000000",url:"https://github.com",defaultCost:1e4},{name:"Slack",category:"Work",color:"#4A154B",url:"https://slack.com",defaultCost:1e4},{name:"Zoom",category:"Work",color:"#2D8CFF",url:"https://zoom.us",defaultCost:16e3},{name:"Adobe CC",category:"Work",color:"#FF0000",url:"https://www.adobe.com",defaultCost:24e3},{name:"Î∞ÄÎ¶¨Ïùò ÏÑúÏû¨",category:"Education",color:"#FFD700",url:"https://www.millie.co.kr",defaultCost:9900},{name:"Duolingo",category:"Education",color:"#58CC02",url:"https://www.duolingo.com",defaultCost:14900},{name:"Coursera",category:"Education",color:"#0056D2",url:"https://www.coursera.org",defaultCost:59e3},{name:"ÌÅ¥ÎûòÏä§101",category:"Education",color:"#FF6B00",url:"https://class101.net",defaultCost:19900},{name:"Nike Training Club",category:"Health",color:"#000000",url:"https://www.nike.com",defaultCost:0},{name:"Keep",category:"Health",color:"#00C8FF",url:"https://www.gotokeep.com",defaultCost:9900},{name:"iCloud+",category:"Utility",color:"#3478F6",url:"https://www.icloud.com",defaultCost:1100},{name:"Google One",category:"Utility",color:"#4285F4",url:"https://one.google.com",defaultCost:2400},{name:"Dropbox",category:"Utility",color:"#0061FF",url:"https://www.dropbox.com",defaultCost:12e3},{name:"1Password",category:"Utility",color:"#1A8CFF",url:"https://1password.com",defaultCost:5e3},{name:"NordVPN",category:"Utility",color:"#4687FF",url:"https://nordvpn.com",defaultCost:15e3}],Yt={monthly:{label:"ÏõîÍ∞Ñ",multiplier:1},yearly:{label:"Ïó∞Í∞Ñ",multiplier:12},weekly:{label:"Ï£ºÍ∞Ñ",multiplier:.25}},Kt=[{value:1,label:"Ïõî"},{value:2,label:"Ìôî"},{value:3,label:"Ïàò"},{value:4,label:"Î™©"},{value:5,label:"Í∏à"},{value:6,label:"ÌÜ†"},{value:7,label:"Ïùº"}],qt=[{value:"daysLeft",label:"Í≤∞Ï†úÏùº Ïàú"},{value:"cost-desc",label:"Í∏àÏï° ÎÜíÏùÄ Ïàú"},{value:"cost-asc",label:"Í∏àÏï° ÎÇÆÏùÄ Ïàú"},{value:"name",label:"Ïù¥Î¶Ñ Ïàú"},{value:"category",label:"Ïπ¥ÌÖåÍ≥†Î¶¨ Ïàú"}],Qt={KRW:{symbol:"‚Ç©",label:"Ïõê",locale:"ko-KR"},USD:{symbol:"$",label:"USD",locale:"en-US"},JPY:{symbol:"¬•",label:"Ïóî",locale:"ja-JP"},EUR:{symbol:"‚Ç¨",label:"EUR",locale:"de-DE"}},te={USD:1300,EUR:1420,JPY:8.7,KRW:1},Ds={credit:{label:"Ïã†Ïö©Ïπ¥Îìú",icon:"CreditCard",color:"#3B82F6"},debit:{label:"Ï≤¥ÌÅ¨Ïπ¥Îìú",icon:"Wallet",color:"#10B981"},digital:{label:"Í∞ÑÌé∏Í≤∞Ï†ú",icon:"Smartphone",color:"#8B5CF6"},bank:{label:"Í≥ÑÏ¢åÏù¥Ï≤¥",icon:"Building",color:"#6B7280"},paypal:{label:"PayPal",icon:"Globe",color:"#003087"}},Rs=[{name:"ÏÇºÏÑ±Ïπ¥Îìú",type:"credit",color:"#1428A0"},{name:"Ïã†ÌïúÏπ¥Îìú",type:"credit",color:"#0046FF"},{name:"ÌòÑÎåÄÏπ¥Îìú",type:"credit",color:"#000000"},{name:"KBÍµ≠ÎØºÏπ¥Îìú",type:"credit",color:"#FFBC00"},{name:"Ïπ¥Ïπ¥Ïò§ÌéòÏù¥",type:"digital",color:"#FEE500"},{name:"ÎÑ§Ïù¥Î≤ÑÌéòÏù¥",type:"digital",color:"#03C75A"},{name:"ÌÜ†Ïä§",type:"digital",color:"#0064FF"},{name:"ÌéòÏù¥ÏΩî",type:"digital",color:"#E52528"},{name:"Ïï†ÌîåÌéòÏù¥",type:"digital",color:"#000000"}],Ps={daily:{label:"Îß§Ïùº",value:30,color:"#10B981"},weekly:{label:"Ï£º 1-2Ìöå",value:8,color:"#3B82F6"},biweekly:{label:"Ï£º 3-4Ìöå",value:15,color:"#6366F1"},monthly:{label:"Ïõî 1-2Ìöå",value:2,color:"#F59E0B"},rarely:{label:"Í±∞Ïùò Ïïà Ìï®",value:.5,color:"#EF4444"}},Is={first_subscription:{id:"first_subscription",name:"Ï≤´ Î∞úÍ±∏Ïùå",description:"Ï≤´ Íµ¨ÎèÖ Îì±Î°ù",icon:"üéâ",condition:t=>t.totalSubscriptions>=1},saver_10k:{id:"saver_10k",name:"ÏïåÎú∞Ï°±",description:"ÎàÑÏ†Å 10,000Ïõê Ï†àÏïΩ",icon:"üí∞",condition:t=>t.totalSaved>=1e4},saver_100k:{id:"saver_100k",name:"Ï†àÏïΩÏôï",description:"ÎàÑÏ†Å 100,000Ïõê Ï†àÏïΩ",icon:"üëë",condition:t=>t.totalSaved>=1e5},minimalist:{id:"minimalist",name:"ÎØ∏ÎãàÎ©ÄÎ¶¨Ïä§Ìä∏",description:"Íµ¨ÎèÖ 5Í∞ú Ïù¥Ìïò Ïú†ÏßÄ",icon:"üéØ",condition:t=>t.activeSubscriptions<=5&&t.activeSubscriptions>0},tracker_7days:{id:"tracker_7days",name:"Íæ∏Ï§ÄÌï®Ïùò ÏãúÏûë",description:"7Ïùº Ïó∞ÏÜç ÏÇ¨Ïö© Ï≤¥ÌÅ¨",icon:"üî•",condition:t=>t.consecutiveCheckDays>=7},tracker_30days:{id:"tracker_30days",name:"ÏäµÍ¥ÄÏùò Ìûò",description:"30Ïùº Ïó∞ÏÜç ÏÇ¨Ïö© Ï≤¥ÌÅ¨",icon:"‚ö°",condition:t=>t.consecutiveCheckDays>=30},master:{id:"master",name:"Íµ¨ÎèÖ ÎßàÏä§ÌÑ∞",description:"Î™®Îì† Í∏∞Îä• ÏÇ¨Ïö©",icon:"‚≠ê",condition:t=>t.featuresUsed>=10},budget_keeper:{id:"budget_keeper",name:"ÏòàÏÇ∞ ÏàòÌò∏Ïûê",description:"3Í∞úÏõî Ïó∞ÏÜç ÏòàÏÇ∞ ÎÇ¥ Ïú†ÏßÄ",icon:"üõ°Ô∏è",condition:t=>t.monthsUnderBudget>=3},early_bird:{id:"early_bird",name:"ÏñºÎ¶¨Î≤ÑÎìú",description:"Íµ¨ÎèÖ Ìï¥ÏßÄÎ°ú ÏûêÎèôÍ≤∞Ï†ú Î∞©ÏßÄ",icon:"üê¶",condition:t=>t.preventedAutoRenewals>=1},organizer:{id:"organizer",name:"Ï†ïÎ¶¨Ïôï",description:"Î™®Îì† Íµ¨ÎèÖÏóê Í≤∞Ï†úÏàòÎã® Ïó∞Í≤∞",icon:"üìã",condition:t=>t.linkedPaymentMethods>=t.activeSubscriptions&&t.activeSubscriptions>0}},Ts={subscription_diet_7:{id:"subscription_diet_7",name:"7Ïùº Íµ¨ÎèÖ Îã§Ïù¥Ïñ¥Ìä∏",description:"7Ïùº ÎèôÏïà ÏÉà Íµ¨ÎèÖ Ï∂îÍ∞ÄÌïòÏßÄ ÏïäÍ∏∞",duration:7,reward:"üèÜ Îã§Ïù¥Ïñ¥ÌÑ∞ Î∞∞ÏßÄ",xp:50},subscription_diet_30:{id:"subscription_diet_30",name:"30Ïùº Íµ¨ÎèÖ Îã§Ïù¥Ïñ¥Ìä∏",description:"30Ïùº ÎèôÏïà ÏÉà Íµ¨ÎèÖ Ï∂îÍ∞ÄÌïòÏßÄ ÏïäÍ∏∞",duration:30,reward:"ü•á Í≥®Îìú Îã§Ïù¥Ïñ¥ÌÑ∞ Î∞∞ÏßÄ",xp:200},cancel_one:{id:"cancel_one",name:"Ï†ïÎ¶¨Ïùò ÏãúÏûë",description:"ÎØ∏ÏÇ¨Ïö© Íµ¨ÎèÖ 1Í∞ú Ìï¥ÏßÄÌïòÍ∏∞",duration:7,reward:"‚úÇÔ∏è Í∞ÄÏúÑÏÜê Î∞∞ÏßÄ",xp:100},track_daily_7:{id:"track_daily_7",name:"ÏÇ¨Ïö© Í∏∞Î°ù Ï±åÎ¶∞ÏßÄ",description:"7Ïùº Ïó∞ÏÜç ÏÇ¨Ïö© ÎπàÎèÑ Ï≤¥ÌÅ¨ÌïòÍ∏∞",duration:7,reward:"üìä Î∂ÑÏÑùÍ∞Ä Î∞∞ÏßÄ",xp:75},save_50k:{id:"save_50k",name:"5ÎßåÏõê Ï†àÏïΩ ÎØ∏ÏÖò",description:"Ïù¥Î≤à Îã¨ 5ÎßåÏõê Ï†àÏïΩÌïòÍ∏∞",duration:30,reward:"üíµ Ï†àÏïΩ ÎßàÏä§ÌÑ∞ Î∞∞ÏßÄ",xp:150}},As={toss:{id:"toss",name:"Toss Í∞ÄÍ≥ÑÎ∂Ä",extension:"csv",description:"Toss Ïï±ÏóêÏÑú Í∞ÄÏ†∏Ïò§Í∏∞ Í∞ÄÎä•",icon:"üíô"},banksalad:{id:"banksalad",name:"Î±ÖÌÅ¨ÏÉêÎü¨Îìú",extension:"csv",description:"Î±ÖÌÅ¨ÏÉêÎü¨Îìú Ìò∏Ìôò ÌòïÏãù",icon:"üíö"},excel:{id:"excel",name:"Excel",extension:"xlsx",description:"ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Ìè¨Ìï® Ïä§ÌîÑÎ†àÎìúÏãúÌä∏",icon:"üìä"},qif:{id:"qif",name:"QIF (Quicken)",extension:"qif",description:"Í∏àÏúµ Ïï± Ìò∏Ìôò ÌòïÏãù",icon:"üè¶"}},Os=[30,7,3,1],Fs={usageFrequency:.4,satisfaction:.3,priceValue:.3},Zt=(t,r=null,s="KRW")=>{if(!t||!t.cost)return 0;const a=Number(t.cost);if(isNaN(a))return 0;const n=t.billingCycle||"monthly";let i=a;switch(n){case"yearly":i=a/12;break;case"quarterly":i=a/3;break;case"weekly":i=a*(52/12);break;case"daily":i=a*(365/12);break;case"monthly":default:i=a;break}if(r&&t.currency&&t.currency!==s){const u=r[t.currency]||1,g=r[s]||1;i=i*u/g}return i},er=()=>{const[t,r]=o.useState(te),[s,a]=o.useState(null),[n,i]=o.useState(!1),[u,g]=o.useState(null),d="https://api.exchangerate-api.com/v4/latest/KRW",x=o.useCallback(async(m=!1)=>{var h,c,p;i(!0),g(null);try{if(!m){const E=y.getCurrencyRates();if(E){r(E.rates),a(new Date(E.updatedAt)),i(!1);return}}const b=await fetch(d);if(!b.ok)throw new Error("Failed to fetch rates");const w=await b.json(),f={KRW:1,USD:(h=w.rates)!=null&&h.USD?Math.round(1/w.rates.USD):te.USD,EUR:(c=w.rates)!=null&&c.EUR?Math.round(1/w.rates.EUR):te.EUR,JPY:(p=w.rates)!=null&&p.JPY?Math.round(1/w.rates.JPY*100)/100:te.JPY};r(f),a(new Date),y.saveCurrencyRates(f)}catch(b){console.error("Failed to fetch exchange rates:",b),g("ÌôòÏú® Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§")}finally{i(!1)}},[]);o.useEffect(()=>{x()},[x]);const l=o.useCallback((m,h="KRW",c="KRW")=>{if(!m)return 0;if(h===c)return m;const p=t[h]||te[h]||1,b=m*p;if(c==="KRW")return b;const w=t[c]||te[c]||1;return b/w},[t]);return{rates:t,lastUpdated:s,loading:n,error:u,fetchRates:x,convert:l}},at="sub_manager_notifications",se=()=>"Notification"in window,ke=()=>se()?Notification.permission:"denied",tr=async()=>{if(!se())return!1;try{return await Notification.requestPermission()==="granted"}catch(t){return console.error("Failed to request notification permission:",t),!1}},Ce=(t,r={})=>{if(!se()||Notification.permission!=="granted")return null;const s={icon:"/favicon.ico",badge:"/favicon.ico",tag:"subscription-reminder",requireInteraction:!1,silent:!1,...r};try{const a=new Notification(t,s);return setTimeout(()=>a.close(),5e3),a}catch(a){return console.error("Failed to send notification:",a),null}},Ie=()=>{try{const t=localStorage.getItem(at);return t?JSON.parse(t):{enabled:!1,reminderDays:[3,1],lastChecked:null}}catch{return{enabled:!1,reminderDays:[3,1],lastChecked:null}}},Te=t=>{localStorage.setItem(at,JSON.stringify(t))},rr=t=>{const r=Ie();if(!r.enabled||Notification.permission!=="granted")return;const s=new Date().toDateString();if(r.lastChecked===s)return;const a=t.filter(n=>!n.isPaused&&r.reminderDays.includes(n.daysLeft));if(a.length>0)if(a.length===1){const n=a[0];Ce("üí≥ Í≤∞Ï†úÏùº ÏïåÎ¶º",{body:`${n.name} Í≤∞Ï†úÏùºÏù¥ ${n.daysLeft===0?"Ïò§Îäò":`${n.daysLeft}Ïùº ÌõÑ`}ÏûÖÎãàÎã§. (${n.cost.toLocaleString()}Ïõê)`,tag:`subscription-${n.id}`})}else{const n=a.reduce((i,u)=>i+u.cost,0);Ce("üí≥ Í≤∞Ï†úÏùº ÏïåÎ¶º",{body:`${a.length}Í∞úÏùò Íµ¨ÎèÖ Í≤∞Ï†úÍ∞Ä Í≥ß ÏòàÏ†ïÎêòÏñ¥ ÏûàÏäµÎãàÎã§. (Ï¥ù ${n.toLocaleString()}Ïõê)`,tag:"subscription-multiple"})}Te({...r,lastChecked:s})},sr=async()=>{const t=await tr();return t&&(Te({enabled:!0,reminderDays:[3,1,0],lastChecked:null}),Ce("üîî ÏïåÎ¶º ÌôúÏÑ±Ìôî",{body:"Íµ¨ÎèÖ Í≤∞Ï†úÏùº ÏïåÎ¶ºÏù¥ ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.",tag:"notification-enabled"})),t},ar=()=>{const t=Ie();Te({...t,enabled:!1})};function nr({subscriptionCount:t,onOpenSettings:r,onOpenSearch:s}){var E;const{isDark:a,toggleTheme:n}=st(),{user:i,userProfile:u,isAdmin:g,isDemo:d,signOut:x}=he(),l=Pe(),[m,h]=o.useState(!1),[c,p]=o.useState(!1);o.useEffect(()=>{const T=()=>{p(window.scrollY>20)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]);const b=async()=>{await x(),l("/login")},w=(u==null?void 0:u.displayName)||(i==null?void 0:i.displayName)||(d?"Ï≤¥Ìóò Ï§ë":"ÏÇ¨Ïö©Ïûê"),f=(u==null?void 0:u.photoURL)||(i==null?void 0:i.photoURL);return e.jsx("header",{className:`sticky top-0 z-30 transition-all duration-300 ${c?"bg-white/80 dark:bg-dark-800/80 backdrop-blur-xl shadow-sm dark:shadow-dark-900/50 py-3":"bg-transparent py-5"}`,children:e.jsxs("div",{className:"max-w-xl mx-auto px-5 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-violet-600 p-2.5 rounded-xl text-white shadow-lg shadow-primary-500/30 transition-all hover:scale-110 hover:shadow-xl hover:shadow-primary-500/40 active:scale-95 cursor-pointer neon-glow",children:e.jsx(De,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight leading-none",children:"Íµ¨ÎèÖ Îß§ÎãàÏ†Ä"}),e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-dark-400 font-medium tracking-wide ml-0.5",children:"PRO EDITION"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 text-xs font-medium text-gray-600 dark:text-dark-300 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md border border-gray-100 dark:border-dark-700 px-3 py-1.5 rounded-full shadow-sm hover-lift",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 pulse-dot"}),e.jsx("span",{className:"font-bold gradient-text",children:t}),e.jsx("span",{children:"Íµ¨ÎèÖÏ§ë"})]}),e.jsxs("button",{onClick:s,className:"hidden sm:flex items-center gap-2 px-3 py-2.5 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-white/80 dark:hover:bg-dark-700/80 hover:text-primary-600 dark:hover:text-primary-400 hover:shadow-md border border-transparent hover:border-gray-100 dark:hover:border-dark-600 transition-all duration-200 backdrop-blur-sm focus-visible-ring","aria-label":"Í≤ÄÏÉâ",children:[e.jsx(je,{size:18}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-dark-700 rounded text-[10px] font-mono",children:"‚åòK"})})]}),e.jsx("button",{onClick:s,className:"sm:hidden w-11 h-11 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-white/80 dark:hover:bg-dark-700/80 hover:text-primary-600 dark:hover:text-primary-400 transition-all flex items-center justify-center touch-feedback focus-visible-ring","aria-label":"Í≤ÄÏÉâ",children:e.jsx(je,{size:20})}),e.jsx("button",{onClick:n,className:"w-11 h-11 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-white/80 dark:hover:bg-dark-700/80 hover:text-primary-600 dark:hover:text-primary-400 hover:shadow-md border border-transparent hover:border-gray-100 dark:hover:border-dark-600 transition-all duration-200 hover:scale-110 active:scale-95 backdrop-blur-sm focus-visible-ring flex items-center justify-center touch-feedback","aria-label":"ÌÖåÎßà Î≥ÄÍ≤Ω",children:a?e.jsx(Be,{size:20}):e.jsx(Ge,{size:20})}),e.jsx("button",{onClick:r,className:"w-11 h-11 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-white/80 dark:hover:bg-dark-700/80 hover:text-primary-600 dark:hover:text-primary-400 hover:shadow-md border border-transparent hover:border-gray-100 dark:hover:border-dark-600 transition-all duration-200 hover:rotate-90 hover:scale-110 active:scale-95 backdrop-blur-sm focus-visible-ring flex items-center justify-center touch-feedback","aria-label":"ÏÑ§Ï†ï",children:e.jsx(ht,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>h(!m),className:"flex items-center gap-2 pl-1 pr-0.5 rounded-xl transition-colors",children:e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 p-[2px] shadow-md shadow-primary-500/20 hover:shadow-lg hover:shadow-primary-500/30 transition-all",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white dark:bg-dark-800 flex items-center justify-center overflow-hidden",children:f?e.jsx("img",{src:f,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-bold text-xs",children:((E=w[0])==null?void 0:E.toUpperCase())||"U"})})})}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-3 w-56 bg-white dark:bg-dark-800 rounded-2xl shadow-xl border border-gray-100 dark:border-dark-700 z-20 overflow-hidden animate-slide-up origin-top-right",children:[e.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-dark-700/50 border-b border-gray-100 dark:border-dark-600",children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-sm truncate",children:w}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 truncate mt-0.5 font-medium",children:(i==null?void 0:i.email)||"Ï≤¥Ìóò Î™®Îìú"})]}),e.jsxs("div",{className:"p-1.5 space-y-0.5",children:[!d&&e.jsxs("button",{onClick:()=>{h(!1),l("/profile")},className:"w-full px-3 py-2.5 text-left text-sm font-medium text-gray-700 dark:text-dark-200 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-xl flex items-center gap-3 transition-colors",children:[e.jsx(pt,{size:16,className:"text-gray-400 dark:text-dark-400"}),"ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï"]}),g&&e.jsxs("button",{onClick:()=>{h(!1),l("/admin")},className:"w-full px-3 py-2.5 text-left text-sm font-medium text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-xl flex items-center gap-3 transition-colors",children:[e.jsx(bt,{size:16}),"Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú"]}),e.jsxs("button",{onClick:()=>{h(!1),b()},className:"w-full px-3 py-2.5 text-left text-sm font-medium text-gray-700 dark:text-dark-200 hover:bg-red-50 dark:hover:bg-red-900/10 hover:text-red-600 dark:hover:text-red-400 rounded-xl flex items-center gap-3 transition-colors",children:[e.jsx(ft,{size:16,className:"text-gray-400 dark:text-dark-400 group-hover:text-red-500"}),d?"Ï≤¥Ìóò Ï¢ÖÎ£å":"Î°úÍ∑∏ÏïÑÏõÉ"]})]})]})]})]})]})]})})}function nt({isOpen:t,onClose:r,title:s,items:a,type:n="timeline",totalCost:i}){if(!t)return null;const u=g=>g.toLocaleString();return e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center backdrop-blur-sm p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-scaleIn",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:s}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(ie,{size:20})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-2",children:a.length===0?e.jsx("div",{className:"p-8 text-center text-gray-400 dark:text-dark-500 text-sm",children:"Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§"}):e.jsx("div",{className:"space-y-1",children:a.map(g=>{const d=g.customColor||M[g.category]||M.Etc;return e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-xl transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:d},children:g.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm",children:g.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-dark-400 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full",style:{backgroundColor:d}}),ae[g.category]||g.category,n==="timeline"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-dark-600",children:"‚Ä¢"}),e.jsxs("span",{children:["Îß§Ïõî ",g.billingDay,"Ïùº"]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[u(g.cost),"Ïõê"]}),n==="chart"&&i>0&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-dark-400",children:[Math.round(g.cost/i*100),"%"]})]})]},g.id)})})}),n==="chart"&&i>0&&e.jsxs("div",{className:"px-5 py-4 bg-gray-50 dark:bg-dark-900 border-t border-gray-100 dark:border-dark-700 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-300",children:"Ï¥ùÍ≥Ñ"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[u(i),"Ïõê"]})]})]})})}function or({items:t}){const r=new Date().getDate(),[s,a]=o.useState(null),[n,i]=o.useState(!1),u=o.useMemo(()=>[...t].filter(d=>!d.isPaused).sort((d,x)=>{let l=d.billingDay<r?d.billingDay+31:d.billingDay,m=x.billingDay<r?x.billingDay+31:x.billingDay;return l-m}),[t,r]);if(u.length===0)return e.jsx("div",{className:"text-xs text-white/60 text-center py-4",children:"Í≤∞Ï†ú ÏòàÏ†ïÏù∏ Íµ¨ÎèÖÏù¥ ÏóÜÏäµÎãàÎã§"});const g=u.slice(0,7);return e.jsxs("div",{className:"relative pt-2 pb-4",children:[e.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:g.map((d,x)=>{const l=d.billingDay<r?(d.billingDay+31-r)/31:(d.billingDay-r)/31,m=d.customColor||M[d.category]||M.Etc;return e.jsx("div",{className:"absolute h-full w-1.5 rounded-full transition-all hover:w-2",style:{left:`${l*100}%`,backgroundColor:m,boxShadow:`0 0 4px ${m}80`}},d.id)})}),e.jsx("div",{className:"flex justify-between mt-4 px-1 gap-1",children:g.slice(0,5).map((d,x)=>{const l=d.billingDay<r,m=d.billingDay===r,h=d.customColor||M[d.category]||M.Etc,c=s===d.id;return e.jsxs("div",{className:"relative flex flex-col items-center group cursor-pointer",style:{flex:`0 0 ${100/5}%`},onMouseEnter:()=>a(d.id),onMouseLeave:()=>a(null),children:[c&&e.jsxs("div",{className:"absolute -top-14 left-1/2 -translate-x-1/2 px-2.5 py-1.5 rounded-lg text-xs whitespace-nowrap z-10 shadow-lg animate-fadeIn",style:{backgroundColor:h,color:"white"},children:[e.jsx("div",{className:"font-bold",children:d.name}),e.jsxs("div",{className:"text-white/80 text-[10px]",children:[d.cost.toLocaleString(),"Ïõê"]}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-1 w-2 h-2 rotate-45",style:{backgroundColor:h}})]}),e.jsx("div",{className:`w-3.5 h-3.5 rounded-full border-2 transition-all duration-200 ${m?"animate-pulse scale-125":l?"opacity-40":c?"scale-125 shadow-lg":"group-hover:scale-110"}`,style:{backgroundColor:h,borderColor:"rgba(255,255,255,0.6)",boxShadow:c?`0 0 8px ${h}`:"none"}}),e.jsx("span",{className:`text-[10px] font-semibold mt-1.5 transition-colors ${m?"text-white":l?"text-white/40":c?"text-white":"text-white/80"}`,children:m?"Ïò§Îäò":`${d.billingDay}Ïùº`}),e.jsx("span",{className:`text-[10px] max-w-full text-center transition-colors ${m?"text-white font-bold":l?"text-white/40":c?"text-white font-medium":"text-white/70"}`,children:d.name.length>5?d.name.slice(0,5)+"..":d.name})]},d.id)})}),u.length>5&&e.jsx("div",{className:"text-center mt-2",children:e.jsxs("button",{onClick:()=>i(!0),className:"text-[10px] text-white/50 hover:text-white/70 transition-colors cursor-pointer hover:underline",children:["+",u.length-5,"Í∞ú Îçî ÏûàÏùå"]})}),e.jsx(nt,{isOpen:n,onClose:()=>i(!1),title:"Ïù¥Îã¨Ïùò Í≤∞Ï†ú ÏòàÏ†ï",items:u,type:"timeline"})]})}const ir=K.memo(function({totalMonthlyCost:r,totalYearlyCost:s,subscriptions:a,previousMonthCost:n=null}){const i=n?((r-n)/n*100).toFixed(1):null;return e.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 via-primary-600 to-violet-600 dark:from-primary-600 dark:via-primary-700 dark:to-violet-700 rounded-3xl p-5 sm:p-6 text-white shadow-xl shadow-primary-500/30 dark:shadow-primary-900/40 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/40 tilt-card neon-glow",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-6 -mt-6 w-36 h-36 rounded-full bg-white opacity-[0.1] blur-2xl animate-pulse",style:{animationDuration:"4s"}}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-6 -mb-6 w-28 h-28 rounded-full bg-white opacity-[0.08] blur-xl animate-pulse",style:{animationDuration:"5s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-24 h-24 rounded-full bg-violet-300 opacity-[0.12] blur-2xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-0 w-16 h-16 rounded-full bg-indigo-300 opacity-[0.1] blur-xl"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"text-white/80 text-sm sm:text-base font-medium mb-2 flex items-center gap-2",children:["Ïù¥Î≤à Îã¨ ÏòàÏÉÅ ÏßÄÏ∂úÏï°",i!==null&&e.jsxs("span",{className:`text-xs sm:text-sm px-2 sm:px-2.5 py-1 rounded-full flex items-center gap-1 ${parseFloat(i)>0?"bg-red-500/20 text-red-200":"bg-green-500/20 text-green-200"}`,children:[parseFloat(i)>0?e.jsx(Re,{size:12}):e.jsx(Ve,{size:12}),Math.abs(parseFloat(i)),"%"]})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsx("h2",{className:"text-4xl sm:text-5xl font-extrabold tracking-tight number-display-lg drop-shadow-sm",children:r.toLocaleString()}),e.jsx("span",{className:"text-xl sm:text-2xl opacity-90 font-medium",children:"Ïõê"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-sm sm:text-base text-white/70 mb-5 sm:mb-6",children:[e.jsxs("span",{children:["Ïó∞Í∞Ñ ÏïΩ ",Math.round(s/1e4).toLocaleString(),"ÎßåÏõê"]}),e.jsx("span",{className:"hidden sm:inline text-white/30",children:"|"}),e.jsxs("span",{children:["Ïùº ÌèâÍ∑† ",Math.round(r/30).toLocaleString(),"Ïõê"]})]})]}),e.jsxs("div",{className:"bg-white/[0.08] backdrop-blur-md rounded-2xl p-4 sm:p-5 border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-white/80 flex items-center gap-2",children:[e.jsx(ge,{size:14}),"Í≤∞Ï†ú ÏùºÏ†ï"]}),e.jsxs("span",{className:"text-xs text-white/60",children:[new Date().getMonth()+1,"Ïõî"]})]}),e.jsx(or,{items:a})]})]})}),lr=K.memo(function({items:r}){return!r||r.length===0?null:e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl p-4 shadow-sm border-l-4 border-red-500 dark:border-red-400 flex items-start gap-3 animate-fade-in",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded-full text-red-500 dark:text-red-400 flex-shrink-0",children:e.jsx(Ne,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:["Í≥ß Í≤∞Ï†úÎêòÎäî ÏÑúÎπÑÏä§",e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-[10px] px-1.5 py-0.5 rounded-full font-medium",children:r.length})]}),e.jsx("div",{className:"mt-2 space-y-1.5",children:r.map(s=>e.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b border-gray-50 dark:border-dark-700 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:s.customColor||"#E50914"}}),e.jsx("span",{className:"text-gray-600 dark:text-dark-300 truncate",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:[s.cost.toLocaleString(),"Ïõê"]}),e.jsx("span",{className:`font-bold text-xs px-2 py-0.5 rounded ${s.daysLeft===0?"bg-red-500 text-white":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:s.daysLeft===0?"Ïò§Îäò":`D-${s.daysLeft}`})]})]},s.id))})]})]})}),cr=K.memo(function({data:r,onCategoryClick:s}){const[a,n]=o.useState(null),[i,u]=o.useState(!1);if(!r||r.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400 dark:text-dark-500 bg-gray-50 dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx(We,{className:"w-8 h-8 mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"})]});const g=r.reduce((h,c)=>h+c.cost,0);let d=0;const x=h=>{const c=Math.cos(2*Math.PI*h),p=Math.sin(2*Math.PI*h);return[c,p]},l=r.map(h=>{const c=h.cost/g,p=d;d+=c;const b=d,[w,f]=x(p),[E,T]=x(b),v=c>.5?1:0,O=["M 0 0",`L ${w} ${f}`,`A 1 1 0 ${v} 1 ${E} ${T}`,"L 0 0"].join(" "),F=h.customColor||M[h.category]||M.Etc,L=a===h.id;return e.jsx("path",{d:O,fill:F,className:"chart-segment cursor-pointer",style:{opacity:a&&!L?.4:1,transform:L?"scale(1.05)":"scale(1)",filter:L?`drop-shadow(0 0 6px ${F}80)`:"none",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},onMouseEnter:()=>n(h.id),onMouseLeave:()=>n(null),onClick:()=>s==null?void 0:s(h.category)},h.id)}),m=r.find(h=>h.id===a);return e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative w-36 h-36 flex-shrink-0",children:[e.jsx("svg",{viewBox:"-1.1 -1.1 2.2 2.2",className:"transform -rotate-90 w-full h-full drop-shadow-sm",children:l}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-20 h-20 bg-white dark:bg-dark-800 rounded-full flex flex-col items-center justify-center shadow-inner dark:shadow-dark-900/50",children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-white truncate max-w-[70px]",children:m.name}),e.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-dark-400",children:[Math.round(m.cost/g*100),"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"Ïù¥Î≤àÎã¨"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800 dark:text-white",children:[Math.round(g/1e4),"ÎßåÏõê"]})]})})})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 gap-1.5 text-xs max-h-36 overflow-y-auto scrollbar-hide",children:[r.slice(0,6).map(h=>{const c=h.customColor||M[h.category]||M.Etc,p=a===h.id;return e.jsxs("div",{className:`flex items-center justify-between p-1.5 rounded-lg transition-all duration-200 cursor-pointer ${p?"bg-gray-100 dark:bg-dark-700 scale-102":"hover:bg-gray-50 dark:hover:bg-dark-700/50"}`,onMouseEnter:()=>n(h.id),onMouseLeave:()=>n(null),onClick:()=>s==null?void 0:s(h.category),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:c}}),e.jsx("span",{className:"truncate max-w-[80px] text-gray-600 dark:text-dark-300",children:h.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-400 dark:text-dark-500 text-[10px]",children:[h.cost.toLocaleString(),"Ïõê"]}),e.jsxs("span",{className:"font-semibold text-gray-800 dark:text-white w-8 text-right",children:[Math.round(h.cost/g*100),"%"]})]})]},h.id)}),r.length>6&&e.jsxs("button",{onClick:()=>u(!0),className:"text-gray-400 dark:text-dark-500 pl-4 text-[10px] hover:text-gray-600 dark:hover:text-dark-300 transition-colors text-left",children:["...Ïô∏ ",r.length-6,"Í∞ú"]})]}),e.jsx(nt,{isOpen:i,onClose:()=>u(!1),title:"ÏßÄÏ∂ú ÏÉÅÏÑ∏ Î∂ÑÏÑù",items:r,type:"chart",totalCost:g})]})});function dr({subscriptions:t}){const r=o.useMemo(()=>{const a=[],n=t.filter(x=>!x.isPaused),i={};n.forEach(x=>{i[x.category]=(i[x.category]||0)+1}),Object.entries(i).forEach(([x,l])=>{if(l>=2){const h=n.filter(c=>c.category===x).reduce((c,p)=>c+p.cost,0);a.push({type:"duplicate",icon:yt,title:`${ae[x]||x} Ï§ëÎ≥µ Íµ¨ÎèÖ`,description:`${l}Í∞úÏùò Íµ¨ÎèÖÏù¥ ÏûàÏäµÎãàÎã§. ÌÜµÌï©ÏùÑ Í≥†Î†§Ìï¥Î≥¥ÏÑ∏Ïöî.`,savings:`Ïõî ${Math.round(h*.3).toLocaleString()}Ïõê Ï†àÏïΩ Í∞ÄÎä•`,priority:l>=3?"high":"medium"})}});const u=t.filter(x=>x.isPaused);u.length>0&&a.push({type:"paused",icon:Ne,title:`${u.length}Í∞ú ÏùºÏãúÏ†ïÏßÄ Ï§ë`,description:"ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Íµ¨ÎèÖÏùÄ ÏôÑÏ†Ñ Ìï¥ÏßÄÎ•º Í≥†Î†§Ìï¥Î≥¥ÏÑ∏Ïöî.",savings:`Ïõî ${u.reduce((x,l)=>x+l.cost,0).toLocaleString()}Ïõê Ï†àÏïΩ Í∞ÄÎä•`,priority:"low"});const g=n.filter(x=>(!x.billingCycle||x.billingCycle==="monthly")&&x.cost>=1e4);if(g.length>0){const x=g.reduce((l,m)=>l+m.cost*12*.15,0);a.push({type:"yearly",icon:Ve,title:"Ïó∞Í∞Ñ Í≤∞Ï†ú Ï†ÑÌôò Ï∂îÏ≤ú",description:`${g.length}Í∞ú Íµ¨ÎèÖÏùÑ Ïó∞Í∞Ñ Í≤∞Ï†úÎ°ú Ï†ÑÌôòÌïòÎ©¥ ÏïΩ 15% Ï†àÏïΩ Í∞ÄÎä•`,savings:`Ïó∞ ${Math.round(x).toLocaleString()}Ïõê Ï†àÏïΩ ÏòàÏÉÅ`,priority:"medium"})}const d=n.filter(x=>x.cost>=2e4);if(d.length>=2){const x=d.reduce((l,m)=>l+m.cost,0);a.push({type:"high-cost",icon:Ne,title:"Í≥†Í∞Ä Íµ¨ÎèÖ Ï£ºÏùò",description:`2ÎßåÏõê Ïù¥ÏÉÅ Íµ¨ÎèÖÏù¥ ${d.length}Í∞ú ÏûàÏäµÎãàÎã§.`,savings:`Ïõî ${x.toLocaleString()}Ïõê ÏßÄÏ∂ú Ï§ë`,priority:"high"})}return a.sort((x,l)=>{const m={high:0,medium:1,low:2};return m[x.priority]-m[l.priority]})},[t]);if(r.length===0)return null;const s=a=>{switch(a){case"high":return"text-red-500 bg-red-50 dark:bg-red-900/20";case"medium":return"text-amber-500 bg-amber-50 dark:bg-amber-900/20";default:return"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}};return e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(kt,{className:"w-4 h-4 text-amber-500"}),"Ï†àÏïΩ ÌåÅ"]}),e.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-dark-500 bg-gray-100 dark:bg-dark-700 px-2 py-1 rounded-full",children:[r.length,"Í∞ú Ï†úÏïà"]})]}),e.jsx("div",{className:"space-y-3",children:r.slice(0,3).map((a,n)=>{const i=a.icon;return e.jsx("div",{className:`p-3 rounded-xl ${s(a.priority)} transition-all hover:scale-[1.02]`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(i,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 dark:text-white",children:a.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-dark-300 mt-0.5",children:a.description}),e.jsxs("p",{className:"text-xs font-bold text-primary-600 dark:text-primary-400 mt-1",children:["üí∞ ",a.savings]})]})]})},n)})})]})}const mr=K.memo(function({subscriptions:r,totalMonthlyCost:s,totalYearlyCost:a,categoryBreakdown:n,onCategoryClick:i}){const u=o.useMemo(()=>{const m=["1Ïõî","2Ïõî","3Ïõî","4Ïõî","5Ïõî","6Ïõî","7Ïõî","8Ïõî","9Ïõî","10Ïõî","11Ïõî","12Ïõî"],h=new Date().getMonth();return Array.from({length:6},(c,p)=>{const b=(h-5+p+12)%12,w=(b%3-1)*.1,f=Math.round(s*(1+w));return{month:m[b],cost:p===5?s:f,isCurrentMonth:p===5}})},[s]),g=Math.max(...u.map(m=>m.cost)),d=o.useMemo(()=>Object.entries(n).sort((m,h)=>h[1].total-m[1].total).slice(0,5),[n]),x=o.useMemo(()=>[...r].filter(m=>!m.isPaused).sort((m,h)=>h.cost-m.cost)[0],[r]),l=r.filter(m=>!m.isPaused);return r.length===0?null:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700 transition-all card-shadow-hover",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2.5 text-base",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary-50 dark:bg-primary-900/20 text-primary-500",children:e.jsx(We,{className:"w-5 h-5"})}),"ÏßÄÏ∂ú Î∂ÑÏÑù"]}),e.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 bg-gray-100 dark:bg-dark-700 px-3 py-1.5 rounded-full",children:[l.length,"Í∞ú Íµ¨ÎèÖ Ï§ë"]})]}),e.jsx("div",{className:"flex justify-center py-2",children:e.jsx(cr,{data:l,onCategoryClick:i})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 sm:p-5 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700 relative overflow-hidden group card-shadow-hover hover-lift",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-25 transition-opacity duration-300",children:e.jsx(ue,{size:48})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(ue,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Ïõî ÌèâÍ∑† ÏßÄÏ∂ú"})]}),e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white tracking-tight number-display",children:[Math.round(s).toLocaleString(),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-400 dark:text-dark-500 ml-1",children:"Ïõê"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400 dark:text-dark-500",children:["ÏßÄÎÇúÎã¨ ÎåÄÎπÑ ",e.jsx("span",{className:"text-green-500 font-medium",children:"+2.5%"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 sm:p-5 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700 relative overflow-hidden group card-shadow-hover hover-lift",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-25 transition-opacity duration-300",children:e.jsx(ge,{size:48})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(ge,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Ïó∞Í∞Ñ ÏòàÏÉÅ"})]}),e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white tracking-tight number-display",children:[Math.round(a/1e4).toLocaleString(),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-400 dark:text-dark-500 ml-1",children:"ÎßåÏõê"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 dark:text-dark-500",children:"Í≥†Ï†ï ÏßÄÏ∂ú Ìè¨Ìï®"})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700 card-shadow-hover",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2.5 text-base",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-500",children:e.jsx(Je,{className:"w-5 h-5"})}),"ÏõîÎ≥Ñ Ï∂îÏù¥"]}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-dark-500 font-medium",children:"ÏµúÍ∑º 6Í∞úÏõî"})]}),e.jsx("div",{className:"flex items-end justify-between gap-3 h-40 pt-4 px-2",children:u.map((m,h)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group cursor-pointer",children:[e.jsxs("div",{className:"relative w-full flex justify-col items-end h-full",children:[e.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[m.cost.toLocaleString(),"Ïõê"]}),e.jsx("div",{className:`w-full rounded-t-xl transition-all duration-500 ease-out group-hover:scale-y-105 origin-bottom ${m.isCurrentMonth?"bg-gradient-to-t from-primary-500 to-primary-400 shadow-lg shadow-primary-500/20":"bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600"}`,style:{height:`${m.cost/g*100}%`,minHeight:"12px"}})]}),e.jsx("span",{className:`text-[11px] font-medium ${m.isCurrentMonth?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-dark-500"}`,children:m.month})]},h))})]}),d.length>0&&e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700 card-shadow-hover",children:[e.jsx("div",{className:"flex items-center justify-between mb-5",children:e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2.5 text-base",children:[e.jsx("div",{className:"p-2 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500",children:e.jsx(Re,{className:"w-5 h-5"})}),"Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ"]})}),e.jsx("div",{className:"space-y-4",children:d.map(([m,h])=>{const c=h.total/s*100,p=M[m]||M.Etc;return e.jsxs("button",{onClick:()=>i==null?void 0:i(m),className:"w-full text-left group hover:bg-gray-50 dark:hover:bg-dark-700/50 rounded-xl p-3 -mx-3 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:p}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-dark-200",children:ae[m]||m}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-dark-500 bg-gray-100 dark:bg-dark-700 px-1.5 py-0.5 rounded",children:h.count})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[h.total.toLocaleString(),"Ïõê"]}),e.jsxs("span",{className:"text-xs text-gray-400 w-8 text-right",children:[Math.round(c),"%"]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out group-hover:brightness-110",style:{width:`${c}%`,backgroundColor:p}})})]},m)})})]}),x&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 via-orange-50 to-yellow-50 dark:from-amber-900/10 dark:via-orange-900/10 dark:to-yellow-900/10 p-5 rounded-2xl border border-amber-100 dark:border-amber-900/20 relative overflow-hidden hover-lift card-shadow-hover",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:e.jsx(ue,{size:60})}),e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-500 font-bold uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Top Expense"]}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block",children:x.name}),e.jsxs("span",{className:"text-xs text-amber-600/70 dark:text-amber-500/70",children:["Ï†ÑÏ≤¥ ÏßÄÏ∂úÏùò ",Math.round(x.cost/s*100),"% Ï∞®ÏßÄ"]})]}),e.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400 text-lg bg-white dark:bg-dark-800 px-3 py-1.5 rounded-lg shadow-sm",children:[x.cost.toLocaleString(),"Ïõê"]})]})]}),e.jsx(dr,{subscriptions:r})]})}),ur=K.memo(function({searchQuery:r,onSearchChange:s,selectedCategory:a,onCategoryChange:n,sortBy:i,onSortChange:u,showPaused:g,onShowPausedChange:d}){const x=["All",...Object.keys(M)];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(je,{size:18,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 dark:text-dark-500 transition-colors group-focus-within:text-primary-500"}),e.jsx("input",{type:"text",placeholder:"Íµ¨ÎèÖ ÏÑúÎπÑÏä§ Í≤ÄÏÉâ...",value:r,onChange:l=>s(l.target.value),className:"input-mobile w-full pl-11 pr-4 py-3.5 rounded-2xl border border-gray-200 dark:border-dark-700 bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-dark-500 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all hover:border-gray-300 dark:hover:border-dark-600 focus-visible-ring"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-4 bg-gradient-to-r from-white dark:from-dark-900 to-transparent z-10 pointer-events-none opacity-0 peer-scrolled:opacity-100"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-4 bg-gradient-to-l from-white dark:from-dark-900 to-transparent z-10 pointer-events-none"}),e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide pb-1 -mx-1 px-1 scroll-x",children:x.map(l=>{const m=l==="All"&&!a||a===l;return e.jsxs("button",{onClick:()=>n(l==="All"?null:l),className:`flex items-center gap-2 px-4 py-3 rounded-xl text-sm font-semibold whitespace-nowrap transition-all duration-200 transform active:scale-95 flex-shrink-0 touch-feedback ${m?"bg-gradient-to-r from-primary-500 via-primary-500 to-violet-500 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-gray-100/80 dark:bg-dark-700/80 backdrop-blur-sm text-gray-600 dark:text-dark-300 hover:bg-gray-200 dark:hover:bg-dark-600 hover:scale-102"}`,children:[l!=="All"&&e.jsx("span",{className:`w-3 h-3 rounded-full transition-all ${m?"ring-2 ring-white/50":""}`,style:{backgroundColor:M[l],boxShadow:m?`0 0 8px ${M[l]}`:"none"}}),l==="All"?"Ï†ÑÏ≤¥":ae[l]||l,m&&l!=="All"&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"})]},l)})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:i,onChange:l=>u(l.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800 text-gray-600 dark:text-dark-300 text-sm font-medium cursor-pointer focus:ring-2 focus:ring-primary-500 outline-none min-h-[40px]",children:qt.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx(Xe,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),e.jsxs("label",{className:"flex items-center gap-2.5 cursor-pointer touch-feedback py-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-400",children:"ÏùºÏãúÏ†ïÏßÄ Ìè¨Ìï®"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:l=>d(l.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-dark-700 rounded-full peer peer-checked:bg-primary-500 transition-colors"}),e.jsx("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform peer-checked:translate-x-5"})]})]})]})]})}),ve={Netflix:"https://cdn.simpleicons.org/netflix/E50914","YouTube Premium":"https://cdn.simpleicons.org/youtube/FF0000",YouTube:"https://cdn.simpleicons.org/youtube/FF0000","Disney+":"https://cdn.simpleicons.org/disneyplus/113CCF",Wavve:"https://cdn.simpleicons.org/waze/1C1B1F",Tving:"https://cdn.simpleicons.org/tvtime/FF153C",Watcha:"https://cdn.simpleicons.org/w/FF0558","Amazon Prime Video":"https://cdn.simpleicons.org/amazonprime/00A8E1","Apple TV+":"https://cdn.simpleicons.org/appletv/000000","HBO Max":"https://cdn.simpleicons.org/hbo/000000",Spotify:"https://cdn.simpleicons.org/spotify/1DB954","Apple Music":"https://cdn.simpleicons.org/applemusic/FA233B",Melon:"https://cdn.simpleicons.org/musicbrainz/00CD3C",Genie:"https://cdn.simpleicons.org/genius/3D85C6",Bugs:"https://cdn.simpleicons.org/beatport/FF3366",SoundCloud:"https://cdn.simpleicons.org/soundcloud/FF5500",Tidal:"https://cdn.simpleicons.org/tidal/000000","Coupang Wow":"https://cdn.simpleicons.org/coupang/342971",Coupang:"https://cdn.simpleicons.org/coupang/342971","Naver Plus":"https://cdn.simpleicons.org/naver/03C75A","SSG Ïú†ÎãàÎ≤ÑÏä§":"https://cdn.simpleicons.org/shopify/FF5A5A","Amazon Prime":"https://cdn.simpleicons.org/amazon/FF9900",Notion:"https://cdn.simpleicons.org/notion/000000","ChatGPT Plus":"https://cdn.simpleicons.org/openai/10A37F",ChatGPT:"https://cdn.simpleicons.org/openai/10A37F",Figma:"https://cdn.simpleicons.org/figma/F24E1E","GitHub Copilot":"https://cdn.simpleicons.org/github/000000",GitHub:"https://cdn.simpleicons.org/github/000000",Slack:"https://cdn.simpleicons.org/slack/4A154B",Zoom:"https://cdn.simpleicons.org/zoom/2D8CFF","Adobe CC":"https://cdn.simpleicons.org/adobe/FF0000","Adobe Creative Cloud":"https://cdn.simpleicons.org/adobe/FF0000","Microsoft 365":"https://cdn.simpleicons.org/microsoft/5E5E5E","Google Workspace":"https://cdn.simpleicons.org/google/4285F4",Trello:"https://cdn.simpleicons.org/trello/0052CC",Asana:"https://cdn.simpleicons.org/asana/F06A6A",Linear:"https://cdn.simpleicons.org/linear/5E6AD2",Jira:"https://cdn.simpleicons.org/jira/0052CC","Î∞ÄÎ¶¨Ïùò ÏÑúÏû¨":"https://cdn.simpleicons.org/scribd/FFD700",Duolingo:"https://cdn.simpleicons.org/duolingo/58CC02",Coursera:"https://cdn.simpleicons.org/coursera/0056D2",ÌÅ¥ÎûòÏä§101:"https://cdn.simpleicons.org/udemy/FF6B00",Udemy:"https://cdn.simpleicons.org/udemy/A435F0","LinkedIn Learning":"https://cdn.simpleicons.org/linkedin/0A66C2",Skillshare:"https://cdn.simpleicons.org/skillshare/00FF84","Nike Training Club":"https://cdn.simpleicons.org/nike/000000",Nike:"https://cdn.simpleicons.org/nike/000000",Keep:"https://cdn.simpleicons.org/keepachangelog/00C8FF",Strava:"https://cdn.simpleicons.org/strava/FC4C02",Peloton:"https://cdn.simpleicons.org/peloton/000000","iCloud+":"https://cdn.simpleicons.org/icloud/3478F6",iCloud:"https://cdn.simpleicons.org/icloud/3478F6","Google One":"https://cdn.simpleicons.org/google/4285F4",Dropbox:"https://cdn.simpleicons.org/dropbox/0061FF","1Password":"https://cdn.simpleicons.org/1password/1A8CFF",NordVPN:"https://cdn.simpleicons.org/nordvpn/4687FF",ExpressVPN:"https://cdn.simpleicons.org/expressvpn/DA3940",Bitwarden:"https://cdn.simpleicons.org/bitwarden/175DDC",LastPass:"https://cdn.simpleicons.org/lastpass/D32D27","Xbox Game Pass":"https://cdn.simpleicons.org/xbox/107C10","PlayStation Plus":"https://cdn.simpleicons.org/playstation/003791","Nintendo Switch Online":"https://cdn.simpleicons.org/nintendoswitch/E60012",Steam:"https://cdn.simpleicons.org/steam/000000","EA Play":"https://cdn.simpleicons.org/ea/000000","Discord Nitro":"https://cdn.simpleicons.org/discord/5865F2",Discord:"https://cdn.simpleicons.org/discord/5865F2","Telegram Premium":"https://cdn.simpleicons.org/telegram/26A5E4",Medium:"https://cdn.simpleicons.org/medium/000000","The New York Times":"https://cdn.simpleicons.org/nytimes/000000",Pocket:"https://cdn.simpleicons.org/pocket/EF4056"},we=new Map,gr=t=>{if(!t)return null;if(we.has(t))return we.get(t);let r=null;if(ve[t])r=ve[t];else{const s=t.toLowerCase();for(const[a,n]of Object.entries(ve))if(a.toLowerCase()===s||a.toLowerCase().includes(s)||s.includes(a.toLowerCase())){r=n;break}}return we.set(t,r),r},xr=t=>{if(!t)return null;try{return new URL(t).hostname}catch{return null}},hr=t=>t?`https://www.google.com/s2/favicons?domain=${t}&sz=64`:null,pr=(t,r=null)=>{const s=gr(t);if(s)return s;if(r){const a=xr(r);if(a)return hr(a)}return null};function br({subscription:t,iconOnly:r=!1}){const[s,a]=o.useState(!1),n=()=>{if(!t)return"";const u={name:t.name,cost:t.cost,billingDay:t.billingDay,category:t.category,memo:t.memo,cycle:t.cycle||"monthly",currency:t.currency||"KRW"},g=JSON.stringify(u),d=btoa(encodeURIComponent(g));return`${window.location.href.split("#")[0]}#/?import=${d}`},i=u=>{u.stopPropagation();const g=n();navigator.clipboard.writeText(g),a(!0),setTimeout(()=>a(!1),2e3)};return r?e.jsx("button",{onClick:i,className:`w-10 h-10 sm:w-11 sm:h-11 rounded-xl transition-all flex items-center justify-center touch-feedback ${s?"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400":"text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20"}`,title:"Í≥µÏú† ÎßÅÌÅ¨ Î≥µÏÇ¨",children:s?e.jsx(xe,{size:18}):e.jsx(Oe,{size:18})}):e.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 text-xs font-medium rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",title:"Í≥µÏú† ÎßÅÌÅ¨ Î≥µÏÇ¨",children:[s?e.jsx(xe,{size:14}):e.jsx(Oe,{size:14}),"Í≥µÏú†"]})}const fr=K.memo(function({subscription:r,onEdit:s,onDelete:a,onTogglePause:n,isDragging:i=!1,dragHandleProps:u={}}){const[g,d]=o.useState(0),[x,l]=o.useState(!1),m=o.useRef(0),h=o.useRef(0),c=o.useRef(null),p=80,b=o.useCallback(V=>{m.current=V.touches[0].clientX,h.current=V.touches[0].clientY,l(!0)},[]),w=o.useCallback(V=>{if(!x)return;const ee=V.touches[0].clientX-m.current,le=V.touches[0].clientY-h.current;if(Math.abs(le)>Math.abs(ee)&&Math.abs(le)>10){l(!1),d(0);return}if(Math.abs(ee)>10){V.preventDefault();const ce=Math.max(-140,Math.min(p+20,ee));d(ce)}},[x]),f=o.useCallback(()=>{x&&(l(!1),g<-120?a(r.id):g>p&&n(r.id),d(0))},[x,g,r.id,a,n]),E=()=>g>p*.5?r.isPaused?"rgba(34, 197, 94, 0.9)":"rgba(245, 158, 11, 0.9)":g<-p*.5?"rgba(239, 68, 68, 0.9)":"transparent",{id:T,name:v,cost:O,billingDay:F,billingCycle:L,category:A,url:j,customColor:N,isPaused:S,trialEndDate:B,daysLeft:z}=r,U=N||M[A]||M.Etc,q=Xt(B),D=q>=0,[P,J]=o.useState(!1),H=pr(v,j),G=o.useMemo(()=>new Date().getDate(),[]),Z=Math.min(100,Math.max(0,G/30*100));return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl",ref:c,children:[e.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-6 rounded-2xl transition-colors",style:{backgroundColor:E()},children:[e.jsxs("div",{className:`flex items-center gap-2 text-white transition-opacity ${g<-p*.3?"opacity-100":"opacity-0"}`,children:[e.jsx(Se,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"ÏÇ≠Ï†ú"})]}),e.jsxs("div",{className:`flex items-center gap-2 text-white transition-opacity ${g>p*.3?"opacity-100":"opacity-0"}`,children:[S?e.jsx(Fe,{size:20}):e.jsx(be,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:S?"Ïû¨Í∞ú":"ÏùºÏãúÏ†ïÏßÄ"})]})]}),e.jsxs("div",{className:`group bg-white dark:bg-dark-800 p-4 sm:p-5 rounded-2xl shadow-sm border transition-all relative overflow-hidden ${i?"shadow-xl scale-105 z-50":"tilt-card card-shadow-hover"} ${S?"border-gray-200 dark:border-dark-700 opacity-60":z<=3?"border-red-200 dark:border-red-900/50 glow-urgent ring-1 ring-red-100 dark:ring-red-900/30":"border-gray-100 dark:border-dark-700 hover:border-primary-200 dark:hover:border-primary-800"}`,style:{transform:`translateX(${g}px)`,transition:x?"none":"transform 0.3s ease-out"},onTouchStart:b,onTouchMove:w,onTouchEnd:f,...u,children:[!S&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-primary-500/10 dark:bg-primary-400/10 transition-all duration-1000",style:{width:`${Z}%`}}),e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`relative w-14 h-14 rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg transition-all duration-300 group-hover:scale-115 group-hover:rotate-6 overflow-hidden ${S?"grayscale":""}`,style:{background:S?U:`linear-gradient(135deg, ${U} 0%, ${U}CC 100%)`,boxShadow:S?"none":`0 10px 20px -4px ${U}50`},children:[H&&!P?e.jsx("img",{src:H,alt:v,className:"w-8 h-8 object-contain",onError:()=>J(!0)}):v.slice(0,1).toUpperCase(),S&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-500 rounded-full flex items-center justify-center shadow-md border-2 border-white dark:border-dark-800",children:e.jsx(be,{size:10,className:"text-white"})}),j&&!S&&e.jsx("div",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-white/30 rounded-full m-1 backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-base leading-tight mb-1",children:v}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"px-2.5 py-1 rounded-lg font-medium",style:{backgroundColor:`${U}15`,color:U},children:ae[A]||A}),D&&e.jsxs("span",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400 font-semibold",children:[e.jsx(re,{size:12}),"D-",q]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg sm:text-xl number-display ${S?"text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:[O.toLocaleString(),e.jsx("span",{className:"text-xs sm:text-sm font-normal text-gray-500 dark:text-dark-400 ml-0.5",children:"Ïõê"})]}),L&&L!=="monthly"&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-dark-400 uppercase font-medium tracking-wider",children:["/",L==="yearly"?"Year":"Week"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-dark-700/50 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-dark-300",children:[e.jsx(De,{size:14,className:"text-gray-500"}),e.jsxs("span",{children:["Îß§Ïõî ",e.jsxs("span",{className:"font-semibold text-gray-800 dark:text-dark-200",children:[F,"Ïùº"]})," Í≤∞Ï†ú"]})]}),e.jsxs("div",{className:`flex items-center gap-1.5 text-sm font-bold px-3 py-1.5 rounded-xl ${S?"bg-gray-100 text-gray-400 dark:bg-dark-700 dark:text-dark-500":z===0?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 animate-pulse":z<=3?"bg-red-50 text-red-500 dark:bg-red-900/10 dark:text-red-400":"bg-primary-50 text-primary-600 dark:bg-primary-900/10 dark:text-primary-400"}`,children:[e.jsx(He,{size:14}),S?"Ï†ïÏßÄÎê®":z===0?"Ïò§Îäò Í≤∞Ï†ú":`${z}Ïùº ÎÇ®Ïùå`]})]}),e.jsxs("div",{className:"flex justify-end items-center gap-1 sm:gap-2",children:[e.jsx(br,{subscription:r,iconOnly:!0}),j&&e.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 sm:w-11 sm:h-11 rounded-xl text-gray-400 hover:text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all flex items-center justify-center touch-feedback",title:"ÏÑúÎπÑÏä§ Î∞©Î¨∏",children:e.jsx(Ye,{size:18})}),e.jsx("div",{className:"w-px h-4 bg-gray-100 dark:bg-dark-700 mx-1"}),e.jsx("button",{onClick:()=>s(r),className:"w-10 h-10 sm:w-11 sm:h-11 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl transition-all hover:scale-110 active:scale-95 flex items-center justify-center touch-feedback",title:"ÏàòÏ†ï",children:e.jsx(vt,{size:18})}),e.jsx("button",{onClick:()=>n(T),className:`w-10 h-10 sm:w-11 sm:h-11 rounded-xl transition-all flex items-center justify-center touch-feedback ${S?"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20"}`,title:S?"Ïû¨Í∞ú":"ÏùºÏãúÏ†ïÏßÄ",children:S?e.jsx(Fe,{size:18}):e.jsx(be,{size:18})}),e.jsx("button",{onClick:()=>a(T),className:"w-10 h-10 sm:w-11 sm:h-11 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all hover:scale-110 active:scale-95 flex items-center justify-center touch-feedback",title:"ÏÇ≠Ï†ú",children:e.jsx(Se,{size:18})})]})]})]})}),yr=K.memo(function({subscriptions:r,searchQuery:s,selectedCategory:a,sortBy:n,showPaused:i,onEdit:u,onDelete:g,onTogglePause:d,onAddNew:x,onReorder:l}){const[m,h]=o.useState(null),[c,p]=o.useState(null),[b,w]=o.useState([]),f=o.useMemo(()=>{let j=[...r];if(s){const N=s.toLowerCase();j=j.filter(S=>S.name.toLowerCase().includes(N)||S.category.toLowerCase().includes(N))}if(a&&(j=j.filter(N=>N.category===a)),i||(j=j.filter(N=>!N.isPaused)),n==="custom"&&b.length>0)return j.sort((N,S)=>{const B=b.indexOf(N.id),z=b.indexOf(S.id);return B===-1&&z===-1?0:B===-1?1:z===-1?-1:B-z}),j;switch(n){case"daysLeft":j.sort((N,S)=>(N.daysLeft||0)-(S.daysLeft||0));break;case"cost-desc":j.sort((N,S)=>S.cost-N.cost);break;case"cost-asc":j.sort((N,S)=>N.cost-S.cost);break;case"name":j.sort((N,S)=>N.name.localeCompare(S.name,"ko"));break;case"category":j.sort((N,S)=>N.category.localeCompare(S.category));break}return j},[r,s,a,n,i,b]),E=o.useCallback((j,N)=>{h(N.id),j.dataTransfer.effectAllowed="move",j.dataTransfer.setData("text/plain",N.id)},[]),T=o.useCallback((j,N)=>{j.preventDefault(),j.dataTransfer.dropEffect="move",N.id!==m&&p(N.id)},[m]),v=o.useCallback(()=>{p(null)},[]),O=o.useCallback((j,N)=>{if(j.preventDefault(),!m||m===N.id){h(null),p(null);return}const S=f.map(U=>U.id),B=S.indexOf(m),z=S.indexOf(N.id);if(B!==-1&&z!==-1){const U=[...S];U.splice(B,1),U.splice(z,0,m),w(U),l&&l(U)}h(null),p(null)},[m,f,l]),F=o.useCallback(()=>{h(null),p(null)},[]),L=o.useMemo(()=>{if(n!=="category")return null;const j={};return f.forEach(N=>{j[N.category]||(j[N.category]=[]),j[N.category].push(N)}),j},[f,n]);if(r.length===0)return e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-dark-700 rounded-full flex items-center justify-center",children:e.jsx(Ke,{size:24,className:"text-gray-400 dark:text-dark-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm mb-4",children:"Îì±Î°ùÎêú Íµ¨ÎèÖ ÏÑúÎπÑÏä§Í∞Ä ÏóÜÏäµÎãàÎã§."}),e.jsx("button",{onClick:x,className:"text-primary-600 dark:text-primary-400 text-sm font-bold hover:underline",children:"+ Ï≤´ Íµ¨ÎèÖ Ï∂îÍ∞ÄÌïòÍ∏∞"})]});if(f.length===0)return e.jsx("div",{className:"text-center py-8 bg-white dark:bg-dark-800 rounded-2xl",children:e.jsx("p",{className:"text-gray-400 dark:text-dark-500 text-sm",children:"Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§."})});const A=(j,N)=>e.jsxs("div",{className:`subscription-item relative ${c===j.id?"ring-2 ring-primary-500 ring-offset-2 rounded-2xl":""}`,style:{animationDelay:`${N*50}ms`},draggable:!0,onDragStart:S=>E(S,j),onDragOver:S=>T(S,j),onDragLeave:v,onDrop:S=>O(S,j),onDragEnd:F,children:[e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing hidden md:flex",children:e.jsx(wt,{size:16,className:"text-gray-400"})}),e.jsx(fr,{subscription:j,onEdit:u,onDelete:g,onTogglePause:d,isDragging:m===j.id})]},j.id);return e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(Re,{className:"w-4 h-4 text-primary-500"}),"Íµ¨ÎèÖ Î¶¨Ïä§Ìä∏",e.jsxs("span",{className:"text-xs font-normal text-gray-400 dark:text-dark-500",children:["(",f.length,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n==="daysLeft"&&e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"Í≤∞Ï†úÏùº Ïàú"}),e.jsx("span",{className:"text-[10px] text-primary-500 dark:text-primary-400",children:"üì± Ïä§ÏôÄÏù¥ÌîÑÎ°ú ÏÇ≠Ï†ú/Ï†ïÏßÄ"})]})]}),e.jsx("div",{className:"space-y-3",children:L?Object.entries(L).map(([j,N])=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 mb-2 pl-1",children:[j," (",N.length,")"]}),e.jsx("div",{className:"space-y-3",children:N.map((S,B)=>A(S,B))})]},j)):f.map((j,N)=>A(j,N))})]})});function kr({isOpen:t,onClose:r,onSave:s,editData:a=null}){const[n,i]=o.useState({name:"",cost:"",billingDay:1,billingCycle:"monthly",category:"OTT",url:"",customColor:"",notes:"",trialEndDate:"",sharedWith:1,currency:"KRW"}),[u,g]=o.useState({}),[d,x]=o.useState(!0);o.useEffect(()=>{a?(i({name:a.name||"",cost:a.cost||"",billingDay:a.billingDay||1,billingCycle:a.billingCycle||"monthly",billingMonth:a.billingMonth||new Date().getMonth()+1,category:a.category||"OTT",url:a.url||"",customColor:a.customColor||"",notes:a.notes||"",trialEndDate:a.trialEndDate?typeof a.trialEndDate=="object"&&a.trialEndDate.seconds?new Date(a.trialEndDate.seconds*1e3).toISOString().split("T")[0]:new Date(a.trialEndDate).toISOString().split("T")[0]:"",sharedWith:a.sharedWith||1,currency:a.currency||"KRW"}),x(!1)):(i({name:"",cost:"",billingDay:new Date().getDate(),billingCycle:"monthly",billingMonth:new Date().getMonth()+1,category:"OTT",url:"",customColor:"",notes:"",trialEndDate:"",sharedWith:1,currency:"KRW"}),x(!0)),g({})},[a,t]);const l=c=>{i({...n,name:c.name,category:c.category,url:c.url,customColor:c.color,cost:c.defaultCost||""}),x(!1)},m=()=>{const c={};n.name.trim()||(c.name="ÏÑúÎπÑÏä§ Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî");const p=Number(n.cost);!n.cost||isNaN(p)||p<0?c.cost="Ïò¨Î∞îÎ•∏ Í∏àÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî":p>1e8&&(c.cost="Í∏àÏï°Ïù¥ ÎÑàÎ¨¥ ÌÅΩÎãàÎã§ (ÏµúÎåÄ 1ÏñµÏõê)");const b=parseInt(n.billingDay,10);return n.billingCycle==="weekly"?(isNaN(b)||b<1||b>7)&&(c.billingDay="ÏöîÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"):(isNaN(b)||b<1||b>31)&&(c.billingDay="1~31 ÏÇ¨Ïù¥Ïùò ÎÇ†ÏßúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),g(c),Object.keys(c).length===0},h=c=>{if(c.preventDefault(),!m())return;const p=Number(n.cost)||0,b=parseInt(n.billingDay,10)||1,w=parseInt(n.sharedWith,10)||1,f={...n,cost:Math.max(0,Math.min(p,1e8)),billingDay:Math.max(1,Math.min(b,31)),billingMonth:n.billingCycle==="yearly"?parseInt(n.billingMonth)||1:null,sharedWith:Math.max(1,w),trialEndDate:n.trialEndDate?new Date(n.trialEndDate):null};s(f,a==null?void 0:a.id),r()};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/80 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop p-0 md:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-lg rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[95vh] h-[95vh] md:h-auto overflow-y-auto flex flex-col glass-card",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-white/80 dark:bg-dark-800/80 backdrop-blur-md sticky top-0 z-10 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white",children:a?"Íµ¨ÎèÖ ÏàòÏ†ï":"ÏÉà Íµ¨ÎèÖ Ï∂îÍ∞Ä"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-dark-400 mt-0.5",children:a?"Íµ¨ÎèÖ Ï†ïÎ≥¥Î•º ÏàòÏ†ïÌï©ÎãàÎã§.":"ÏÉàÎ°úÏö¥ Íµ¨ÎèÖ ÏÑúÎπÑÏä§Î•º Îì±Î°ùÌïòÏÑ∏Ïöî."})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-2.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-all active:scale-90 hover:scale-110 focus-ring",children:e.jsx(ie,{size:24})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[!a&&d&&e.jsxs("div",{className:"mb-8 animate-fade-in",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 dark:text-dark-400 uppercase tracking-wider mb-3 block px-1",children:"Ïù∏Í∏∞ ÏÑúÎπÑÏä§ ÏÑ†ÌÉù"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:Ht.slice(0,12).map((c,p)=>e.jsxs("button",{type:"button",onClick:()=>l(c),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-2xl border border-gray-100 dark:border-dark-700 hover:border-primary-200 dark:hover:border-primary-800 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all duration-200 group active:scale-95 hover-lift",style:{animationDelay:`${p*50}ms`},children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:scale-110 transition-transform",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`,boxShadow:`0 4px 12px -2px ${c.color}50`},children:c.name[0]}),e.jsx("span",{className:"text-[11px] font-medium text-gray-600 dark:text-dark-300 group-hover:text-primary-600 dark:group-hover:text-primary-400 truncate w-full text-center",children:c.name})]},c.name))}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("button",{type:"button",onClick:()=>x(!1),className:"text-xs font-medium text-gray-400 dark:text-dark-400 hover:text-primary-500 flex items-center gap-1 py-1 px-3 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-full transition-colors",children:["ÏßÅÏ†ë ÏûÖÎ†•ÌïòÍ∏∞",e.jsx(Ye,{size:10})]})})]}),e.jsxs("form",{onSubmit:h,className:`space-y-6 ${!a&&d?"opacity-30 pointer-events-none blur-sm":""} transition-all duration-500`,children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700/50 p-4 rounded-2xl",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-dark-400 uppercase tracking-wider mb-2",children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-200 mb-1.5",children:["ÏÑúÎπÑÏä§ Ïù¥Î¶Ñ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Ïòà: ÎÑ∑ÌîåÎ¶≠Ïä§",className:`w-full px-4 py-3 rounded-xl border ${u.name?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-white dark:bg-dark-800 text-gray-800 dark:text-white placeholder-gray-400 focus:bg-white dark:focus:bg-dark-800 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all shadow-sm`,value:n.name,onChange:c=>i({...n,name:c.target.value}),disabled:!a&&d}),u.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:u.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-200 mb-1.5",children:["Í≤∞Ï†ú Í∏àÏï° ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"0",min:"0",className:`w-full pl-4 pr-10 py-3 rounded-xl border ${u.cost?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-white dark:bg-dark-800 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all shadow-sm font-medium`,value:n.cost,onChange:c=>i({...n,cost:c.target.value}),onFocus:c=>c.target.select(),disabled:!a&&d}),e.jsx("span",{className:"absolute right-3 top-3 text-gray-400 dark:text-dark-500 text-sm font-medium",children:"Ïõê"})]}),u.cost&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:u.cost})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-200 mb-1.5",children:[n.billingCycle==="weekly"?"Í≤∞Ï†ú ÏöîÏùº":"Í≤∞Ï†úÏùº"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),n.billingCycle==="weekly"?e.jsx("div",{className:"grid grid-cols-7 gap-1",children:Kt.map(c=>e.jsx("button",{type:"button",onClick:()=>i({...n,billingDay:c.value}),className:`py-3 rounded-xl border text-sm font-medium transition-all ${parseInt(n.billingDay)===c.value?"bg-primary-500 text-white border-primary-500 ring-2 ring-primary-200 dark:ring-primary-900":"bg-white dark:bg-dark-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:c.label},c.value))}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:"31",placeholder:"1",className:`w-full pl-4 pr-10 py-3 rounded-xl border ${u.billingDay?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-white dark:bg-dark-800 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all shadow-sm font-medium`,value:n.billingDay,onChange:c=>i({...n,billingDay:c.target.value}),onFocus:c=>c.target.select(),disabled:!a&&d}),e.jsx("span",{className:"absolute right-3 top-3 text-gray-400 dark:text-dark-500 text-sm font-medium",children:"Ïùº"})]}),u.billingDay&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:u.billingDay})]}),n.billingCycle==="yearly"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-200 mb-1.5",children:["Í≤∞Ï†úÏõî ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:n.billingMonth||1,onChange:c=>i({...n,billingMonth:parseInt(c.target.value)||1}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-800 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all shadow-sm font-medium appearance-none",children:Array.from({length:12},(c,p)=>p+1).map(c=>e.jsxs("option",{value:c,children:[c,"Ïõî"]},c))})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-dark-400 uppercase tracking-wider mb-3 px-1",children:"Ïπ¥ÌÖåÍ≥†Î¶¨"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(M).map(c=>e.jsxs("button",{type:"button",onClick:()=>i({...n,category:c}),disabled:!a&&d,className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all duration-200 flex items-center gap-2 ${n.category===c?"bg-gray-800 dark:bg-white text-white dark:text-gray-900 shadow-md transform scale-105 ring-2 ring-offset-2 ring-gray-800 dark:ring-white dark:ring-offset-dark-800":"bg-white dark:bg-dark-700 text-gray-500 dark:text-dark-400 border border-gray-100 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-600"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:M[c],boxShadow:n.category===c?`0 0 8px ${M[c]}`:"none"}}),ae[c]||c]},c))})]}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-dark-700 pt-6",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-dark-400 uppercase tracking-wider mb-4 px-1",children:"ÏÉÅÏÑ∏ ÏÑ§Ï†ï"}),e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2",children:"Í≤∞Ï†ú Ï£ºÍ∏∞"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(Yt).map(([c,{label:p}])=>e.jsx("button",{type:"button",onClick:()=>i({...n,billingCycle:c}),disabled:!a&&d,className:`py-2.5 rounded-xl text-xs font-bold transition-all border ${n.billingCycle===c?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 border-primary-200 dark:border-primary-800":"bg-white dark:bg-dark-700 text-gray-500 dark:text-dark-400 border-gray-200 dark:border-dark-600 hover:bg-gray-50"}`,children:p},c))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2 flex items-center gap-1.5",children:[e.jsx(jt,{size:14,className:"text-gray-400"}),"Í≥µÏú† Ïù∏Ïõê"]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-dark-700/50 p-1 rounded-xl border border-gray-200 dark:border-dark-600",children:[e.jsx("button",{type:"button",onClick:()=>i({...n,sharedWith:Math.max(1,(n.sharedWith||1)-1)}),disabled:!a&&d,className:"w-9 h-9 rounded-lg bg-white dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:text-primary-600 hover:shadow-sm flex items-center justify-center transition-all disabled:opacity-50",children:e.jsx(Xe,{size:18})}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:n.sharedWith||1}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-400 ml-0.5",children:"Î™Ö"})]}),e.jsx("button",{type:"button",onClick:()=>i({...n,sharedWith:(n.sharedWith||1)+1}),disabled:!a&&d,className:"w-9 h-9 rounded-lg bg-white dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:text-primary-600 hover:shadow-sm flex items-center justify-center transition-all disabled:opacity-50",children:e.jsx(Nt,{size:18})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2 flex items-center gap-1.5",children:[e.jsx(ue,{size:14,className:"text-gray-400"}),"ÌÜµÌôî"]}),e.jsx("select",{value:n.currency,onChange:c=>i({...n,currency:c.target.value}),disabled:!a&&d,className:"w-full h-[46px] px-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm appearance-none cursor-pointer",children:Object.entries(Qt).map(([c,{symbol:p,label:b}])=>e.jsxs("option",{value:c,children:[c," (",p,")"]},c))})]})]}),n.sharedWith>1&&e.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/10 p-3 rounded-xl flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:"1Ïù∏Îãπ Î∂ÄÎã¥Í∏à"}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400",children:[Math.round(Number(n.cost||0)/n.sharedWith).toLocaleString(),"Ïõê"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2",children:"Î©îÎ™®"}),e.jsx("textarea",{placeholder:"Í≥ÑÏ†ï Ï†ïÎ≥¥ÎÇò ÌäπÏù¥ÏÇ¨Ìï≠ÏùÑ Í∏∞Î°ùÌïòÏÑ∏Ïöî",rows:2,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm resize-none",value:n.notes,onChange:c=>i({...n,notes:c.target.value}),disabled:!a&&d})]})]})]}),e.jsx("div",{className:"pt-2 sticky bottom-0 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md pb-2",children:e.jsxs("button",{type:"submit",disabled:!a&&d,className:"w-full py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 disabled:from-gray-300 disabled:to-gray-400 dark:disabled:from-dark-600 dark:disabled:to-dark-700 disabled:cursor-not-allowed text-white rounded-2xl font-bold text-lg transform active:scale-[0.98] transition-all shadow-lg shadow-primary-500/30 flex items-center justify-center gap-2 btn-ripple neon-glow",children:[e.jsx(xe,{size:20}),a?"ÏàòÏ†ï ÏôÑÎ£å":"Íµ¨ÎèÖ Ï∂îÍ∞ÄÌïòÍ∏∞"]})})]})]})]})}):null}const vr=t=>{const r=["ÏÑúÎπÑÏä§Î™Ö","Ïõî Í≤∞Ï†úÍ∏àÏï°","Í≤∞Ï†úÏùº","Ïπ¥ÌÖåÍ≥†Î¶¨","Í≤∞Ï†úÏ£ºÍ∏∞","URL","ÏùºÏãúÏ†ïÏßÄ","Î©îÎ™®","ÏÉùÏÑ±Ïùº"],s=t.map(n=>[n.name,n.cost,n.billingDay,n.category,n.billingCycle||"monthly",n.url||"",n.isPaused?"Ïòà":"ÏïÑÎãàÏò§",n.notes||"",n.createdAt||""]);return[r.join(","),...s.map(n=>n.map(i=>typeof i=="string"&&i.includes(",")?`"${i}"`:i).join(","))].join(`
`)},wr=t=>{const r={version:"1.0",exportedAt:new Date().toISOString(),subscriptions:t.map(s=>({name:s.name,cost:s.cost,billingDay:s.billingDay,category:s.category,billingCycle:s.billingCycle||"monthly",url:s.url||"",customColor:s.customColor||"",isPaused:s.isPaused||!1,notes:s.notes||""}))};return JSON.stringify(r,null,2)},jr=t=>{var a,n,i,u,g,d;const r=t.trim().split(`
`);if(r.length<2)return[];const s=[];for(let x=1;x<r.length;x++){const l=Nr(r[x]);l.length>=4&&s.push({name:((a=l[0])==null?void 0:a.trim())||"",cost:parseInt(l[1])||0,billingDay:parseInt(l[2])||1,category:((n=l[3])==null?void 0:n.trim())||"Etc",billingCycle:((i=l[4])==null?void 0:i.trim())||"monthly",url:((u=l[5])==null?void 0:u.trim())||"",isPaused:((g=l[6])==null?void 0:g.trim())==="Ïòà",notes:((d=l[7])==null?void 0:d.trim())||""})}return s},Nr=t=>{const r=[];let s="",a=!1;for(let n=0;n<t.length;n++){const i=t[n];i==='"'?a=!a:i===","&&!a?(r.push(s),s=""):s+=i}return r.push(s),r},Sr=t=>{try{const r=JSON.parse(t);return r.subscriptions&&Array.isArray(r.subscriptions)?r.subscriptions.map(s=>({name:s.name||"",cost:parseInt(s.cost)||0,billingDay:parseInt(s.billingDay)||1,category:s.category||"Etc",billingCycle:s.billingCycle||"monthly",url:s.url||"",customColor:s.customColor||"",isPaused:s.isPaused||!1,notes:s.notes||""})):[]}catch(r){return console.error("JSON parsing error:",r),[]}},Ue=(t,r,s)=>{const a=new Blob([t],{type:s}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},_r=t=>new Promise((r,s)=>{const a=new FileReader;a.onload=n=>r(n.target.result),a.onerror=n=>s(n),a.readAsText(t)}),Er=t=>{const r=new Date,s=r.getFullYear(),a=r.getMonth(),n=t.filter(d=>!d.isPaused).map(d=>{const x=[];for(let l=0;l<12;l++){const m=(a+l)%12,h=s+Math.floor((a+l)/12),c=Math.min(d.billingDay,new Date(h,m+1,0).getDate()),p=new Date(h,m,c),b=`${d.id}-${h}${String(m+1).padStart(2,"0")}@subscription-manager`;x.push({uid:b,summary:`üí≥ ${d.name} Í≤∞Ï†úÏùº`,description:`${d.name} Íµ¨ÎèÖÎ£å ${d.cost.toLocaleString()}Ïõê Í≤∞Ï†ú ÏòàÏ†ï`,start:p,cost:d.cost})}return x}).flat(),i=d=>d.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",u=d=>{const x=d.getFullYear(),l=String(d.getMonth()+1).padStart(2,"0"),m=String(d.getDate()).padStart(2,"0");return`${x}${l}${m}`};let g=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Subscription Manager Pro//KO","CALSCALE:GREGORIAN","METHOD:PUBLISH","X-WR-CALNAME:Íµ¨ÎèÖ Í≤∞Ï†úÏùº","X-WR-TIMEZONE:Asia/Seoul",""].join(`\r
`);return n.forEach(d=>{g+=["BEGIN:VEVENT",`UID:${d.uid}`,`DTSTAMP:${i(r)}`,`DTSTART;VALUE=DATE:${u(d.start)}`,`SUMMARY:${d.summary}`,`DESCRIPTION:${d.description}`,"END:VEVENT",""].join(`\r
`)}),g+="END:VCALENDAR",g},Cr=t=>{const r=Er(t),s=new Blob([r],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`subscription_payments_${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)};function Dr({isOpen:t,onClose:r,subscriptions:s,onImport:a,onClearAll:n,onSettingsChange:i}){const{isDark:u,toggleTheme:g,setAutoTheme:d,autoTheme:x}=st(),{user:l,isDemo:m}=he(),[h,c]=o.useState(!1),[p,b]=o.useState(null),[w,f]=o.useState(!1),[E,T]=o.useState("default"),[v,O]=o.useState(0),[F,L]=o.useState(0),[A,j]=o.useState(!0),N=o.useRef(null);o.useEffect(()=>{if(se()){T(ke());const D=Ie();f(D.enabled&&ke()==="granted")}if(l!=null&&l.id&&!m){const D=y.getUserSettings(l.id);O(D.budget||0),L(D.monthlyIncome||0),j(D.priceAlertEnabled!==!1)}},[t,l,m]);const S=D=>{if(l!=null&&l.id&&!m){const J={...y.getUserSettings(l.id),...D};y.saveUserSettings(l.id,J),i&&i(J)}},B=()=>{const D=vr(s),P=`subscriptions_${new Date().toISOString().split("T")[0]}.csv`;Ue(D,P,"text/csv;charset=utf-8")},z=()=>{const D=wr(s),P=`subscriptions_${new Date().toISOString().split("T")[0]}.json`;Ue(D,P,"application/json")},U=async D=>{var J;const P=(J=D.target.files)==null?void 0:J[0];if(P){try{const H=await _r(P);let G=[];if(P.name.endsWith(".json")?G=Sr(H):P.name.endsWith(".csv")&&(G=jr(H)),G.length>0){const Z=await a(G);b({success:!0,count:Z}),setTimeout(()=>b(null),3e3)}else b({success:!1,message:"Ïú†Ìö®Ìïú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),setTimeout(()=>b(null),3e3)}catch(H){console.error("Import error:",H),b({success:!1,message:"ÌååÏùºÏùÑ ÏùΩÎäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),setTimeout(()=>b(null),3e3)}N.current&&(N.current.value="")}},q=async()=>{await n(),c(!1),r()};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-md rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:"ÏÑ§Ï†ï"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"Îã§ÌÅ¨ Î™®Îìú"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:"Ïñ¥ÎëêÏö¥ ÌÖåÎßàÎ°ú Ï†ÑÌôòÌï©ÎãàÎã§"})]}),e.jsx("button",{onClick:g,className:`relative w-14 h-7 rounded-full transition-colors ${u?"bg-primary-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${u?"translate-x-7":"translate-x-0.5"}`,children:u?e.jsx(Ge,{size:12,className:"text-primary-500"}):e.jsx(Be,{size:12,className:"text-amber-500"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 dark:text-white text-sm flex items-center gap-2",children:[w?e.jsx(fe,{size:16,className:"text-primary-500"}):e.jsx(ye,{size:16,className:"text-gray-400"}),"Í≤∞Ï†úÏùº ÏïåÎ¶º"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:se()?E==="denied"?"ÏïåÎ¶º Í∂åÌïúÏù¥ Í±∞Î∂ÄÎêòÏóàÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÌóàÏö©Ìï¥Ï£ºÏÑ∏Ïöî.":"Í≤∞Ï†ú ÏòàÏ†ïÏùº 3Ïùº, 1Ïùº Ï†ÑÏóê ÏïåÎ¶º":"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§"})]}),e.jsx("button",{onClick:async()=>{if(w)ar(),f(!1);else{const D=await sr();f(D),T(ke())}},disabled:!se()||E==="denied",className:`relative w-14 h-7 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${w?"bg-primary-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${w?"translate-x-7":"translate-x-0.5"}`,children:w?e.jsx(fe,{size:12,className:"text-primary-500"}):e.jsx(ye,{size:12,className:"text-gray-400"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx($e,{size:16,className:"text-primary-500"}),e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"Ïõî ÏòàÏÇ∞ ÏÑ§Ï†ï"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",placeholder:"0",min:"0",step:"10000",value:v||"",onChange:D=>{const P=Number(D.target.value)||0;O(P),S({budget:P})},className:"flex-1 px-3 py-2 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm"}),e.jsx("span",{className:"text-gray-400 dark:text-dark-500 text-sm",children:"Ïõê/Ïõî"})]}),v>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500 dark:text-dark-400",children:"ÏÇ¨Ïö©Îüâ"}),e.jsxs("span",{className:`font-bold ${s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)>v?"text-red-500":"text-primary-500"}`,children:[Math.round(s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)/v*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)>v?"bg-red-500":"bg-primary-500"}`,style:{width:`${Math.min(100,s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)/v*100)}%`}})}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-1",children:[s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0).toLocaleString(),"Ïõê / ",v.toLocaleString(),"Ïõê"]})]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx($e,{size:16,className:"text-indigo-500"}),e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"Ïõî ÏàòÏûÖ ÏÑ§Ï†ï"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mb-2",children:"ÏàòÏûÖ ÎåÄÎπÑ Íµ¨ÎèÖ ÏßÄÏ∂ú ÎπÑÏú®ÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§ (Í∂åÏû• 10% Ïù¥Ìïò)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",placeholder:"3000000",min:"0",step:"100000",value:F||"",onChange:D=>{const P=Number(D.target.value)||0;L(P),S({monthlyIncome:P})},className:"flex-1 px-3 py-2 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-sm"}),e.jsx("span",{className:"text-gray-400 dark:text-dark-500 text-sm",children:"Ïõê/Ïõî"})]}),F>0&&e.jsx("div",{className:"mt-2 p-3 rounded-xl bg-indigo-50 dark:bg-indigo-900/20",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Íµ¨ÎèÖ ÏßÄÏ∂ú ÎπÑÏú®"}),e.jsxs("span",{className:`font-bold ${s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)/F>.1?"text-amber-500":"text-green-500"}`,children:[(s.reduce((D,P)=>D+(P.isPaused?0:P.cost),0)/F*100).toFixed(1),"%"]})]})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 dark:text-white text-sm flex items-center gap-2",children:[e.jsx(re,{size:16,className:A?"text-amber-500":"text-gray-400"}),"Í∞ÄÍ≤© Ïù∏ÏÉÅ ÏïåÎ¶º"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:"Íµ¨ÎèÖ Í∞ÄÍ≤©Ïù¥ Î≥ÄÍ≤ΩÎêòÎ©¥ ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]}),e.jsx("button",{onClick:()=>{const D=!A;j(D),S({priceAlertEnabled:D})},className:`relative w-14 h-7 rounded-full transition-colors ${A?"bg-amber-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${A?"translate-x-7":"translate-x-0.5"}`,children:A?e.jsx(fe,{size:12,className:"text-amber-500"}):e.jsx(ye,{size:12,className:"text-gray-400"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:B,disabled:s.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(St,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV"})]}),e.jsxs("button",{onClick:z,disabled:s.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(_t,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"JSON"})]})]}),e.jsxs("button",{onClick:()=>Cr(s),disabled:s.length===0,className:"w-full mt-3 flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ge,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Ï∫®Î¶∞ÎçîÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (.ics)"})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-2",children:[s.length,"Í∞úÏùò Íµ¨ÎèÖ Îç∞Ïù¥ÌÑ∞Î•º ÎÇ¥Î≥¥ÎÉÖÎãàÎã§"]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞"}),e.jsx("input",{ref:N,type:"file",accept:".csv,.json",onChange:U,className:"hidden",id:"import-file"}),e.jsxs("label",{htmlFor:"import-file",className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border-2 border-dashed border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700/50 text-gray-600 dark:text-dark-400 hover:border-primary-400 hover:text-primary-600 dark:hover:text-primary-400 cursor-pointer transition-colors",children:[e.jsx(Et,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV ÎòêÎäî JSON ÌååÏùº ÏÑ†ÌÉù"})]}),p&&e.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs flex items-center gap-2 ${p.success?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"}`,children:[p.success?e.jsx(xe,{size:14}):e.jsx(re,{size:14}),p.success?`${p.count}Í∞úÏùò Íµ¨ÎèÖÏùÑ Í∞ÄÏ†∏ÏôîÏäµÎãàÎã§`:p.message]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ÏúÑÌóò Íµ¨Ïó≠"}),h?e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 mb-3",children:[e.jsx(re,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:"Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"})]}),e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400/80 mb-3",children:"Î™®Îì† Íµ¨ÎèÖ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏòÅÍµ¨Ï†ÅÏúºÎ°ú ÏÇ≠Ï†úÎê©ÎãàÎã§. Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-2 px-4 rounded-lg bg-white dark:bg-dark-700 text-gray-600 dark:text-dark-300 text-sm font-medium hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:q,className:"flex-1 py-2 px-4 rounded-lg bg-red-500 text-white text-sm font-medium hover:bg-red-600 transition-colors",children:"ÏÇ≠Ï†ú"})]})]}):e.jsxs("button",{onClick:()=>c(!0),disabled:s.length===0,className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-red-200 dark:border-red-900/50 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Se,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú"})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"Íµ¨ÎèÖ Îß§ÎãàÏ†Ä Pro v2.0.0"})})]})]})}):null}function Rr({isOpen:t,onClose:r,onConfirm:s,title:a="ÌôïÏù∏",message:n="Ïù¥ ÏûëÏóÖÏùÑ ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?",confirmText:i="ÌôïÏù∏",cancelText:u="Ï∑®ÏÜå",isDanger:g=!1}){const d=o.useRef(null),x=o.useRef(null);o.useEffect(()=>{var h;if(!t)return;const m=c=>{c.key==="Escape"&&r()};return document.addEventListener("keydown",m),(h=d.current)==null||h.focus(),()=>{document.removeEventListener("keydown",m)}},[t,r]);const l=m=>{m.target===x.current&&r()};return t?e.jsx("div",{ref:x,onClick:l,className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden animate-scale-in",children:[e.jsx("div",{className:"p-5 pb-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${g?"bg-red-100 dark:bg-red-900/30":"bg-amber-100 dark:bg-amber-900/30"}`,children:e.jsx(re,{size:20,className:g?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{id:"confirm-modal-title",className:"font-bold text-lg text-gray-900 dark:text-white",children:a}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-dark-300 leading-relaxed",children:n})]}),e.jsx("button",{onClick:r,className:"shrink-0 p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors","aria-label":"Îã´Í∏∞",children:e.jsx(ie,{size:18})})]})}),e.jsxs("div",{className:"px-5 pb-5 flex gap-3",children:[e.jsx("button",{onClick:r,className:"flex-1 py-2.5 px-4 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-dark-200 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:u}),e.jsx("button",{ref:d,onClick:()=>{s(),r()},className:`flex-1 py-2.5 px-4 font-medium rounded-xl transition-colors ${g?"bg-red-500 hover:bg-red-600 text-white":"bg-primary-500 hover:bg-primary-600 text-white"}`,children:i})]})]})}):null}function Pr(){const[t,r]=o.useState({isOpen:!1,title:"",message:"",confirmText:"ÌôïÏù∏",cancelText:"Ï∑®ÏÜå",isDanger:!1,resolve:null}),s=o.useCallback((u={})=>new Promise(g=>{r({isOpen:!0,title:u.title||"ÌôïÏù∏",message:u.message||"Ïù¥ ÏûëÏóÖÏùÑ ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?",confirmText:u.confirmText||"ÌôïÏù∏",cancelText:u.cancelText||"Ï∑®ÏÜå",isDanger:u.isDanger||!1,resolve:g})}),[]),a=o.useCallback(()=>{var u;(u=t.resolve)==null||u.call(t,!1),r(g=>({...g,isOpen:!1,resolve:null}))},[t.resolve]),n=o.useCallback(()=>{var u;(u=t.resolve)==null||u.call(t,!0),r(g=>({...g,isOpen:!1,resolve:null}))},[t.resolve]),i=e.jsx(Rr,{isOpen:t.isOpen,onClose:a,onConfirm:n,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,isDanger:t.isDanger});return{confirm:s,ConfirmModalComponent:i}}function Ir({onSignUp:t}){const r=Pe(),[s,a]=o.useState(null),[n,i]=o.useState(!1);if(o.useEffect(()=>{const g=()=>{const x=Ze();a(x)};g();const d=setInterval(g,6e4);return()=>clearInterval(d)},[]),!s||n)return null;const u=s.remainingMinutes<=5;return e.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${u?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-amber-500 to-orange-500"} text-white py-2 px-4 shadow-lg`,children:e.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(He,{size:16,className:"animate-pulse"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ï≤¥Ìóò Î™®Îìú"})," - ",s.remainingMinutes,"Î∂Ñ ÌõÑ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ¨ÎùºÏßëÎãàÎã§"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",children:[e.jsx(Ct,{size:14}),"Í∞ÄÏûÖÌïòÍ≥† Ï†ÄÏû•ÌïòÍ∏∞"]}),e.jsx("button",{onClick:()=>i(!0),className:"p-1 hover:bg-white/20 rounded transition-colors",children:e.jsx(ie,{size:16})})]})]})})}const Tr=[{id:"home",label:"Ìôà",icon:qe},{id:"subscriptions",label:"Íµ¨ÎèÖ",icon:De},{id:"analysis",label:"Î∂ÑÏÑù",icon:Je},{id:"management",label:"Í¥ÄÎ¶¨",icon:Dt},{id:"tools",label:"ÎèÑÍµ¨",icon:Rt}];function Ar({activeTab:t,onTabChange:r}){const[s,a]=o.useState({}),[n,i]=o.useState(null),u=o.useRef({}),g=o.useRef(null),d=o.useRef(null);o.useEffect(()=>{const l=()=>{const m=u.current[t];if(m&&g.current){const h=g.current.getBoundingClientRect(),c=m.getBoundingClientRect();a({left:`${c.left-h.left}px`,width:`${c.width}px`})}};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t]),o.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[n]);const x=l=>{if(l!==t){d.current&&clearTimeout(d.current),i(l);const m=setTimeout(()=>i(null),400);return r(l),()=>clearTimeout(m)}};return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 dark:bg-dark-800/95 backdrop-blur-xl border-t border-gray-100 dark:border-dark-700 safe-area-bottom",children:e.jsxs("div",{ref:g,className:"max-w-xl mx-auto relative",children:[e.jsx("div",{className:"tab-indicator",style:s}),e.jsx("div",{className:"flex items-center justify-around py-1.5",children:Tr.map(l=>{const m=t===l.id,h=n===l.id,c=l.icon;return e.jsxs("button",{ref:p=>u.current[l.id]=p,onClick:()=>x(l.id),className:`relative flex flex-col items-center gap-1 px-4 py-3 min-w-[64px] rounded-2xl transition-all duration-300 touch-feedback focus-visible-ring ${m?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-dark-500 hover:text-gray-600 dark:hover:text-dark-300"}`,"aria-label":l.label,"aria-current":m?"page":void 0,children:[m&&e.jsx("div",{className:"absolute inset-0 bg-primary-50 dark:bg-primary-900/20 rounded-2xl opacity-60"}),e.jsx("div",{className:`relative z-10 ${h?"icon-bounce":""}`,children:e.jsx(c,{size:24,strokeWidth:m?2.5:2,className:`transition-transform duration-200 ${m?"scale-110":""}`})}),e.jsx("span",{className:`relative z-10 text-xs font-medium transition-all ${m?"font-semibold":""}`,children:l.label})]},l.id)})})]})})}class Or extends o.Component{constructor(s){super(s);pe(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});pe(this,"handleGoHome",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.hash="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("ErrorBoundary caught an error:",s,a),this.setState({errorInfo:a})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-900 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-800 rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 mb-6",children:e.jsx(re,{size:32,className:"text-red-500"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 mb-6",children:"ÏòàÍ∏∞Ïπò ÏïäÏùÄ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌïòÍ±∞ÎÇò ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÏ£ºÏÑ∏Ïöî."}),!1,e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:this.handleRetry,className:"flex-1 py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(Pt,{size:18}),"Îã§Ïãú ÏãúÎèÑ"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 py-3 px-4 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 text-gray-700 dark:text-dark-200 rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(qe,{size:18}),"ÌôàÏúºÎ°ú"]})]})]})}):this.props.children}}const Fr=o.lazy(()=>C(()=>import("./LoginPage-WSsTRLYS.js"),__vite__mapDeps([0,1,2]),import.meta.url)),$r=o.lazy(()=>C(()=>import("./ForgotPasswordPage-DcJ1TOh9.js"),__vite__mapDeps([3,1,2]),import.meta.url)),Mr=o.lazy(()=>C(()=>import("./ProfilePage-D44E_LHt.js"),__vite__mapDeps([4,1,2]),import.meta.url)),Lr=o.lazy(()=>C(()=>import("./HealthScore-DJ5wIGzc.js"),__vite__mapDeps([5,1,2]),import.meta.url)),Ur=o.lazy(()=>C(()=>import("./CostSimulator-xYEE1bNP.js"),__vite__mapDeps([6,1,2]),import.meta.url)),zr=o.lazy(()=>C(()=>import("./PriceTracker-ClU3bAba.js"),__vite__mapDeps([7,1,2]),import.meta.url)),Br=o.lazy(()=>C(()=>import("./IncomeAnalysis-C5cX41jh.js"),__vite__mapDeps([8,1,2]),import.meta.url)),Gr=o.lazy(()=>C(()=>import("./SmartRecommendations-CQwCSxx1.js"),__vite__mapDeps([9,1,2]),import.meta.url)),Vr=o.lazy(()=>C(()=>import("./SubscriptionCompare-B3m0gl3u.js"),__vite__mapDeps([10,1,2]),import.meta.url));o.lazy(()=>C(()=>import("./TagManager-BMqYA4vd.js"),__vite__mapDeps([11,1,2]),import.meta.url));const Wr=o.lazy(()=>C(()=>import("./TrialTracker-BmKIis-1.js"),__vite__mapDeps([12,1,2]),import.meta.url)),Jr=o.lazy(()=>C(()=>import("./SharingPanel-CYyITdIv.js"),__vite__mapDeps([13,1,2]),import.meta.url)),Xr=o.lazy(()=>C(()=>import("./ReceiptManager-JfR12L7u.js"),__vite__mapDeps([14,1,2]),import.meta.url)),Hr=o.lazy(()=>C(()=>import("./CancellationGuide-DNZ57gB6.js"),__vite__mapDeps([15,1,2]),import.meta.url)),Yr=o.lazy(()=>C(()=>import("./QuickViewWidget-AGOPDZ_p.js"),__vite__mapDeps([16,1,2]),import.meta.url)),Kr=o.lazy(()=>C(()=>import("./CurrencyConverter-D-9R7sE1.js"),__vite__mapDeps([17,1,2]),import.meta.url)),qr=o.lazy(()=>C(()=>import("./UsageTracker-DaYVoELU.js"),__vite__mapDeps([18,1,2]),import.meta.url)),Qr=o.lazy(()=>C(()=>import("./GoalsSavings-DPM7jIc9.js"),__vite__mapDeps([19,1,2]),import.meta.url)),Zr=o.lazy(()=>C(()=>import("./PaymentMethodManager-CYPEgF6c.js"),__vite__mapDeps([20,1,2]),import.meta.url)),es=o.lazy(()=>C(()=>import("./RenewalAlerts-DXxaAL7X.js"),__vite__mapDeps([21,1,2]),import.meta.url)),ts=o.lazy(()=>C(()=>import("./AccountBookExport-p9fMiqrV.js"),__vite__mapDeps([22,1,2]),import.meta.url)),rs=o.lazy(()=>C(()=>import("./SubscriptionTable-DDXprn1W.js"),__vite__mapDeps([23,1,2]),import.meta.url)),ss=o.lazy(()=>C(()=>import("./SecuritySettings-2NCdir-R.js"),__vite__mapDeps([24,1,2]),import.meta.url)),as=o.lazy(()=>C(()=>import("./ReportsInsights-DbtMArap.js"),__vite__mapDeps([25,1,2]),import.meta.url)),ns=o.lazy(()=>C(()=>import("./FamilySharingManager-Bv2SBwpf.js"),__vite__mapDeps([26,1,2]),import.meta.url)),os=o.lazy(()=>C(()=>import("./AutoCancelReminder-D5G1sMWd.js"),__vite__mapDeps([27,1,2]),import.meta.url)),is=o.lazy(()=>C(()=>import("./BundleOptimizer-CUpq4Xy-.js"),__vite__mapDeps([28,1,2]),import.meta.url)),ls=o.lazy(()=>C(()=>import("./SubscriptionHistory-CgrxV3vp.js"),__vite__mapDeps([29,1,2]),import.meta.url)),cs=o.lazy(()=>C(()=>import("./QuickStatsWidget-Bdi5mh0o.js"),__vite__mapDeps([30,1,2]),import.meta.url)),ds=o.lazy(()=>C(()=>import("./SmartSearch-Bw8fkY6w.js"),__vite__mapDeps([31,1,2]),import.meta.url)),ms=o.lazy(()=>C(()=>import("./CalendarView-B3RArAga.js"),__vite__mapDeps([32,1,2]),import.meta.url)),us=o.lazy(()=>C(()=>import("./BudgetAlert-C7NR1CAB.js"),__vite__mapDeps([33,1,2]),import.meta.url)),gs=o.lazy(()=>C(()=>import("./SplitBillCalculator-F80EFkjK.js"),__vite__mapDeps([34,1,2]),import.meta.url)),xs=o.lazy(()=>C(()=>import("./RefundGuide-BXhtDECV.js"),__vite__mapDeps([35,1,2]),import.meta.url)),hs=o.lazy(()=>C(()=>import("./SharedMemberManager-CSZc6EOB.js"),__vite__mapDeps([36,1,2]),import.meta.url)),ps=o.lazy(()=>C(()=>import("./GoogleCalendarSync-lCkRYTIw.js"),__vite__mapDeps([37,1,2]),import.meta.url)),bs=o.lazy(()=>C(()=>import("./NotificationSettings-Dsu4ELNq.js"),__vite__mapDeps([38,1,2]),import.meta.url)),fs=o.lazy(()=>C(()=>import("./SmartSavingsAdvisor-ads8uBWO.js"),__vite__mapDeps([39,1,2]),import.meta.url)),ys=o.lazy(()=>C(()=>import("./AdvancedAnalytics-CVbfD4Cy.js"),__vite__mapDeps([40,1,2]),import.meta.url)),ks=o.lazy(()=>C(()=>import("./CategoryBudgetManager-3-NI04L-.js"),__vite__mapDeps([41,1,2]),import.meta.url)),vs=o.lazy(()=>C(()=>import("./BackupRestore-BVAeiE5T.js"),__vite__mapDeps([42,1,2]),import.meta.url)),ws=o.lazy(()=>C(()=>import("./PaymentSimulator-CtCLWfeR.js"),__vite__mapDeps([43,1,2]),import.meta.url));function js(){return e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx("div",{className:"w-12 h-12 spinner"})})})}function oe(){return e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-8 h-8 spinner"})})}function Ns(){const{user:t,isDemo:r,isAuthenticated:s}=he(),a=Ft(),n=Pe(),i=Vt(r?null:t),[u,g]=o.useState([]);o.useEffect(()=>{r&&g(W())},[r]);const d=r?u:i.subscriptions,x=r?!1:i.loading,l=o.useCallback(async k=>{if(r){const R=me({...k,id:`demo-${Date.now()}`});return g(W()),R.id}return i.addSubscription(k)},[r,i]),m=o.useCallback(async(k,R)=>{if(r){const X=W().find(ne=>ne.id===k);X&&(me({...X,...R}),g(W()));return}return i.updateSubscription(k,R)},[r,i]),h=o.useCallback(async k=>{if(r){Ut(k),g(W());return}return i.deleteSubscription(k)},[r,i]),c=o.useCallback(async k=>{if(r){const $=W().find(X=>X.id===k);$&&(me({...$,isPaused:!$.isPaused}),g(W()));return}return i.togglePause(k)},[r,i]),[p,b]=o.useState(!1),[w,f]=o.useState(!1),[E,T]=o.useState(!1),[v,O]=o.useState(null),[F,L]=o.useState(null),A=o.useCallback((k,R="success")=>{L({message:k,type:R}),setTimeout(()=>L(null),3e3)},[]),j=o.useCallback((k,R,$)=>{L({message:k,type:"action",actionLabel:R,onAction:$}),setTimeout(()=>L(null),5e3)},[]),{confirm:N,ConfirmModalComponent:S}=Pr();o.useEffect(()=>{const k=R=>{(R.metaKey||R.ctrlKey)&&R.key==="k"&&(R.preventDefault(),T(!0))};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[]),o.useEffect(()=>{const R=new URLSearchParams(a.search).get("import");if(R)try{const $=decodeURIComponent(atob(R)),X=JSON.parse($);N({title:"Íµ¨ÎèÖ Ï∂îÍ∞Ä",message:`'${X.name}' Íµ¨ÎèÖÏùÑ Ï∂îÍ∞ÄÌïòÏãúÍ≤†ÏäµÎãàÍπå?`,confirmText:"Ï∂îÍ∞Ä",cancelText:"Ï∑®ÏÜå",isDanger:!1}).then(ne=>{ne?l(X).then(()=>{A("Í≥µÏú†Îêú Íµ¨ÎèÖÏù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§"),n(a.pathname,{replace:!0})}):n(a.pathname,{replace:!0})})}catch($){console.error("Import failed",$),A("ÏûòÎ™ªÎêú Í≥µÏú† ÎßÅÌÅ¨ÏûÖÎãàÎã§","error")}},[a.search,l,n]);const[B,z]=o.useState(""),[U,q]=o.useState(null),[D,P]=o.useState("daysLeft"),[J,H]=o.useState(!0),[G,Z]=o.useState("home"),[V,ee]=o.useState({budget:0,monthlyIncome:0,priceAlertEnabled:!0});o.useEffect(()=>{const k=r?"demo_user":t==null?void 0:t.id;if(k){const R=y.getUserSettings(k);ee(R)}},[t,r]);const le=o.useCallback(k=>{ee(k),r&&y.saveUserSettings("demo_user",k)},[r]),{rates:ce}=er(),_=o.useMemo(()=>d.map(k=>({...k,daysLeft:Wt(k.billingDay,k.billingCycle,k.billingMonth),monthlyCost:Zt(k,ce)})),[d,ce]),Y=o.useMemo(()=>_.filter(k=>!k.isPaused).reduce((k,R)=>k+(R.monthlyCost||0),0),[_]),Ae=Y*12,ot=o.useMemo(()=>{const k={};return _.filter(R=>!R.isPaused).forEach(R=>{k[R.category]||(k[R.category]={count:0,total:0}),k[R.category].count+=1,k[R.category].total+=R.monthlyCost||0}),k},[_]),it=o.useMemo(()=>_.filter(k=>!k.isPaused&&k.daysLeft<=3).sort((k,R)=>k.daysLeft-R.daysLeft),[_]);o.useEffect(()=>{_.length>0&&rr(_)},[_]),o.useEffect(()=>{const k=R=>{var $;A((($=R.detail)==null?void 0:$.message)||"Ï†ÄÏû• Í≥µÍ∞ÑÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§.","error")};return window.addEventListener("sub_manager_storage_quota_exceeded",k),()=>{window.removeEventListener("sub_manager_storage_quota_exceeded",k)}},[A]);const Q=o.useCallback((k=null)=>{O(k),b(!0)},[]),lt=o.useCallback(()=>{b(!1),O(null)},[]),ct=o.useCallback(async(k,R)=>{try{R?(await m(R,k),A("Íµ¨ÎèÖÏù¥ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§")):(await l(k),A("ÏÉà Íµ¨ÎèÖÏù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§"))}catch{A("Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§","error")}},[l,m,A]),dt=o.useCallback(async k=>{if(await N({title:"Íµ¨ÎèÖ ÏÇ≠Ï†ú",message:"Ï†ïÎßê Ïù¥ Íµ¨ÎèÖÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.",confirmText:"ÏÇ≠Ï†ú",cancelText:"Ï∑®ÏÜå",isDanger:!0}))try{const $=await h(k);j("Íµ¨ÎèÖÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§","Î≥µÍµ¨",async()=>{if($)try{if(r)me($),g(W());else if(await i.addSubscription($),t!=null&&t.id){const{localStorageManager:X}=await C(async()=>{const{localStorageManager:ne}=await Promise.resolve().then(()=>Lt);return{localStorageManager:ne}},void 0,import.meta.url);X.restoreSubscription(t.id,$)}A("Íµ¨ÎèÖÏù¥ Î≥µÍµ¨ÎêòÏóàÏäµÎãàÎã§")}catch{A("Î≥µÍµ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§","error")}})}catch{A("ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§","error")}},[h,A,N,r,i,t]),mt=o.useCallback(k=>{q(R=>R===k?null:k)},[]),ut=d.filter(k=>!k.isPaused).length;return x?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 spinner"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm",children:"Î°úÎî© Ï§ë..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 text-gray-800 dark:text-white font-sans pb-28 md:pb-12 transition-colors",children:[r&&e.jsx(Ir,{}),e.jsx(nr,{subscriptionCount:ut,onOpenSettings:()=>f(!0),onOpenSearch:()=>T(!0)}),e.jsxs("main",{className:`max-w-xl mx-auto px-4 sm:px-5 py-6 pb-28 space-y-6 ${r?"pt-16":""}`,children:[G==="home"&&e.jsxs(e.Fragment,{children:[e.jsx(o.Suspense,{fallback:e.jsx(oe,{}),children:e.jsx(us,{totalMonthlyCost:Y,budget:V.budget})}),e.jsx(ir,{totalMonthlyCost:Y,totalYearlyCost:Ae,subscriptions:_}),e.jsx(lr,{items:it}),e.jsx(mr,{subscriptions:_,totalMonthlyCost:Y,totalYearlyCost:Ae,categoryBreakdown:ot,onCategoryClick:mt}),e.jsx(Lr,{subscriptions:_,budget:V.budget,monthlyIncome:V.monthlyIncome}),e.jsx(cs,{subscriptions:_,totalMonthlyCost:Y,budget:V.budget,onAddClick:()=>Q(),onAnalysisClick:()=>Z("analysis")}),e.jsx(o.Suspense,{fallback:e.jsx(oe,{}),children:e.jsx(ms,{subscriptions:_})})]}),G==="subscriptions"&&e.jsxs(e.Fragment,{children:[e.jsx(ur,{searchQuery:B,onSearchChange:z,selectedCategory:U,onCategoryChange:q,sortBy:D,onSortChange:P,showPaused:J,onShowPausedChange:H}),e.jsx(yr,{subscriptions:_,searchQuery:B,selectedCategory:U,sortBy:D,showPaused:J,onEdit:Q,onDelete:dt,onTogglePause:c,onAddNew:()=>Q()}),e.jsx(rs,{subscriptions:_,onEdit:Q})]}),G==="analysis"&&e.jsxs(o.Suspense,{fallback:e.jsx(oe,{}),children:[e.jsx(Br,{subscriptions:_,monthlyIncome:V.monthlyIncome}),e.jsx(Ur,{subscriptions:_}),e.jsx(zr,{subscriptions:_}),e.jsx(as,{subscriptions:_,totalMonthlyCost:Y}),e.jsx(ys,{subscriptions:_,totalMonthlyCost:Y}),e.jsx(fs,{subscriptions:_,budget:V.budget}),e.jsx(ks,{subscriptions:_}),e.jsx(ws,{subscriptions:_})]}),G==="management"&&e.jsxs(o.Suspense,{fallback:e.jsx(oe,{}),children:[e.jsx(Zr,{subscriptions:_,onUpdateSubscription:m}),e.jsx(es,{subscriptions:_}),e.jsx(qr,{subscriptions:_}),e.jsx(Qr,{subscriptions:_,totalMonthlyCost:Y}),e.jsx(ns,{subscriptions:_,userId:(t==null?void 0:t.id)||"demo",onUpdateSubscription:m}),e.jsx(ls,{subscriptions:d,userId:(t==null?void 0:t.id)||"demo"}),e.jsx(hs,{subscriptions:_,onUpdateSubscription:m})]}),G==="tools"&&e.jsxs(o.Suspense,{fallback:e.jsx(oe,{}),children:[e.jsx(Gr,{subscriptions:_}),e.jsx(os,{subscriptions:_}),e.jsx(is,{subscriptions:_}),e.jsx(Wr,{subscriptions:_}),e.jsx(Vr,{subscriptions:_}),e.jsx(Jr,{subscriptions:_}),e.jsx(Xr,{subscriptions:_}),e.jsx(Hr,{subscriptions:_}),e.jsx(Kr,{subscriptions:_}),e.jsx(ts,{subscriptions:_}),e.jsx(gs,{subscriptions:_}),e.jsx(xs,{subscriptions:_}),e.jsx(ps,{subscriptions:_}),e.jsx(ss,{}),e.jsx(bs,{subscriptions:_}),e.jsx(vs,{subscriptions:_})]})]}),e.jsx(Ar,{activeTab:G,onTabChange:Z}),e.jsx(Yr,{subscriptions:_,onEdit:Q}),e.jsx("button",{onClick:()=>Q(),className:"fixed bottom-24 right-5 sm:right-6 w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-xl shadow-primary-500/40 flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-40 fab-pulse touch-feedback","aria-label":"ÏÉà Íµ¨ÎèÖ Ï∂îÍ∞Ä",children:e.jsx(Ke,{size:24})}),e.jsx(kr,{isOpen:p,onClose:lt,onSave:ct,editData:v}),e.jsx(Dr,{isOpen:w,onClose:()=>f(!1),subscriptions:d,onImport:r?async k=>{const R=zt(k);return g(W()),R}:i.importSubscriptions,onClearAll:r?async()=>{Bt(),g([])}:i.clearAllSubscriptions,onSettingsChange:le}),e.jsx(o.Suspense,{fallback:null,children:e.jsx(ds,{isOpen:E,onClose:()=>T(!1),subscriptions:_,onSelectSubscription:Q})}),F&&e.jsxs("div",{className:`toast flex items-center gap-3 ${F.type==="error"?"bg-red-500 text-white":F.type==="action"?"bg-gray-900 text-white pl-4 pr-2 py-2":"bg-gray-900 dark:bg-white text-white dark:text-gray-900"}`,children:[e.jsx("span",{children:F.message}),F.type==="action"&&e.jsx("button",{onClick:()=>{F.onAction(),L(null)},className:"ml-auto px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium transition-colors",children:F.actionLabel})]}),S]})}function ze({children:t}){const{isAuthenticated:r,loading:s}=he();return s?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"w-12 h-12 spinner"})}):r?t:e.jsx(Ot,{to:"/login",replace:!0})}function Ss(){return e.jsx(rt,{children:e.jsx(Gt,{children:e.jsx(Tt,{children:e.jsx(o.Suspense,{fallback:e.jsx(js,{}),children:e.jsxs(At,{children:[e.jsx(de,{path:"/login",element:e.jsx(Fr,{})}),e.jsx(de,{path:"/forgot-password",element:e.jsx($r,{})}),e.jsx(de,{path:"/profile",element:e.jsx(ze,{children:e.jsx(Mr,{})})}),e.jsx(de,{path:"/",element:e.jsx(ze,{children:e.jsx(Or,{children:e.jsx(Ns,{})})})})]})})})})})}_e.createRoot(document.getElementById("root")).render(e.jsx(K.StrictMode,{children:e.jsx(rt,{children:e.jsx(Ss,{})})}));export{As as A,Is as B,ae as C,Ht as P,Os as R,Ps as U,Fs as V,M as a,er as b,te as c,Qt as d,Zt as e,Ts as f,Xt as g,Pr as h,Ds as i,Rs as j,Wt as k,y as l,pr as m,he as u};
