import{j as e,v as c,w as j,m as v}from"./vendor-ui-DvkZaKaL.js";import{u as N,r as t}from"./vendor-react-Cr-SFtWI.js";import{u as w,l as C}from"./index-CdaFECNU.js";function P(){const a=N(),{login:x,register:m,startDemoMode:g}=w(),[d,h]=t.useState([]),[l,s]=t.useState(!1),[o,u]=t.useState(""),[i,n]=t.useState("");t.useEffect(()=>{p()},[]);const p=()=>{const r=C.getUsers();h(r),r.length===0&&s(!0)},y=async r=>{if(r.preventDefault(),!!o.trim())try{await m(o),a("/")}catch{n("프로필 생성 중 오류가 발생했습니다.")}},b=async r=>{try{await x(r),a("/")}catch{n("로그인 중 오류가 발생했습니다.")}},f=()=>{g(),a("/")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-900 p-4 transition-colors",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-800 rounded-2xl shadow-xl overflow-hidden transition-all p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"구독 관리자"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400",children:l?"새 프로필 만들기":"프로필 선택"})]}),i&&e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 text-red-500 text-sm dark:bg-red-900/20 dark:text-red-400 text-center",children:i}),l?e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"이름 (닉네임)"}),e.jsx("input",{type:"text",value:o,onChange:r=>u(r.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-colors",placeholder:"예: 홍길동",required:!0})]}),e.jsxs("button",{type:"submit",className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(c,{size:20})," 프로필 생성 및 시작"]}),d.length>0&&e.jsx("button",{type:"button",onClick:()=>s(!1),className:"w-full py-3 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"기존 프로필 선택하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"grid gap-3 max-h-60 overflow-y-auto pr-1 custom-scrollbar",children:d.map(r=>e.jsxs("button",{onClick:()=>b(r.id),className:"w-full p-4 flex items-center gap-3 bg-gray-50 dark:bg-dark-700 hover:bg-gray-100 dark:hover:bg-dark-600 rounded-xl transition-all text-left group border border-transparent hover:border-primary-200 dark:hover:border-primary-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-lg group-hover:scale-110 transition-transform",children:r.displayName.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.displayName}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-dark-400",children:[new Date(r.createdAt).toLocaleDateString()," 가입"]})]}),e.jsx(j,{size:18,className:"text-gray-300 dark:text-dark-500 group-hover:text-primary-500"})]},r.id))}),e.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-dark-700 mt-4",children:e.jsxs("button",{onClick:()=>s(!0),className:"w-full py-3 px-4 border border-dashed border-gray-300 dark:border-dark-600 text-gray-500 dark:text-dark-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(c,{size:18})," 새 프로필 추가"]})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-dark-700",children:[e.jsxs("button",{onClick:f,className:"w-full py-3 px-4 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white rounded-lg font-medium transition-all flex items-center justify-center gap-2 shadow-lg shadow-violet-500/30",children:[e.jsx(v,{size:18})," 로그인 없이 체험하기"]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-dark-500 text-center mt-2",children:"샘플 데이터로 30분간 모든 기능을 체험할 수 있습니다"})]})]})})}export{P as default};
