import{j as e,ag as m,ah as o,e as g,C as b,p}from"./vendor-ui-B6CU6qF1.js";import{r as h}from"./vendor-react-DtEkOSI3.js";import{g as f}from"./index-XBRr7Ttx.js";function u({subscriptions:n}){const a=h.useMemo(()=>n.filter(r=>r.trialEndDate).map(r=>{const t=r.trialEndDate instanceof Date?r.trialEndDate:new Date(r.trialEndDate),s=f(t);let d="normal";return s<=0?d="expired":s<=1?d="critical":s<=3&&(d="warning"),{...r,daysLeft:s,endDate:t,urgency:d}}).sort((r,t)=>r.daysLeft-t.daysLeft),[n]),l=a.filter(r=>r.daysLeft>0),x=a.filter(r=>r.daysLeft<=0),i=a.filter(r=>r.urgency==="critical"||r.urgency==="warning");if(a.length===0)return null;const c=r=>{switch(r){case"critical":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",text:"text-red-600 dark:text-red-400",badge:"bg-red-500 text-white"};case"warning":return{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",badge:"bg-amber-500 text-white"};case"expired":return{bg:"bg-gray-50 dark:bg-dark-700/50",border:"border-gray-200 dark:border-dark-600",text:"text-gray-500 dark:text-dark-400",badge:"bg-gray-400 text-white"};default:return{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",badge:"bg-emerald-500 text-white"}}};return e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(m,{size:16,className:"text-purple-500"}),"ë¬´ë£Œ ì²´í—˜"]}),e.jsxs("span",{className:"text-[10px] font-medium text-gray-500 dark:text-dark-400 bg-gray-100 dark:bg-dark-700 px-2 py-1 rounded-full",children:[l.length,"ê°œ ì§„í–‰ ì¤‘"]})]}),i.length>0&&e.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-gradient-to-r from-red-50 to-amber-50 dark:from-red-900/20 dark:to-amber-900/20 border border-red-200 dark:border-red-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-red-500 animate-pulse",children:e.jsx(o,{size:12,className:"text-white"})}),e.jsx("span",{className:"text-xs font-bold text-red-700 dark:text-red-400",children:"ì²´í—˜ ì¢…ë£Œ ì„ë°•!"})]}),e.jsxs("p",{className:"text-[10px] text-red-600/80 dark:text-red-400/80",children:[i.map(r=>r.name).join(", "),"ì˜ ë¬´ë£Œ ì²´í—˜ì´ ê³§ ì¢…ë£Œë©ë‹ˆë‹¤. ìë™ ê²°ì œë¥¼ ì›ì¹˜ ì•Šìœ¼ì‹œë©´ ë¯¸ë¦¬ í•´ì§€í•˜ì„¸ìš”."]})]}),e.jsxs("div",{className:"space-y-2",children:[l.map(r=>{const t=c(r.urgency);return e.jsxs("div",{className:`p-3 rounded-xl ${t.bg} border ${t.border} transition-all hover:shadow-sm`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-sm font-bold",style:{backgroundColor:r.customColor||"#6366F1",boxShadow:`0 4px 12px -2px ${r.customColor||"#6366F1"}40`},children:r.name[0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-white block",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(g,{size:10,className:t.text}),e.jsxs("span",{className:`text-[10px] ${t.text}`,children:[r.endDate.toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),"ê¹Œì§€"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-lg ${t.badge}`,children:r.daysLeft===1?"D-1":`D-${r.daysLeft}`}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 justify-end",children:[e.jsx(b,{size:10,className:"text-gray-400"}),e.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-dark-400",children:["ì´í›„ ",r.cost.toLocaleString(),"ì›/ì›”"]})]})]})]}),r.urgency==="critical"&&e.jsx("div",{className:"mt-2 pt-2 border-t border-red-200/50 dark:border-red-800/30",children:e.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[e.jsx(p,{size:10}),"ìë™ ê²°ì œ ì˜ˆì • - í•´ì§€í•˜ë ¤ë©´ ì˜¤ëŠ˜ ì¡°ì¹˜í•˜ì„¸ìš”!"]})})]},r.id)}),x.length>0&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-dark-700",children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-400 mb-2",children:"ì¢…ë£Œëœ ì²´í—˜"}),x.map(r=>e.jsx("div",{className:"p-2 rounded-lg bg-gray-50 dark:bg-dark-700/50 opacity-60",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-400",children:r.name}),e.jsxs("span",{className:"text-[10px] text-gray-400",children:[Math.abs(r.daysLeft),"ì¼ ì „ ì¢…ë£Œ"]})]})},r.id))]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-dark-700",children:e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ğŸ’¡ ì²´í—˜ ì¢…ë£Œ 3ì¼, 1ì¼ ì „ì— ì•Œë¦¼ì„ ë³´ë‚´ë“œë ¤ìš”"})})]})}export{u as default};
