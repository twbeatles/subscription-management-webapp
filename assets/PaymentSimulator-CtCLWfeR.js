import{j as e,e as v,T as M,d as $}from"./vendor-ui-B6CU6qF1.js";import{r as j}from"./vendor-react-DtEkOSI3.js";import{a as L}from"./index-XBRr7Ttx.js";const w={2024:[{date:"2024-01-01",name:"Ïã†Ï†ï"},{date:"2024-02-09",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2024-02-10",name:"ÏÑ§ÎÇ†"},{date:"2024-02-11",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2024-02-12",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2024-03-01",name:"ÏÇºÏùºÏ†à"},{date:"2024-04-10",name:"22ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞"},{date:"2024-05-05",name:"Ïñ¥Î¶∞Ïù¥ÎÇ†"},{date:"2024-05-06",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2024-05-15",name:"Î∂ÄÏ≤òÎãòÏò§Ïã†ÎÇ†"},{date:"2024-06-06",name:"ÌòÑÏ∂©Ïùº"},{date:"2024-08-15",name:"Í¥ëÎ≥µÏ†à"},{date:"2024-09-16",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2024-09-17",name:"Ï∂îÏÑù"},{date:"2024-09-18",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2024-10-03",name:"Í∞úÏ≤úÏ†à"},{date:"2024-10-09",name:"ÌïúÍ∏ÄÎÇ†"},{date:"2024-12-25",name:"ÌÅ¨Î¶¨Ïä§ÎßàÏä§"}],2025:[{date:"2025-01-01",name:"Ïã†Ï†ï"},{date:"2025-01-28",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2025-01-29",name:"ÏÑ§ÎÇ†"},{date:"2025-01-30",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2025-03-01",name:"ÏÇºÏùºÏ†à"},{date:"2025-05-05",name:"Ïñ¥Î¶∞Ïù¥ÎÇ†"},{date:"2025-05-05",name:"Î∂ÄÏ≤òÎãòÏò§Ïã†ÎÇ†"},{date:"2025-05-06",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2025-06-06",name:"ÌòÑÏ∂©Ïùº"},{date:"2025-08-15",name:"Í¥ëÎ≥µÏ†à"},{date:"2025-10-03",name:"Í∞úÏ≤úÏ†à"},{date:"2025-10-05",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2025-10-06",name:"Ï∂îÏÑù"},{date:"2025-10-07",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2025-10-08",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2025-10-09",name:"ÌïúÍ∏ÄÎÇ†"},{date:"2025-12-25",name:"ÌÅ¨Î¶¨Ïä§ÎßàÏä§"}],2026:[{date:"2026-01-01",name:"Ïã†Ï†ï"},{date:"2026-02-16",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2026-02-17",name:"ÏÑ§ÎÇ†"},{date:"2026-02-18",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2026-03-01",name:"ÏÇºÏùºÏ†à"},{date:"2026-03-02",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2026-05-05",name:"Ïñ¥Î¶∞Ïù¥ÎÇ†"},{date:"2026-05-24",name:"Î∂ÄÏ≤òÎãòÏò§Ïã†ÎÇ†"},{date:"2026-05-25",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2026-06-06",name:"ÌòÑÏ∂©Ïùº"},{date:"2026-08-15",name:"Í¥ëÎ≥µÏ†à"},{date:"2026-09-24",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2026-09-25",name:"Ï∂îÏÑù"},{date:"2026-09-26",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2026-10-03",name:"Í∞úÏ≤úÏ†à"},{date:"2026-10-09",name:"ÌïúÍ∏ÄÎÇ†"},{date:"2026-12-25",name:"ÌÅ¨Î¶¨Ïä§ÎßàÏä§"}],2027:[{date:"2027-01-01",name:"Ïã†Ï†ï"},{date:"2027-02-06",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2027-02-07",name:"ÏÑ§ÎÇ†"},{date:"2027-02-08",name:"ÏÑ§ÎÇ† Ïó∞Ìú¥"},{date:"2027-03-01",name:"ÏÇºÏùºÏ†à"},{date:"2027-05-05",name:"Ïñ¥Î¶∞Ïù¥ÎÇ†"},{date:"2027-05-13",name:"Î∂ÄÏ≤òÎãòÏò§Ïã†ÎÇ†"},{date:"2027-06-06",name:"ÌòÑÏ∂©Ïùº"},{date:"2027-06-07",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2027-08-15",name:"Í¥ëÎ≥µÏ†à"},{date:"2027-08-16",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2027-09-14",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2027-09-15",name:"Ï∂îÏÑù"},{date:"2027-09-16",name:"Ï∂îÏÑù Ïó∞Ìú¥"},{date:"2027-10-03",name:"Í∞úÏ≤úÏ†à"},{date:"2027-10-04",name:"ÎåÄÏ≤¥Í≥µÌú¥Ïùº"},{date:"2027-10-09",name:"ÌïúÍ∏ÄÎÇ†"},{date:"2027-12-25",name:"ÌÅ¨Î¶¨Ïä§ÎßàÏä§"}]};function D(a){const d=new Date(a),l=d.getFullYear(),i=d.toISOString().split("T")[0];return(w[l]||[]).find(t=>t.date===i)}function H(a,d){const l=w[a]||[],i=String(d+1).padStart(2,"0"),m=`${a}-${i}`;return l.filter(t=>t.date.startsWith(m))}function S(a){const l=new Date(a).getDay();return l===0||l===6}function O(a,d,l){const i=parseInt(l)||1,m=new Date(a,d+1,0).getDate(),t=Math.min(i,m);return new Date(a,d,t)}function C(a,d=6){const l=[],i=new Date;i.setHours(0,0,0,0);for(let m=0;m<d;m++){const t=new Date(i.getFullYear(),i.getMonth()+m,1),h=t.getFullYear(),o=t.getMonth(),x={month:t.toLocaleDateString("ko-KR",{year:"numeric",month:"long"}),monthKey:`${h}-${String(o+1).padStart(2,"0")}`,payments:[],total:0,holidays:H(h,o)};a.filter(s=>!s.isPaused).forEach(s=>{const c=O(h,o,s.billingDay),r=D(c),n=S(c);x.payments.push({subscription:s,date:c,day:c.getDate(),isHoliday:!!r,holidayName:r==null?void 0:r.name,isWeekend:n,cost:parseFloat(s.cost)||0}),x.total+=parseFloat(s.cost)||0}),x.payments.sort((s,c)=>s.day-c.day),l.push(x)}return l}function P(a){const d=[],l=D(a);if(l&&d.push({type:"holiday",message:`${l.name}ÏûÖÎãàÎã§. ÏùÄÌñâ ÏóÖÎ¨¥Í∞Ä Ïâ¥ Ïàò ÏûàÏäµÎãàÎã§.`}),S(a)){const i=new Date(a).getDay();d.push({type:"weekend",message:`${i===0?"Ïùº":"ÌÜ†"}ÏöîÏùºÏûÖÎãàÎã§. ÏûêÎèô Í≤∞Ï†úÎäî Ï†ïÏÉÅ ÏßÑÌñâÎê©ÎãàÎã§.`})}return d}function A({subscriptions:a=[]}){const[d,l]=j.useState(3),[i,m]=j.useState("calendar"),t=j.useMemo(()=>C(a,d),[a,d]),h=j.useMemo(()=>{const o=t.reduce((r,n)=>r+n.total,0),x=t.length>0?o/t.length:0,s=Math.max(...t.map(r=>r.total),0),c=Math.min(...t.map(r=>r.total),0);return{total:o,average:x,max:s,min:c}},[t]);return a.filter(o=>!o.isPaused).length===0?e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-3xl border border-gray-200 dark:border-dark-700 p-8 text-center",children:[e.jsx(v,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"ÌôúÏÑ±ÌôîÎêú Íµ¨ÎèÖÏù¥ ÏóÜÏäµÎãàÎã§"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400",children:"Íµ¨ÎèÖÏùÑ Ï∂îÍ∞ÄÌïòÎ©¥ Í≤∞Ï†ú ÏãúÎÆ¨Î†àÏù¥ÏÖòÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Í≤∞Ï†ú ÏãúÎÆ¨Î†àÏù¥ÏÖò"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>m("calendar"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${i==="calendar"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-dark-400"}`,children:"Ï∫òÎ¶∞Îçî"}),e.jsx("button",{onClick:()=>m("list"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${i==="list"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-dark-400"}`,children:"Î¶¨Ïä§Ìä∏"})]}),e.jsxs("select",{value:d,onChange:o=>l(parseInt(o.target.value)),className:"px-3 py-2 bg-gray-100 dark:bg-dark-700 border-0 rounded-xl text-sm",children:[e.jsx("option",{value:3,children:"3Í∞úÏõî"}),e.jsx("option",{value:6,children:"6Í∞úÏõî"}),e.jsx("option",{value:12,children:"12Í∞úÏõî"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-dark-700 p-4",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-dark-400",children:"Ï¥ù ÏòàÏÉÅ ÏßÄÏ∂ú"}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:[h.total.toLocaleString(),"Ïõê"]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-dark-700 p-4",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-dark-400",children:"Ïõî ÌèâÍ∑†"}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:[Math.round(h.average).toLocaleString(),"Ïõê"]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-dark-700 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-dark-400 flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4 text-red-500"}),"ÏµúÍ≥† ÏßÄÏ∂úÏõî"]}),e.jsxs("div",{className:"text-xl font-bold text-red-600 dark:text-red-400 mt-1",children:[h.max.toLocaleString(),"Ïõê"]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-dark-700 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-dark-400 flex items-center gap-1",children:[e.jsx($,{className:"w-4 h-4 text-green-500"}),"ÏµúÏ†Ä ÏßÄÏ∂úÏõî"]}),e.jsxs("div",{className:"text-xl font-bold text-green-600 dark:text-green-400 mt-1",children:[h.min.toLocaleString(),"Ïõê"]})]})]}),i==="calendar"&&e.jsx("div",{className:"space-y-6",children:t.map((o,x)=>e.jsx(W,{data:o},x))}),i==="list"&&e.jsx("div",{className:"space-y-4",children:t.map((o,x)=>e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-3xl border border-gray-200 dark:border-dark-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-dark-700/50 border-b border-gray-100 dark:border-dark-700 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:o.month}),e.jsxs("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:[o.total.toLocaleString(),"Ïõê"]})]}),e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:o.payments.map((s,c)=>{const r=P(s.date);return e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold ${s.isHoliday?"bg-red-500":s.isWeekend?"bg-blue-500":"bg-gray-500 dark:bg-dark-600"}`,children:s.day}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[s.subscription.name,s.isHoliday&&e.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 px-2 py-0.5 rounded-full",children:s.holidayName})]}),r.length>0&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-dark-400",children:r[0].message})]})]}),e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[s.cost.toLocaleString(),"Ïõê"]})]},c)})})]},x))}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),e.jsx("span",{className:"text-gray-600 dark:text-dark-400",children:"Í≥µÌú¥Ïùº"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),e.jsx("span",{className:"text-gray-600 dark:text-dark-400",children:"Ï£ºÎßê"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-primary-500"}),e.jsx("span",{className:"text-gray-600 dark:text-dark-400",children:"Í≤∞Ï†úÏòàÏ†ï"})]})]})]})}function W({data:a}){const{month:d,payments:l,total:i,holidays:m}=a,t=new Date(a.monthKey+"-01"),h=t.getDay(),o=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),x=l.reduce((n,g)=>(n[g.day]||(n[g.day]=[]),n[g.day].push(g),n),{}),s=m.reduce((n,g)=>{const y=parseInt(g.date.split("-")[2]);return n[y]=g,n},{}),c=[];let r=new Array(h).fill(null);for(let n=1;n<=o;n++)r.push(n),r.length===7&&(c.push(r),r=[]);if(r.length>0){for(;r.length<7;)r.push(null);c.push(r)}return e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-3xl border border-gray-200 dark:border-dark-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-dark-700/50 border-b border-gray-100 dark:border-dark-700 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:d}),e.jsxs("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:[i.toLocaleString(),"Ïõê"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"].map((n,g)=>e.jsx("div",{className:`text-center text-xs font-medium py-2 ${g===0?"text-red-500":g===6?"text-blue-500":"text-gray-500 dark:text-dark-400"}`,children:n},n))}),c.map((n,g)=>e.jsx("div",{className:"grid grid-cols-7 gap-1",children:n.map((y,k)=>{if(!y)return e.jsx("div",{className:"aspect-square"},k);const u=x[y]||[],b=s[y];a.monthKey+""+String(y).padStart(2,"0");const N=k===0||k===6;return e.jsxs("div",{className:`aspect-square rounded-lg p-1 relative group ${b?"bg-red-50 dark:bg-red-900/20":N?"bg-blue-50 dark:bg-blue-900/10":"bg-gray-50 dark:bg-dark-700/30"}`,children:[e.jsx("div",{className:`text-xs font-medium ${b?"text-red-600 dark:text-red-400":N?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:y}),u.length>0&&e.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex gap-0.5 justify-center",children:[u.slice(0,3).map((p,f)=>e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500",style:{backgroundColor:L[p.subscription.category]||"#6366F1"}},f)),u.length>3&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 text-[6px] flex items-center justify-center text-white",children:"+"})]}),(u.length>0||b)&&e.jsxs("div",{className:"absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-2 w-40 p-2 bg-gray-900 dark:bg-dark-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[b&&e.jsxs("div",{className:"text-red-300 mb-1",children:["üéâ ",b.name]}),u.map((p,f)=>e.jsxs("div",{className:"truncate",children:[p.subscription.name,": ",p.cost.toLocaleString(),"Ïõê"]},f))]})]},k)})},g))]})]})}export{A as default};
