import{j as e,a5 as g,J as f,d as y,u as h,k as j,l as N}from"./vendor-ui-B6CU6qF1.js";import{r as c}from"./vendor-react-DtEkOSI3.js";const w=[{id:"kt_seezn",provider:"KT",name:"시즌+웨이브+지니 결합",price:11e3,includes:["Wavve","Genie","SEEZN"],category:"통신사",description:"KT 인터넷/모바일 고객 전용"},{id:"skt_universe",provider:"SKT",name:"우주패스 올",price:16500,includes:["Netflix","Wavve","Tving","YouTube Premium"],category:"통신사",description:"SKT 5G 요금제 고객 전용"},{id:"lg_bundle",provider:"LG U+",name:"U+프라임 비디오",price:14900,includes:["Netflix","Disney+","Wavve"],category:"통신사",description:"LG U+ 모바일 고객 전용"},{id:"coupang_wow",provider:"Coupang",name:"쿠팡 로켓와우",price:7890,includes:["Coupang Wow","Coupang Play"],category:"이커머스",description:"로켓배송 무료 + 쿠팡플레이 포함"},{id:"naver_plus",provider:"Naver",name:"네이버플러스 멤버십",price:4900,includes:["Naver Plus","Tving","Spotify"],category:"이커머스",description:"네이버쇼핑 적립 + OTT/음악 혜택"},{id:"kakao_together",provider:"Kakao",name:"카카오 톡서랍 플러스",price:3900,includes:["Melon"],category:"디지털",description:"멜론 스트리밍 + 카카오 이모티콘"},{id:"apple_one",provider:"Apple",name:"Apple One 개인",price:10900,includes:["Apple Music","iCloud+","Apple TV+","Apple Arcade"],category:"빅테크",description:"4가지 Apple 서비스 통합"},{id:"apple_one_family",provider:"Apple",name:"Apple One 가족",price:15900,includes:["Apple Music","iCloud+","Apple TV+","Apple Arcade"],category:"빅테크",description:"가족 최대 6명 공유 가능"}];function S({subscriptions:o}){const[x,u]=c.useState(null),[d,k]=c.useState(!1),r=c.useMemo(()=>(o.filter(s=>!s.isPaused).map(s=>s.name.toLowerCase()),w.map(s=>{const t=o.filter(i=>!i.isPaused&&s.includes.some(l=>i.name.toLowerCase().includes(l.toLowerCase())||l.toLowerCase().includes(i.name.toLowerCase()))),a=t.reduce((i,l)=>i+(l.cost||0),0),n=t.length,v=a-s.price;return{...s,matchingSubscriptions:t,currentCost:a,matchCount:n,savings:v,relevant:n>0}}).filter(s=>s.relevant||s.savings>0).sort((s,t)=>t.savings-s.savings)),[o]),m=c.useMemo(()=>r.length===0?0:Math.max(...r.map(s=>s.savings),0),[r]),p=d?r:r.slice(0,3);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",children:e.jsx(g,{size:20})}),"번들 최적화"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-400 mt-1",children:"번들 상품으로 전환하면 절약할 수 있는 금액"})]})}),m>0&&e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-5 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-100 text-sm",children:[e.jsx(f,{size:16}),"최대 절약 가능 금액"]}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:["₩",m.toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-emerald-200",children:"/월"})]})]}),e.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:e.jsx(y,{size:28})})]})}),p.length>0?e.jsxs("div",{className:"space-y-3",children:[p.map(s=>e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-dark-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>u(x===s.id?null:s.id),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:s.provider.charAt(0)}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-400",children:[s.provider," · ₩",s.price.toLocaleString(),"/월"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.savings>0&&e.jsxs("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full text-sm font-bold",children:["-₩",s.savings.toLocaleString()]}),x===s.id?e.jsx(h,{size:20}):e.jsx(j,{size:20})]})]}),x===s.id&&e.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 dark:border-dark-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-300 mb-4",children:s.description}),s.matchingSubscriptions.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-xl p-4 mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-dark-300 mb-3",children:"비용 비교"}),e.jsxs("div",{className:"space-y-2",children:[s.matchingSubscriptions.map(t=>{var a;return e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-dark-400",children:t.name}),e.jsxs("span",{className:"text-gray-900 dark:text-white",children:["₩",(a=t.cost)==null?void 0:a.toLocaleString()]})]},t.id)}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-dark-600 pt-2 mt-2 flex justify-between text-sm font-medium",children:[e.jsx("span",{className:"text-gray-700 dark:text-dark-300",children:"현재 합계"}),e.jsxs("span",{className:"text-gray-900 dark:text-white",children:["₩",s.currentCost.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{className:"text-gray-700 dark:text-dark-300",children:"번들 가격"}),e.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["₩",s.price.toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-dark-300 mb-2",children:"포함 서비스"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.includes.map(t=>{const a=s.matchingSubscriptions.some(n=>n.name.toLowerCase().includes(t.toLowerCase()));return e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${a?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-dark-600 text-gray-600 dark:text-dark-400"}`,children:[a&&e.jsx(N,{size:12}),t]},t)})})]})]})]},s.id)),r.length>3&&e.jsxs("button",{onClick:()=>k(!d),className:"w-full py-3 text-sm font-medium text-gray-500 dark:text-dark-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors flex items-center justify-center gap-1",children:[d?"간략히 보기":`${r.length-3}개 더 보기`,d?e.jsx(h,{size:16}):e.jsx(j,{size:16})]})]}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-dark-700 rounded-2xl",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gray-200 dark:bg-dark-600 text-gray-400 mb-4",children:e.jsx(g,{size:32})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"추천 번들이 없습니다"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-400",children:"더 많은 구독을 추가하면 번들 추천이 표시됩니다."})]})]})}export{S as default};
