const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage-DbLadNvn.js","./vendor-ui-RaJZtfGk.js","./vendor-react-Cr-SFtWI.js","./ForgotPasswordPage-d1_h5ge_.js","./ProfilePage-DaSJuXjK.js"])))=>i.map(i=>d[i]);
import{j as e,C as De,S as ae,M as ne,a as Ee,U as Pe,b as Te,L as Ie,T as _,c as Oe,d as B,e as Le,f as oe,D as Fe,g as Ue,h as Ae,i as Me,P as K,G as Re,k as le,l as z,E as ie,m as ze,n as $e,o as de,p as ce,X as W,q as _e,r as xe,F as Be,s as We,t as Je,u as Ge}from"./vendor-ui-RaJZtfGk.js";import{a as He,r as m,u as me,H as Ve,R as Ye,b as L,N as Xe,c as qe}from"./vendor-react-Cr-SFtWI.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(t){if(t.ep)return;t.ep=!0;const l=a(t);fetch(t.href,l)}})();var $={},Q=He;$.createRoot=Q.createRoot,$.hydrateRoot=Q.hydrateRoot;const Ke="modulepreload",Qe=function(r,s){return new URL(r,s).href},Z={},J=function(s,a,o){let t=Promise.resolve();if(a&&a.length>0){const d=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),p=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));t=Promise.allSettled(a.map(i=>{if(i=Qe(i,o),i in Z)return;Z[i]=!0;const c=i.endsWith(".css"),x=c?'[rel="stylesheet"]':"";if(!!o)for(let h=d.length-1;h>=0;h--){const f=d[h];if(f.href===i&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${x}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":Ke,c||(n.as="script"),n.crossOrigin="",n.href=i,p&&n.setAttribute("nonce",p),document.head.appendChild(n),c)return new Promise((h,f)=>{n.addEventListener("load",h),n.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return t.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return s().catch(l)})},E={USERS:"sub_manager_users",CURRENT_USER_ID:"sub_manager_current_user_id",SUBSCRIPTIONS_PREFIX:"sub_manager_data_"},j={getUsers:()=>{try{const r=localStorage.getItem(E.USERS);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading users from local storage",r),[]}},saveUsers:r=>{localStorage.setItem(E.USERS,JSON.stringify(r))},createUser:r=>{const s=j.getUsers(),a={id:`user_${Date.now()}`,displayName:r,createdAt:new Date().toISOString(),isAdmin:!1};return s.push(a),j.saveUsers(s),a},updateUser:(r,s)=>{const a=j.getUsers(),o=a.findIndex(t=>t.id===r);return o!==-1?(a[o]={...a[o],...s},j.saveUsers(a),a[o]):null},deleteUser:r=>{const a=j.getUsers().filter(o=>o.id!==r);j.saveUsers(a),localStorage.removeItem(`${E.SUBSCRIPTIONS_PREFIX}${r}`)},getCurrentUserId:()=>localStorage.getItem(E.CURRENT_USER_ID),login:r=>{localStorage.setItem(E.CURRENT_USER_ID,r)},logout:()=>{localStorage.removeItem(E.CURRENT_USER_ID)},getSubscriptions:r=>{if(!r)return[];try{const s=localStorage.getItem(`${E.SUBSCRIPTIONS_PREFIX}${r}`);return s?JSON.parse(s):[]}catch(s){return console.error("Error reading subscriptions",s),[]}},saveSubscriptions:(r,s)=>{r&&localStorage.setItem(`${E.SUBSCRIPTIONS_PREFIX}${r}`,JSON.stringify(s))}},ue=m.createContext();function Ze({children:r}){const[s,a]=m.useState(null),[o,t]=m.useState(!0);m.useEffect(()=>{(()=>{const u=j.getCurrentUserId();if(u){const h=j.getUsers().find(f=>f.id===u);h?a(h):j.logout()}t(!1)})()},[]);const l=async x=>{const n=j.getUsers().find(h=>h.id===x);if(!n)throw new Error("User not found");return j.login(x),a(n),n},d=async x=>{const u=j.createUser(x);return await l(u.id),u},g=async x=>{if(!s)return;const u=j.updateUser(s.id,x);a(u)},p=async()=>{j.logout(),a(null)},i=async()=>{s&&(j.deleteUser(s.id),await p())},c={user:s,userProfile:s,loading:o,isAuthenticated:!!s,isAdmin:(s==null?void 0:s.isAdmin)||!1,login:l,register:d,updateProfile:g,logout:p,deleteAccount:i,signInWithEmail:()=>Promise.reject(new Error("Local mode only")),signInWithGoogle:()=>Promise.reject(new Error("Local mode only")),resetPassword:()=>Promise.reject(new Error("Local mode only")),changePassword:()=>Promise.reject(new Error("Local mode only"))};return e.jsx(ue.Provider,{value:c,children:r})}function G(){const r=m.useContext(ue);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}const ge=m.createContext();function he({children:r}){const[s,a]=m.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("theme");return t?t==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});m.useEffect(()=>{const t=document.documentElement;s?(t.classList.add("dark"),localStorage.setItem("theme","dark")):(t.classList.remove("dark"),localStorage.setItem("theme","light"))},[s]);const o=()=>a(t=>!t);return e.jsx(ge.Provider,{value:{isDark:s,toggleTheme:o},children:r})}function pe(){const r=m.useContext(ge);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r}function et(r){const[s,a]=m.useState([]),[o,t]=m.useState(!0),[l,d]=m.useState(null);m.useEffect(()=>{if(!r){a([]),t(!1);return}try{t(!0);const n=j.getSubscriptions(r.id);a(n)}catch(n){console.error(n),d(n)}finally{t(!1)}},[r]);const g=m.useCallback(async n=>{if(r)try{const h={...n,id:`sub_${Date.now()}`,userId:r.id,createdAt:new Date().toISOString()},y=[...j.getSubscriptions(r.id),h];return j.saveSubscriptions(r.id,y),a(y),h.id}catch(h){throw d(h),h}},[r]),p=m.useCallback(async(n,h)=>{if(r)try{const y=j.getSubscriptions(r.id).map(w=>w.id===n?{...w,...h}:w);j.saveSubscriptions(r.id,y),a(y)}catch(f){throw d(f),f}},[r]),i=m.useCallback(async n=>{if(r)try{const f=j.getSubscriptions(r.id).filter(y=>y.id!==n);j.saveSubscriptions(r.id,f),a(f)}catch(h){throw d(h),h}},[r]),c=m.useCallback(async n=>{if(r)try{const f=j.getSubscriptions(r.id).find(y=>y.id===n);f&&await p(n,{isPaused:!f.isPaused})}catch(h){throw d(h),h}},[r,p]),x=m.useCallback(async()=>{if(r)try{j.saveSubscriptions(r.id,[]),a([])}catch(n){throw d(n),n}},[r]),u=m.useCallback(async n=>{if(r)try{const h=n.map(w=>({...w,id:w.id||`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:r.id,createdAt:new Date().toISOString()})),y=[...j.getSubscriptions(r.id),...h];j.saveSubscriptions(r.id,y),a(y)}catch(h){throw d(h),h}},[r]);return{subscriptions:s,loading:o,error:l,addSubscription:g,updateSubscription:p,deleteSubscription:i,togglePause:c,clearAllSubscriptions:x,importSubscriptions:u}}const tt=r=>{const s=new Date,a=s.getDate(),o=s.getMonth(),t=s.getFullYear();let l=new Date(t,o,r);for(a>r&&(l=new Date(t,o+1,r));l.getDate()!==r;)l.setDate(l.getDate()-1);if(a===r)return 0;const d=l.getTime()-s.getTime();return Math.ceil(d/(1e3*60*60*24))},rt=r=>{if(!r)return-1;const s=new Date(r);return Math.ceil((s-new Date)/(1e3*60*60*24))},ee=[{id:"demo-1",name:"Netflix",cost:17e3,billingDay:15,billingCycle:"monthly",category:"OTT",url:"https://www.netflix.com",customColor:"#E50914",isPaused:!1,notes:"í”„ë¦¬ë¯¸ì—„ ìš”ê¸ˆì œ"},{id:"demo-2",name:"Spotify",cost:10900,billingDay:20,billingCycle:"monthly",category:"Music",url:"https://www.spotify.com",customColor:"#1DB954",isPaused:!1,notes:""},{id:"demo-3",name:"YouTube Premium",cost:14900,billingDay:5,billingCycle:"monthly",category:"OTT",url:"https://www.youtube.com",customColor:"#FF0000",isPaused:!1,notes:"ê°€ì¡± ìš”ê¸ˆì œ"},{id:"demo-4",name:"ChatGPT Plus",cost:28600,billingDay:10,billingCycle:"monthly",category:"Work",url:"https://chat.openai.com",customColor:"#10A37F",isPaused:!1,notes:"GPT-4 ì‚¬ìš©"},{id:"demo-5",name:"Coupang Wow",cost:7890,billingDay:1,billingCycle:"monthly",category:"Shopping",url:"https://www.coupang.com",customColor:"#342971",isPaused:!1,notes:"ë¡œì¼“ë°°ì†¡ ë¬´ë£Œ"},{id:"demo-6",name:"iCloud+",cost:1100,billingDay:25,billingCycle:"monthly",category:"Utility",url:"https://www.icloud.com",customColor:"#3478F6",isPaused:!0,notes:"50GB ì €ì¥ê³µê°„"},{id:"demo-7",name:"Notion",cost:1e4,billingDay:12,billingCycle:"monthly",category:"Work",url:"https://www.notion.so",customColor:"#000000",isPaused:!1,notes:"Plus ìš”ê¸ˆì œ"},{id:"demo-8",name:"ë°€ë¦¬ì˜ ì„œì¬",cost:9900,billingDay:18,billingCycle:"monthly",category:"Education",url:"https://www.millie.co.kr",customColor:"#FFD700",isPaused:!1,notes:""}];function C(){const r=localStorage.getItem("demoSubscriptions");return r?JSON.parse(r):(localStorage.setItem("demoSubscriptions",JSON.stringify(ee)),ee)}function R(r){const s=C(),a=s.findIndex(o=>o.id===r.id);return a>=0?s[a]=r:(r.id=`demo-${Date.now()}`,s.push(r)),localStorage.setItem("demoSubscriptions",JSON.stringify(s)),r}function st(r){const a=C().filter(o=>o.id!==r);localStorage.setItem("demoSubscriptions",JSON.stringify(a))}function at(){localStorage.removeItem("demoMode"),localStorage.removeItem("demoSubscriptions")}function nt(){const r=localStorage.getItem("demoMode");if(!r)return null;const s=JSON.parse(r),a=new Date(s.expiresAt),o=new Date;if(a<=o)return at(),null;const t=a-o,l=Math.ceil(t/(1e3*60));return{...s,remainingMinutes:l,isExpired:!1}}function ot({subscriptionCount:r,onOpenSettings:s}){var f;const{isDark:a,toggleTheme:o}=pe(),{user:t,userProfile:l,isAdmin:d,isDemo:g,signOut:p}=G(),i=me(),[c,x]=m.useState(!1),u=async()=>{await p(),i("/login")},n=(l==null?void 0:l.displayName)||(t==null?void 0:t.displayName)||(g?"ì²´í—˜ ì¤‘":"ì‚¬ìš©ì"),h=(l==null?void 0:l.photoURL)||(t==null?void 0:t.photoURL);return e.jsx("header",{className:"bg-white dark:bg-dark-800 sticky top-0 z-20 shadow-sm dark:shadow-dark-900/50 transition-colors",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 p-2 rounded-xl text-white shadow-lg shadow-primary-500/30",children:e.jsx(De,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight",children:"êµ¬ë… ë§¤ë‹ˆì €"}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-400 -mt-0.5",children:"Pro Edition"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 bg-gray-100 dark:bg-dark-700 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-bold",children:r}),e.jsx("span",{className:"ml-1",children:"êµ¬ë…ì¤‘"})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors","aria-label":"í…Œë§ˆ ë³€ê²½",children:a?e.jsx(ae,{size:18}):e.jsx(ne,{size:18})}),e.jsx("button",{onClick:s,className:"p-2 rounded-xl text-gray-500 dark:text-dark-400 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors","aria-label":"ì„¤ì •",children:e.jsx(Ee,{size:18})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!c),className:"flex items-center gap-2 p-1.5 pr-3 rounded-xl hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx("div",{className:"w-7 h-7 rounded-full bg-primary-500 flex items-center justify-center text-white text-xs font-medium overflow-hidden",children:h?e.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover"}):((f=n[0])==null?void 0:f.toUpperCase())||"U"})}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>x(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-dark-700 rounded-xl shadow-lg border border-gray-100 dark:border-dark-600 z-20 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-dark-600",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:n}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 truncate",children:(t==null?void 0:t.email)||"ì²´í—˜ ëª¨ë“œ"})]}),e.jsxs("div",{className:"py-1",children:[!g&&e.jsxs("button",{onClick:()=>{x(!1),i("/profile")},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 flex items-center gap-2",children:[e.jsx(Pe,{size:16}),"í”„ë¡œí•„ ì„¤ì •"]}),d&&e.jsxs("button",{onClick:()=>{x(!1),i("/admin")},className:"w-full px-4 py-2.5 text-left text-sm text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 flex items-center gap-2",children:[e.jsx(Te,{size:16}),"ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ"]}),e.jsxs("button",{onClick:()=>{x(!1),u()},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 flex items-center gap-2",children:[e.jsx(Ie,{size:16}),g?"ì²´í—˜ ì¢…ë£Œ":"ë¡œê·¸ì•„ì›ƒ"]})]})]})]})]})]})]})})}const v={OTT:"#E50914",Music:"#1DB954",Shopping:"#FF9900",Utility:"#00A4EF",Work:"#5A5A5A",Education:"#FFD700",Health:"#10B981",Finance:"#8B5CF6",Etc:"#808080"},F={OTT:"ì˜ìƒ/ìŠ¤íŠ¸ë¦¬ë°",Music:"ìŒì•…",Shopping:"ì‡¼í•‘/ì´ì»¤ë¨¸ìŠ¤",Utility:"ìœ í‹¸ë¦¬í‹°",Work:"ì—…ë¬´/ìƒì‚°ì„±",Education:"êµìœ¡/í•™ìŠµ",Health:"ê±´ê°•/ìš´ë™",Finance:"ê¸ˆìœµ/íˆ¬ì",Etc:"ê¸°íƒ€"},lt=[{name:"Netflix",category:"OTT",color:"#E50914",url:"https://www.netflix.com",defaultCost:17e3},{name:"YouTube Premium",category:"OTT",color:"#FF0000",url:"https://www.youtube.com",defaultCost:14900},{name:"Disney+",category:"OTT",color:"#113CCF",url:"https://www.disneyplus.com",defaultCost:9900},{name:"Wavve",category:"OTT",color:"#1C1B1F",url:"https://www.wavve.com",defaultCost:13900},{name:"Tving",category:"OTT",color:"#FF153C",url:"https://www.tving.com",defaultCost:13900},{name:"Watcha",category:"OTT",color:"#FF0558",url:"https://watcha.com",defaultCost:12900},{name:"Spotify",category:"Music",color:"#1DB954",url:"https://www.spotify.com",defaultCost:10900},{name:"Melon",category:"Music",color:"#00CD3C",url:"https://www.melon.com",defaultCost:10900},{name:"Apple Music",category:"Music",color:"#FA233B",url:"https://music.apple.com",defaultCost:10900},{name:"Genie",category:"Music",color:"#3D85C6",url:"https://www.genie.co.kr",defaultCost:10900},{name:"Bugs",category:"Music",color:"#FF3366",url:"https://music.bugs.co.kr",defaultCost:9500},{name:"Coupang Wow",category:"Shopping",color:"#342971",url:"https://www.coupang.com",defaultCost:7890},{name:"Naver Plus",category:"Shopping",color:"#03C75A",url:"https://nid.naver.com",defaultCost:4900},{name:"SSG ìœ ë‹ˆë²„ìŠ¤",category:"Shopping",color:"#FF5A5A",url:"https://www.ssg.com",defaultCost:4900},{name:"Notion",category:"Work",color:"#000000",url:"https://www.notion.so",defaultCost:1e4},{name:"ChatGPT Plus",category:"Work",color:"#10A37F",url:"https://chat.openai.com",defaultCost:2e4},{name:"Figma",category:"Work",color:"#F24E1E",url:"https://www.figma.com",defaultCost:15e3},{name:"GitHub Copilot",category:"Work",color:"#000000",url:"https://github.com",defaultCost:1e4},{name:"Slack",category:"Work",color:"#4A154B",url:"https://slack.com",defaultCost:1e4},{name:"Zoom",category:"Work",color:"#2D8CFF",url:"https://zoom.us",defaultCost:16e3},{name:"Adobe CC",category:"Work",color:"#FF0000",url:"https://www.adobe.com",defaultCost:24e3},{name:"ë°€ë¦¬ì˜ ì„œì¬",category:"Education",color:"#FFD700",url:"https://www.millie.co.kr",defaultCost:9900},{name:"Duolingo",category:"Education",color:"#58CC02",url:"https://www.duolingo.com",defaultCost:14900},{name:"Coursera",category:"Education",color:"#0056D2",url:"https://www.coursera.org",defaultCost:59e3},{name:"í´ë˜ìŠ¤101",category:"Education",color:"#FF6B00",url:"https://class101.net",defaultCost:19900},{name:"Nike Training Club",category:"Health",color:"#000000",url:"https://www.nike.com",defaultCost:0},{name:"Keep",category:"Health",color:"#00C8FF",url:"https://www.gotokeep.com",defaultCost:9900},{name:"iCloud+",category:"Utility",color:"#3478F6",url:"https://www.icloud.com",defaultCost:1100},{name:"Google One",category:"Utility",color:"#4285F4",url:"https://one.google.com",defaultCost:2400},{name:"Dropbox",category:"Utility",color:"#0061FF",url:"https://www.dropbox.com",defaultCost:12e3},{name:"1Password",category:"Utility",color:"#1A8CFF",url:"https://1password.com",defaultCost:5e3},{name:"NordVPN",category:"Utility",color:"#4687FF",url:"https://nordvpn.com",defaultCost:15e3}],it={monthly:{label:"ì›”ê°„",multiplier:1},yearly:{label:"ì—°ê°„",multiplier:12},weekly:{label:"ì£¼ê°„",multiplier:.25}},dt=[{value:"daysLeft",label:"ê²°ì œì¼ ìˆœ"},{value:"cost-desc",label:"ê¸ˆì•¡ ë†’ì€ ìˆœ"},{value:"cost-asc",label:"ê¸ˆì•¡ ë‚®ì€ ìˆœ"},{value:"name",label:"ì´ë¦„ ìˆœ"},{value:"category",label:"ì¹´í…Œê³ ë¦¬ ìˆœ"}];function ct({items:r}){const s=new Date().getDate(),a=m.useMemo(()=>[...r].filter(t=>!t.isPaused).sort((t,l)=>{let d=t.billingDay<s?t.billingDay+31:t.billingDay,g=l.billingDay<s?l.billingDay+31:l.billingDay;return d-g}),[r,s]);if(a.length===0)return e.jsx("div",{className:"text-xs text-white/60 text-center py-4",children:"ê²°ì œ ì˜ˆì •ì¸ êµ¬ë…ì´ ì—†ìŠµë‹ˆë‹¤"});const o=a.slice(0,7);return e.jsxs("div",{className:"relative pt-2 pb-4",children:[e.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:o.map((t,l)=>{const d=t.billingDay<s?(t.billingDay+31-s)/31:(t.billingDay-s)/31,g=t.customColor||v[t.category]||v.Etc;return e.jsx("div",{className:"absolute h-full w-1 rounded-full transition-all",style:{left:`${d*100}%`,backgroundColor:g}},t.id)})}),e.jsx("div",{className:"flex justify-between mt-4 px-1",children:o.slice(0,5).map((t,l)=>{const d=t.billingDay<s,g=t.billingDay===s,p=t.customColor||v[t.category]||v.Etc;return e.jsxs("div",{className:"flex flex-col items-center group cursor-pointer",style:{flex:`0 0 ${100/5}%`},children:[e.jsx("div",{className:`w-3 h-3 rounded-full border-2 transition-all ${g?"animate-pulse scale-125":d?"opacity-40":"group-hover:scale-110"}`,style:{backgroundColor:p,borderColor:"rgba(255,255,255,0.5)"}}),e.jsx("span",{className:`text-[10px] font-semibold mt-1.5 ${g?"text-white":d?"text-white/40":"text-white/80"}`,children:g?"ì˜¤ëŠ˜":`${t.billingDay}ì¼`}),e.jsx("span",{className:`text-[10px] truncate w-full text-center ${g?"text-white font-bold":d?"text-white/40":"text-white/70"}`,children:t.name.length>6?t.name.slice(0,6)+"..":t.name}),e.jsxs("span",{className:"text-[9px] text-white/50 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.cost.toLocaleString(),"ì›"]})]},t.id)})}),a.length>5&&e.jsx("div",{className:"text-center mt-2",children:e.jsxs("span",{className:"text-[10px] text-white/40",children:["+",a.length-5,"ê°œ ë” ìˆìŒ"]})})]})}function xt({totalMonthlyCost:r,totalYearlyCost:s,subscriptions:a,previousMonthCost:o=null}){const t=o?((r-o)/o*100).toFixed(1):null;return e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary-600 via-primary-700 to-violet-700 dark:from-primary-700 dark:via-primary-800 dark:to-violet-800 rounded-3xl p-6 text-white shadow-xl shadow-primary-500/20 dark:shadow-primary-900/30",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-40 h-40 rounded-full bg-white opacity-[0.07] blur-2xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-32 h-32 rounded-full bg-white opacity-[0.07] blur-xl pointer-events-none"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-20 h-20 rounded-full bg-violet-400 opacity-10 blur-xl pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"text-white/70 text-sm font-medium mb-1 flex items-center gap-2",children:["ì´ë²ˆ ë‹¬ ì˜ˆìƒ ì§€ì¶œì•¡",t!==null&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full flex items-center gap-0.5 ${parseFloat(t)>0?"bg-red-500/20 text-red-200":"bg-green-500/20 text-green-200"}`,children:[parseFloat(t)>0?e.jsx(_,{size:10}):e.jsx(Oe,{size:10}),Math.abs(parseFloat(t)),"%"]})]}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-2",children:[e.jsx("h2",{className:"text-4xl font-extrabold tracking-tight",children:r.toLocaleString()}),e.jsx("span",{className:"text-xl opacity-80 font-medium",children:"ì›"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-6",children:[e.jsxs("span",{children:["ì—°ê°„ ì•½ ",Math.round(s/1e4).toLocaleString(),"ë§Œì›"]}),e.jsx("span",{className:"text-white/30",children:"|"}),e.jsxs("span",{children:["ì¼ í‰ê·  ",Math.round(r/30).toLocaleString(),"ì›"]})]})]}),e.jsxs("div",{className:"bg-white/[0.08] backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-white/70 flex items-center gap-1.5",children:[e.jsx(B,{size:12}),"ê²°ì œ ì¼ì •"]}),e.jsxs("span",{className:"text-[10px] text-white/50",children:[new Date().getMonth()+1,"ì›”"]})]}),e.jsx(ct,{items:a})]})]})}function mt({items:r}){return!r||r.length===0?null:e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl p-4 shadow-sm border-l-4 border-red-500 dark:border-red-400 flex items-start gap-3 animate-fade-in",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded-full text-red-500 dark:text-red-400 flex-shrink-0",children:e.jsx(Le,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:["ê³§ ê²°ì œë˜ëŠ” ì„œë¹„ìŠ¤",e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-[10px] px-1.5 py-0.5 rounded-full font-medium",children:r.length})]}),e.jsx("div",{className:"mt-2 space-y-1.5",children:r.map(s=>e.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b border-gray-50 dark:border-dark-700 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:s.customColor||"#E50914"}}),e.jsx("span",{className:"text-gray-600 dark:text-dark-300 truncate",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:[s.cost.toLocaleString(),"ì›"]}),e.jsx("span",{className:`font-bold text-xs px-2 py-0.5 rounded ${s.daysLeft===0?"bg-red-500 text-white":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:s.daysLeft===0?"ì˜¤ëŠ˜":`D-${s.daysLeft}`})]})]},s.id))})]})]})}function ut({data:r,onCategoryClick:s}){const[a,o]=m.useState(null);if(!r||r.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400 dark:text-dark-500 bg-gray-50 dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx(oe,{className:"w-8 h-8 mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"})]});const t=r.reduce((i,c)=>i+c.cost,0);let l=0;const d=i=>{const c=Math.cos(2*Math.PI*i),x=Math.sin(2*Math.PI*i);return[c,x]},g=r.map(i=>{const c=i.cost/t,x=l;l+=c;const u=l,[n,h]=d(x),[f,y]=d(u),w=c>.5?1:0,D=["M 0 0",`L ${n} ${h}`,`A 1 1 0 ${w} 1 ${f} ${y}`,"L 0 0"].join(" "),S=i.customColor||v[i.category]||v.Etc,N=a===i.id;return e.jsx("path",{d:D,fill:S,className:"chart-segment cursor-pointer",style:{opacity:a&&!N?.5:1,transform:N?"scale(1.03)":"scale(1)"},onMouseEnter:()=>o(i.id),onMouseLeave:()=>o(null),onClick:()=>s==null?void 0:s(i.category)},i.id)}),p=r.find(i=>i.id===a);return e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative w-36 h-36 flex-shrink-0",children:[e.jsx("svg",{viewBox:"-1.1 -1.1 2.2 2.2",className:"transform -rotate-90 w-full h-full drop-shadow-sm",children:g}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-20 h-20 bg-white dark:bg-dark-800 rounded-full flex flex-col items-center justify-center shadow-inner dark:shadow-dark-900/50",children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-white truncate max-w-[70px]",children:p.name}),e.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-dark-400",children:[Math.round(p.cost/t*100),"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ì´ë²ˆë‹¬"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800 dark:text-white",children:[Math.round(t/1e4),"ë§Œì›"]})]})})})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 gap-1.5 text-xs max-h-36 overflow-y-auto scrollbar-hide",children:[r.slice(0,6).map(i=>{const c=i.customColor||v[i.category]||v.Etc,x=a===i.id;return e.jsxs("div",{className:`flex items-center justify-between p-1.5 rounded-lg transition-all cursor-pointer ${x?"bg-gray-100 dark:bg-dark-700":""}`,onMouseEnter:()=>o(i.id),onMouseLeave:()=>o(null),onClick:()=>s==null?void 0:s(i.category),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:c}}),e.jsx("span",{className:"truncate max-w-[80px] text-gray-600 dark:text-dark-300",children:i.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-400 dark:text-dark-500 text-[10px]",children:[i.cost.toLocaleString(),"ì›"]}),e.jsxs("span",{className:"font-semibold text-gray-800 dark:text-white w-8 text-right",children:[Math.round(i.cost/t*100),"%"]})]})]},i.id)}),r.length>6&&e.jsxs("div",{className:"text-gray-400 dark:text-dark-500 pl-4 text-[10px]",children:["...ì™¸ ",r.length-6,"ê°œ"]})]})]})}function gt({subscriptions:r,totalMonthlyCost:s,totalYearlyCost:a,categoryBreakdown:o,onCategoryClick:t}){const l=m.useMemo(()=>{const c=["1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"],x=new Date().getMonth();return Array.from({length:6},(u,n)=>{const h=(x-5+n+12)%12,f=Math.random()*.3-.15,y=Math.round(s*(1+f));return{month:c[h],cost:n===5?s:y,isCurrentMonth:n===5}})},[s]),d=Math.max(...l.map(c=>c.cost)),g=m.useMemo(()=>Object.entries(o).sort((c,x)=>x[1].total-c[1].total).slice(0,5),[o]),p=m.useMemo(()=>[...r].filter(c=>!c.isPaused).sort((c,x)=>x.cost-c.cost)[0],[r]),i=r.filter(c=>!c.isPaused);return r.length===0?null:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(oe,{className:"w-4 h-4 text-primary-500"}),"ì§€ì¶œ ë¶„ì„"]}),e.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-dark-500 bg-gray-100 dark:bg-dark-700 px-2 py-1 rounded-full",children:[i.length,"ê°œ í™œì„±"]})]}),e.jsx(ut,{data:i,onCategoryClick:t})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(Fe,{size:14}),e.jsx("span",{className:"text-xs",children:"ì›” í‰ê· "})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(s).toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-gray-400 dark:text-dark-500 ml-0.5",children:"ì›"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(B,{size:14}),e.jsx("span",{className:"text-xs",children:"ì—°ê°„ ì˜ˆìƒ"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(a/1e4).toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-gray-400 dark:text-dark-500 ml-0.5",children:"ë§Œì›"})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(Ue,{className:"w-4 h-4 text-primary-500"}),"ì›”ë³„ ì¶”ì´"]}),e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ìµœê·¼ 6ê°œì›”"})]}),e.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:l.map((c,x)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:`w-full rounded-t-lg transition-all ${c.isCurrentMonth?"bg-gradient-to-t from-primary-500 to-primary-400":"bg-gray-200 dark:bg-dark-600"}`,style:{height:`${c.cost/d*100}%`,minHeight:"8px"}}),e.jsx("span",{className:`text-[10px] ${c.isCurrentMonth?"text-primary-600 dark:text-primary-400 font-bold":"text-gray-400 dark:text-dark-500"}`,children:c.month})]},x))})]}),g.length>0&&e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(_,{className:"w-4 h-4 text-primary-500"}),"ì¹´í…Œê³ ë¦¬ë³„"]})}),e.jsx("div",{className:"space-y-3",children:g.map(([c,x])=>{const u=x.total/s*100,n=v[c]||v.Etc;return e.jsxs("button",{onClick:()=>t==null?void 0:t(c),className:"w-full text-left hover:bg-gray-50 dark:hover:bg-dark-700 rounded-xl p-2 -mx-2 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:n}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-dark-300",children:F[c]||c}),e.jsxs("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:["(",x.count,"ê°œ)"]})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[x.total.toLocaleString(),"ì›"]})]}),e.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${u}%`,backgroundColor:n}})})]},c)})})]}),p&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-900/30",children:[e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium mb-1",children:"ğŸ’° ê°€ì¥ ë¹„ì‹¼ êµ¬ë…"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:p.name}),e.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[p.cost.toLocaleString(),"ì›/ì›”"]})]})]})]})}function ht({searchQuery:r,onSearchChange:s,selectedCategory:a,onCategoryChange:o,sortBy:t,onSortChange:l,showPaused:d,onShowPausedChange:g}){const p=["All",...Object.keys(v)];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ae,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-dark-500"}),e.jsx("input",{type:"text",placeholder:"êµ¬ë… ì„œë¹„ìŠ¤ ê²€ìƒ‰...",value:r,onChange:i=>s(i.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-dark-500 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all text-sm"})]}),e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide pb-1",children:p.map(i=>e.jsxs("button",{onClick:()=>o(i==="All"?null:i),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${i==="All"&&!a||a===i?"bg-primary-500 text-white shadow-md shadow-primary-500/30":"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-dark-300 hover:bg-gray-200 dark:hover:bg-dark-600"}`,children:[i!=="All"&&e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v[i]}}),i==="All"?"ì „ì²´":F[i]||i]},i))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:t,onChange:i=>l(i.target.value),className:"appearance-none pl-3 pr-8 py-1.5 rounded-lg border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800 text-gray-600 dark:text-dark-300 text-xs font-medium cursor-pointer focus:ring-2 focus:ring-primary-500 outline-none",children:dt.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))}),e.jsx(Me,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-400",children:"ì¼ì‹œì •ì§€ í¬í•¨"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:i=>g(i.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 dark:bg-dark-700 rounded-full peer peer-checked:bg-primary-500 transition-colors"}),e.jsx("div",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform peer-checked:translate-x-4"})]})]})]})]})}function te({subscription:r,onEdit:s,onDelete:a,onTogglePause:o}){const{id:t,name:l,cost:d,billingDay:g,billingCycle:p,category:i,url:c,customColor:x,isPaused:u,trialEndDate:n,daysLeft:h}=r,f=x||v[i]||v.Etc,y=rt(n),w=y>=0;return e.jsxs("div",{className:`group bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border transition-all card-hover ${u?"border-gray-200 dark:border-dark-700 opacity-60":h<=3?"border-red-200 dark:border-red-900/50":"border-gray-100 dark:border-dark-700 hover:border-primary-200 dark:hover:border-primary-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxs("div",{className:`relative w-11 h-11 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md transition-transform group-hover:scale-105 ${u?"grayscale":""}`,style:{backgroundColor:f},children:[l.slice(0,1).toUpperCase(),u&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-500 rounded-full flex items-center justify-center",children:e.jsx(K,{size:10,className:"text-white"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-1.5 truncate",children:[l,c&&e.jsx(Re,{size:10,className:"text-gray-300 dark:text-dark-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-dark-400 mt-0.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${f}15`,color:f},children:F[i]||i}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{size:10}),"ë§¤ì›” ",g,"ì¼"]}),p&&p!=="monthly"&&e.jsx("span",{className:"text-primary-500 dark:text-primary-400 font-medium",children:p==="yearly"?"ì—°ê°„":"ì£¼ê°„"})]}),w&&e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-amber-600 dark:text-amber-400",children:[e.jsx(z,{size:10}),"ë¬´ë£Œì²´í—˜ D-",y]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("div",{className:`font-bold text-sm ${u?"text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:[d.toLocaleString(),"ì›"]}),e.jsx("div",{className:`text-[10px] font-bold mt-0.5 ${u?"text-gray-400 dark:text-dark-500":h===0?"text-red-600 dark:text-red-400 animate-pulse":h<=3?"text-red-500 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`,children:u?"ì¼ì‹œì •ì§€":h===0?"Today!":`D-${h}`})]})]}),e.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-50 dark:border-dark-700 flex justify-end items-center gap-2",children:[c&&e.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-1.5 rounded-lg bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 text-xs font-medium hover:bg-primary-100 dark:hover:bg-primary-900/40 transition-colors",children:[e.jsx(ie,{size:12}),"ì„œë¹„ìŠ¤ ì´ë™"]}),e.jsx("button",{onClick:()=>o(t),className:`p-1.5 rounded-lg transition-colors ${u?"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20"}`,title:u?"ì¬ê°œ":"ì¼ì‹œì •ì§€",children:u?e.jsx(ze,{size:16}):e.jsx(K,{size:16})}),e.jsx("button",{onClick:()=>s(r),className:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"ìˆ˜ì •",children:e.jsx($e,{size:16})}),e.jsx("button",{onClick:()=>a(t),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"ì‚­ì œ",children:e.jsx(de,{size:16})})]})]})}function pt({subscriptions:r,searchQuery:s,selectedCategory:a,sortBy:o,showPaused:t,onEdit:l,onDelete:d,onTogglePause:g,onAddNew:p}){const i=m.useMemo(()=>{let x=[...r];if(s){const u=s.toLowerCase();x=x.filter(n=>n.name.toLowerCase().includes(u)||n.category.toLowerCase().includes(u))}switch(a&&(x=x.filter(u=>u.category===a)),t||(x=x.filter(u=>!u.isPaused)),o){case"daysLeft":x.sort((u,n)=>(u.daysLeft||0)-(n.daysLeft||0));break;case"cost-desc":x.sort((u,n)=>n.cost-u.cost);break;case"cost-asc":x.sort((u,n)=>u.cost-n.cost);break;case"name":x.sort((u,n)=>u.name.localeCompare(n.name,"ko"));break;case"category":x.sort((u,n)=>u.category.localeCompare(n.category));break}return x},[r,s,a,o,t]),c=m.useMemo(()=>{if(o!=="category")return null;const x={};return i.forEach(u=>{x[u.category]||(x[u.category]=[]),x[u.category].push(u)}),x},[i,o]);return r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-dark-700 rounded-full flex items-center justify-center",children:e.jsx(ce,{size:24,className:"text-gray-400 dark:text-dark-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm mb-4",children:"ë“±ë¡ëœ êµ¬ë… ì„œë¹„ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤."}),e.jsx("button",{onClick:p,className:"text-primary-600 dark:text-primary-400 text-sm font-bold hover:underline",children:"+ ì²« êµ¬ë… ì¶”ê°€í•˜ê¸°"})]}):i.length===0?e.jsx("div",{className:"text-center py-8 bg-white dark:bg-dark-800 rounded-2xl",children:e.jsx("p",{className:"text-gray-400 dark:text-dark-500 text-sm",children:"ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤."})}):e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(_,{className:"w-4 h-4 text-primary-500"}),"êµ¬ë… ë¦¬ìŠ¤íŠ¸",e.jsxs("span",{className:"text-xs font-normal text-gray-400 dark:text-dark-500",children:["(",i.length,")"]})]}),o==="daysLeft"&&e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ê²°ì œì¼ ìˆœ"})]}),e.jsx("div",{className:"space-y-3",children:c?Object.entries(c).map(([x,u])=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 mb-2 pl-1",children:[x," (",u.length,")"]}),e.jsx("div",{className:"space-y-3",children:u.map(n=>e.jsx(te,{subscription:n,onEdit:l,onDelete:d,onTogglePause:g},n.id))})]},x)):i.map(x=>e.jsx(te,{subscription:x,onEdit:l,onDelete:d,onTogglePause:g},x.id))})]})}function bt({isOpen:r,onClose:s,onSave:a,editData:o=null}){const[t,l]=m.useState({name:"",cost:"",billingDay:1,billingCycle:"monthly",category:"OTT",url:"",customColor:"",notes:"",trialEndDate:""}),[d,g]=m.useState({}),[p,i]=m.useState(!0);m.useEffect(()=>{o?(l({name:o.name||"",cost:o.cost||"",billingDay:o.billingDay||1,billingCycle:o.billingCycle||"monthly",category:o.category||"OTT",url:o.url||"",customColor:o.customColor||"",notes:o.notes||"",trialEndDate:o.trialEndDate?new Date(o.trialEndDate.seconds*1e3).toISOString().split("T")[0]:""}),i(!1)):(l({name:"",cost:"",billingDay:new Date().getDate(),billingCycle:"monthly",category:"OTT",url:"",customColor:"",notes:"",trialEndDate:""}),i(!0)),g({})},[o,r]);const c=n=>{l({...t,name:n.name,category:n.category,url:n.url,customColor:n.color,cost:n.defaultCost||""}),i(!1)},x=()=>{const n={};return t.name.trim()||(n.name="ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!t.cost||isNaN(t.cost)||Number(t.cost)<0)&&(n.cost="ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!t.billingDay||t.billingDay<1||t.billingDay>31)&&(n.billingDay="1~31 ì‚¬ì´ì˜ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"),g(n),Object.keys(n).length===0},u=n=>{if(n.preventDefault(),!x())return;const h={...t,cost:Number(t.cost),billingDay:Number(t.billingDay),trialEndDate:t.trialEndDate?new Date(t.trialEndDate):null};a(h,o==null?void 0:o.id),s()};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-md rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:o?"êµ¬ë… ì •ë³´ ìˆ˜ì •":"ìƒˆ êµ¬ë… ì¶”ê°€"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[!o&&p&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-dark-400 uppercase tracking-wider mb-2 block",children:"ì¸ê¸° ì„œë¹„ìŠ¤ ê°„í¸ ë“±ë¡"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto scrollbar-hide",children:lt.slice(0,16).map(n=>e.jsxs("button",{type:"button",onClick:()=>c(n),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full border border-gray-200 dark:border-dark-600 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 bg-white dark:bg-dark-700 text-xs font-medium transition-all active:scale-95",children:[e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:n.color}}),n.name]},n.name))}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-xs text-gray-400 dark:text-dark-500 mt-2 hover:text-primary-500",children:"ì§ì ‘ ì…ë ¥í•˜ê¸° â†’"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ì„œë¹„ìŠ¤ ì´ë¦„ *"}),e.jsx("input",{type:"text",placeholder:"ì˜ˆ: ë„·í”Œë¦­ìŠ¤",className:`w-full px-4 py-2.5 rounded-xl border ${d.name?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-dark-500 focus:bg-white dark:focus:bg-dark-600 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all`,value:t.name,onChange:n=>l({...t,name:n.target.value})}),d.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œ ê¸ˆì•¡ *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"0",min:"0",className:`w-full pl-4 pr-10 py-2.5 rounded-xl border ${d.cost?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all`,value:t.cost,onChange:n=>l({...t,cost:n.target.value})}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400 dark:text-dark-500 text-sm",children:"ì›"})]}),d.cost&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.cost})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œì¼ *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:"31",className:`w-full pl-4 pr-10 py-2.5 rounded-xl border ${d.billingDay?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all`,value:t.billingDay,onChange:n=>l({...t,billingDay:n.target.value})}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400 dark:text-dark-500 text-sm",children:"ì¼"})]}),d.billingDay&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.billingDay})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œ ì£¼ê¸°"}),e.jsx("div",{className:"flex gap-2",children:Object.entries(it).map(([n,{label:h}])=>e.jsx("button",{type:"button",onClick:()=>l({...t,billingCycle:n}),className:`flex-1 py-2 rounded-xl text-xs font-bold transition-all ${t.billingCycle===n?"bg-primary-500 text-white shadow-md":"bg-gray-100 dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:bg-gray-200 dark:hover:bg-dark-600"}`,children:h},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ì›¹ì‚¬ì´íŠ¸ ë§í¬ (ì„ íƒ)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-2.5 text-gray-400 dark:text-dark-500",size:16}),e.jsx("input",{type:"url",placeholder:"https://...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm",value:t.url,onChange:n=>l({...t,url:n.target.value})})]}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-1 pl-1",children:"ì…ë ¥ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ë°”ë¡œê°€ê¸° ë²„íŠ¼ì´ ìƒì„±ë©ë‹ˆë‹¤."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5 flex items-center gap-1",children:["ë¬´ë£Œ ì²´í—˜ ì¢…ë£Œì¼ (ì„ íƒ)",e.jsx(_e,{size:12,className:"text-gray-400"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-2.5 text-gray-400 dark:text-dark-500",size:16}),e.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm",value:t.trialEndDate,onChange:n=>l({...t,trialEndDate:n.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2",children:"ì¹´í…Œê³ ë¦¬"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:Object.keys(v).map(n=>e.jsxs("button",{type:"button",onClick:()=>l({...t,category:n}),className:`px-3.5 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all flex items-center gap-1.5 ${t.category===n?"bg-gray-800 dark:bg-white text-white dark:text-gray-900 shadow-md transform scale-105":"bg-gray-100 dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:bg-gray-200 dark:hover:bg-dark-600"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v[n]}}),F[n]||n]},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ë©”ëª¨ (ì„ íƒ)"}),e.jsx("textarea",{placeholder:"ê³µìœ  ê³„ì •, ìš”ê¸ˆì œ ë“± ë©”ëª¨...",rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm resize-none",value:t.notes,onChange:n=>l({...t,notes:n.target.value})})]}),e.jsxs("button",{type:"submit",className:"w-full py-3.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold text-base transform active:scale-[0.98] transition-all shadow-lg shadow-primary-500/30 mt-2 flex items-center justify-center gap-2 btn-press",children:[e.jsx(xe,{size:20}),o?"ìˆ˜ì • ì™„ë£Œ":"ë“±ë¡í•˜ê¸°"]})]})]})]})}):null}const ft=r=>{const s=["ì„œë¹„ìŠ¤ëª…","ì›” ê²°ì œê¸ˆì•¡","ê²°ì œì¼","ì¹´í…Œê³ ë¦¬","ê²°ì œì£¼ê¸°","URL","ì¼ì‹œì •ì§€","ë©”ëª¨","ìƒì„±ì¼"],a=r.map(t=>{var l,d,g;return[t.name,t.cost,t.billingDay,t.category,t.billingCycle||"monthly",t.url||"",t.isPaused?"ì˜ˆ":"ì•„ë‹ˆì˜¤",t.notes||"",((g=(d=(l=t.createdAt)==null?void 0:l.toDate)==null?void 0:d.call(l))==null?void 0:g.toISOString())||""]});return[s.join(","),...a.map(t=>t.map(l=>typeof l=="string"&&l.includes(",")?`"${l}"`:l).join(","))].join(`
`)},yt=r=>{const s={version:"1.0",exportedAt:new Date().toISOString(),subscriptions:r.map(a=>({name:a.name,cost:a.cost,billingDay:a.billingDay,category:a.category,billingCycle:a.billingCycle||"monthly",url:a.url||"",customColor:a.customColor||"",isPaused:a.isPaused||!1,notes:a.notes||""}))};return JSON.stringify(s,null,2)},kt=r=>{var o,t,l,d,g,p;const s=r.trim().split(`
`);if(s.length<2)return[];const a=[];for(let i=1;i<s.length;i++){const c=jt(s[i]);c.length>=4&&a.push({name:((o=c[0])==null?void 0:o.trim())||"",cost:parseInt(c[1])||0,billingDay:parseInt(c[2])||1,category:((t=c[3])==null?void 0:t.trim())||"Etc",billingCycle:((l=c[4])==null?void 0:l.trim())||"monthly",url:((d=c[5])==null?void 0:d.trim())||"",isPaused:((g=c[6])==null?void 0:g.trim())==="ì˜ˆ",notes:((p=c[7])==null?void 0:p.trim())||""})}return a},jt=r=>{const s=[];let a="",o=!1;for(let t=0;t<r.length;t++){const l=r[t];l==='"'?o=!o:l===","&&!o?(s.push(a),a=""):a+=l}return s.push(a),s},wt=r=>{try{const s=JSON.parse(r);return s.subscriptions&&Array.isArray(s.subscriptions)?s.subscriptions.map(a=>({name:a.name||"",cost:parseInt(a.cost)||0,billingDay:parseInt(a.billingDay)||1,category:a.category||"Etc",billingCycle:a.billingCycle||"monthly",url:a.url||"",customColor:a.customColor||"",isPaused:a.isPaused||!1,notes:a.notes||""})):[]}catch(s){return console.error("JSON parsing error:",s),[]}},re=(r,s,a)=>{const o=new Blob([r],{type:a}),t=URL.createObjectURL(o),l=document.createElement("a");l.href=t,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)},vt=r=>new Promise((s,a)=>{const o=new FileReader;o.onload=t=>s(t.target.result),o.onerror=t=>a(t),o.readAsText(r)});function Nt({isOpen:r,onClose:s,subscriptions:a,onImport:o,onClearAll:t}){const{isDark:l,toggleTheme:d}=pe(),[g,p]=m.useState(!1),[i,c]=m.useState(null),x=m.useRef(null),u=()=>{const y=ft(a),w=`subscriptions_${new Date().toISOString().split("T")[0]}.csv`;re(y,w,"text/csv;charset=utf-8")},n=()=>{const y=yt(a),w=`subscriptions_${new Date().toISOString().split("T")[0]}.json`;re(y,w,"application/json")},h=async y=>{var D;const w=(D=y.target.files)==null?void 0:D[0];if(w){try{const S=await vt(w);let N=[];if(w.name.endsWith(".json")?N=wt(S):w.name.endsWith(".csv")&&(N=kt(S)),N.length>0){const U=await o(N);c({success:!0,count:U}),setTimeout(()=>c(null),3e3)}else c({success:!1,message:"ìœ íš¨í•œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"}),setTimeout(()=>c(null),3e3)}catch(S){console.error("Import error:",S),c({success:!1,message:"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"}),setTimeout(()=>c(null),3e3)}x.current&&(x.current.value="")}},f=async()=>{await t(),p(!1),s()};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-md rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:"ì„¤ì •"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"ë‹¤í¬ ëª¨ë“œ"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:"ì–´ë‘ìš´ í…Œë§ˆë¡œ ì „í™˜í•©ë‹ˆë‹¤"})]}),e.jsx("button",{onClick:d,className:`relative w-14 h-7 rounded-full transition-colors ${l?"bg-primary-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${l?"translate-x-7":"translate-x-0.5"}`,children:l?e.jsx(ne,{size:12,className:"text-primary-500"}):e.jsx(ae,{size:12,className:"text-amber-500"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ë°ì´í„° ë‚´ë³´ë‚´ê¸°"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:u,disabled:a.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Be,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV"})]}),e.jsxs("button",{onClick:n,disabled:a.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(We,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"JSON"})]})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-2",children:[a.length,"ê°œì˜ êµ¬ë… ë°ì´í„°ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤"]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ë°ì´í„° ê°€ì ¸ì˜¤ê¸°"}),e.jsx("input",{ref:x,type:"file",accept:".csv,.json",onChange:h,className:"hidden",id:"import-file"}),e.jsxs("label",{htmlFor:"import-file",className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border-2 border-dashed border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700/50 text-gray-600 dark:text-dark-400 hover:border-primary-400 hover:text-primary-600 dark:hover:text-primary-400 cursor-pointer transition-colors",children:[e.jsx(Je,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV ë˜ëŠ” JSON íŒŒì¼ ì„ íƒ"})]}),i&&e.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs flex items-center gap-2 ${i.success?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"}`,children:[i.success?e.jsx(xe,{size:14}):e.jsx(z,{size:14}),i.success?`${i.count}ê°œì˜ êµ¬ë…ì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤`:i.message]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ìœ„í—˜ êµ¬ì—­"}),g?e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 mb-3",children:[e.jsx(z,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"})]}),e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400/80 mb-3",children:"ëª¨ë“  êµ¬ë… ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-2 px-4 rounded-lg bg-white dark:bg-dark-700 text-gray-600 dark:text-dark-300 text-sm font-medium hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:"ì·¨ì†Œ"}),e.jsx("button",{onClick:f,className:"flex-1 py-2 px-4 rounded-lg bg-red-500 text-white text-sm font-medium hover:bg-red-600 transition-colors",children:"ì‚­ì œ"})]})]}):e.jsxs("button",{onClick:()=>p(!0),disabled:a.length===0,className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-red-200 dark:border-red-900/50 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(de,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"ëª¨ë“  ë°ì´í„° ì‚­ì œ"})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"êµ¬ë… ë§¤ë‹ˆì € Pro v1.0.0"})})]})]})}):null}function St({onSignUp:r}){const s=me(),[a,o]=m.useState(null),[t,l]=m.useState(!1);if(m.useEffect(()=>{const g=()=>{const i=nt();o(i)};g();const p=setInterval(g,6e4);return()=>clearInterval(p)},[]),!a||t)return null;const d=a.remainingMinutes<=5;return e.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${d?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-amber-500 to-orange-500"} text-white py-2 px-4 shadow-lg`,children:e.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{size:16,className:"animate-pulse"}),e.jsxs("span",{children:[e.jsx("strong",{children:"ì²´í—˜ ëª¨ë“œ"})," - ",a.remainingMinutes,"ë¶„ í›„ ë°ì´í„°ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>s("/login"),className:"flex items-center gap-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",children:[e.jsx(Ge,{size:14}),"ê°€ì…í•˜ê³  ì €ì¥í•˜ê¸°"]}),e.jsx("button",{onClick:()=>l(!0),className:"p-1 hover:bg-white/20 rounded transition-colors",children:e.jsx(W,{size:16})})]})]})})}const Ct=m.lazy(()=>J(()=>import("./LoginPage-DbLadNvn.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Dt=m.lazy(()=>J(()=>import("./ForgotPasswordPage-d1_h5ge_.js"),__vite__mapDeps([3,1,2]),import.meta.url)),Et=m.lazy(()=>J(()=>import("./ProfilePage-DaSJuXjK.js"),__vite__mapDeps([4,1,2]),import.meta.url));function Pt(){return e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx("div",{className:"w-12 h-12 spinner"})})})}function Tt(){const{user:r,isDemo:s,isAuthenticated:a}=G(),o=et(s?null:r),[t,l]=m.useState([]);m.useEffect(()=>{s&&l(C())},[s]);const d=s?t:o.subscriptions,g=s?!1:o.loading,p=m.useCallback(async b=>{if(s){const k=R({...b,id:`demo-${Date.now()}`});return l(C()),k.id}return o.addSubscription(b)},[s,o]),i=m.useCallback(async(b,k)=>{if(s){const O=C().find(Ce=>Ce.id===b);O&&(R({...O,...k}),l(C()));return}return o.updateSubscription(b,k)},[s,o]),c=m.useCallback(async b=>{if(s){st(b),l(C());return}return o.deleteSubscription(b)},[s,o]),x=m.useCallback(async b=>{if(s){const T=C().find(O=>O.id===b);T&&(R({...T,isPaused:!T.isPaused}),l(C()));return}return o.togglePause(b)},[s,o]),[u,n]=m.useState(!1),[h,f]=m.useState(!1),[y,w]=m.useState(null),[D,S]=m.useState(null),[N,U]=m.useState(""),[H,V]=m.useState(null),[Y,be]=m.useState("daysLeft"),[X,fe]=m.useState(!0),I=m.useMemo(()=>d.map(b=>({...b,daysLeft:tt(b.billingDay)})),[d]),A=m.useMemo(()=>d.filter(b=>!b.isPaused).reduce((b,k)=>b+(k.cost||0),0),[d]),q=A*12,ye=m.useMemo(()=>{const b={};return d.filter(k=>!k.isPaused).forEach(k=>{b[k.category]||(b[k.category]={count:0,total:0}),b[k.category].count+=1,b[k.category].total+=k.cost}),b},[d]),ke=m.useMemo(()=>I.filter(b=>!b.isPaused&&b.daysLeft<=3).sort((b,k)=>b.daysLeft-k.daysLeft),[I]),P=m.useCallback((b,k="success")=>{S({message:b,type:k}),setTimeout(()=>S(null),3e3)},[]),M=m.useCallback((b=null)=>{w(b),n(!0)},[]),je=m.useCallback(()=>{n(!1),w(null)},[]),we=m.useCallback(async(b,k)=>{try{k?(await i(k,b),P("êµ¬ë…ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤")):(await p(b),P("ìƒˆ êµ¬ë…ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤"))}catch(T){P("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤","error"),console.error(T)}},[p,i,P]),ve=m.useCallback(async b=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await c(b),P("êµ¬ë…ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤")}catch(k){P("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤","error"),console.error(k)}},[c,P]),Ne=m.useCallback(b=>{V(k=>k===b?null:b)},[]),Se=d.filter(b=>!b.isPaused).length;return g?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 spinner"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm",children:"ë¡œë”© ì¤‘..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 text-gray-800 dark:text-white font-sans pb-24 md:pb-10 transition-colors",children:[s&&e.jsx(St,{}),e.jsx(ot,{subscriptionCount:Se,onOpenSettings:()=>f(!0)}),e.jsxs("main",{className:`max-w-lg mx-auto px-4 py-6 space-y-6 ${s?"pt-16":""}`,children:[e.jsx(xt,{totalMonthlyCost:A,totalYearlyCost:q,subscriptions:I}),e.jsx(mt,{items:ke}),e.jsx(gt,{subscriptions:I,totalMonthlyCost:A,totalYearlyCost:q,categoryBreakdown:ye,onCategoryClick:Ne}),d.length>0&&e.jsx(ht,{searchQuery:N,onSearchChange:U,selectedCategory:H,onCategoryChange:V,sortBy:Y,onSortChange:be,showPaused:X,onShowPausedChange:fe}),e.jsx(pt,{subscriptions:I,searchQuery:N,selectedCategory:H,sortBy:Y,showPaused:X,onEdit:M,onDelete:ve,onTogglePause:x,onAddNew:()=>M()})]}),e.jsx("button",{onClick:()=>M(),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-xl shadow-primary-500/40 flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-40 fab-pulse","aria-label":"ìƒˆ êµ¬ë… ì¶”ê°€",children:e.jsx(ce,{size:24})}),e.jsx(bt,{isOpen:u,onClose:je,onSave:we,editData:y}),e.jsx(Nt,{isOpen:h,onClose:()=>f(!1),subscriptions:d,onImport:s?null:o.importSubscriptions,onClearAll:s?null:o.clearAllSubscriptions}),D&&e.jsx("div",{className:`toast ${D.type==="error"?"bg-red-500 text-white":"bg-gray-900 dark:bg-white text-white dark:text-gray-900"}`,children:D.message})]})}function se({children:r}){const{isAuthenticated:s,loading:a}=G();return a?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"w-12 h-12 spinner"})}):s?r:e.jsx(Xe,{to:"/login",replace:!0})}function It(){return e.jsx(he,{children:e.jsx(Ze,{children:e.jsx(Ve,{children:e.jsx(m.Suspense,{fallback:e.jsx(Pt,{}),children:e.jsxs(Ye,{children:[e.jsx(L,{path:"/login",element:e.jsx(Ct,{})}),e.jsx(L,{path:"/forgot-password",element:e.jsx(Dt,{})}),e.jsx(L,{path:"/profile",element:e.jsx(se,{children:e.jsx(Et,{})})}),e.jsx(L,{path:"/",element:e.jsx(se,{children:e.jsx(Tt,{})})})]})})})})})}$.createRoot(document.getElementById("root")).render(e.jsx(qe.StrictMode,{children:e.jsx(he,{children:e.jsx(It,{})})}));export{j as l,G as u};
