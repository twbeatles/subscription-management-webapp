const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage-7sPz0wd8.js","./vendor-ui-DvkZaKaL.js","./vendor-react-Cr-SFtWI.js","./ForgotPasswordPage-Ccqh2uXW.js","./ProfilePage-ZUU4pRHv.js"])))=>i.map(i=>d[i]);
import{j as e,C as Ue,S as me,M as ue,a as ze,U as Re,b as _e,L as Be,X as R,T as X,c as Je,d as K,e as We,f as ge,D as He,g as Ge,h as Ye,i as Ve,P as ae,G as qe,k as he,l as G,E as be,m as Xe,n as Ke,o as pe,p as fe,q as Qe,r as ye,B as ne,s as oe,F as Ze,t as et,u as tt,v as rt}from"./vendor-ui-DvkZaKaL.js";import{a as st,r as m,u as ke,H as at,R as nt,b as z,N as ot,c as lt}from"./vendor-react-Cr-SFtWI.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var Y={},le=st;Y.createRoot=le.createRoot,Y.hydrateRoot=le.hydrateRoot;const it="modulepreload",dt=function(t,r){return new URL(t,r).href},ie={},Q=function(r,a,n){let s=Promise.resolve();if(a&&a.length>0){const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=Promise.allSettled(a.map(d=>{if(d=dt(d,n),d in ie)return;ie[d]=!0;const x=d.endsWith(".css"),i=x?'[rel="stylesheet"]':"";if(!!n)for(let b=c.length-1;b>=0;b--){const p=c[b];if(p.href===d&&(!x||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${i}`))return;const o=document.createElement("link");if(o.rel=x?"stylesheet":it,x||(o.as="script"),o.crossOrigin="",o.href=d,g&&o.setAttribute("nonce",g),document.head.appendChild(o),x)return new Promise((b,p)=>{o.addEventListener("load",b),o.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return r().catch(l)})},O={USERS:"sub_manager_users",CURRENT_USER_ID:"sub_manager_current_user_id",SUBSCRIPTIONS_PREFIX:"sub_manager_data_"},j={getUsers:()=>{try{const t=localStorage.getItem(O.USERS);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading users from local storage",t),[]}},saveUsers:t=>{localStorage.setItem(O.USERS,JSON.stringify(t))},createUser:t=>{const r=j.getUsers(),a={id:`user_${Date.now()}`,displayName:t,createdAt:new Date().toISOString(),isAdmin:!1};return r.push(a),j.saveUsers(r),a},updateUser:(t,r)=>{const a=j.getUsers(),n=a.findIndex(s=>s.id===t);return n!==-1?(a[n]={...a[n],...r},j.saveUsers(a),a[n]):null},deleteUser:t=>{const a=j.getUsers().filter(n=>n.id!==t);j.saveUsers(a),localStorage.removeItem(`${O.SUBSCRIPTIONS_PREFIX}${t}`)},getCurrentUserId:()=>localStorage.getItem(O.CURRENT_USER_ID),login:t=>{localStorage.setItem(O.CURRENT_USER_ID,t)},logout:()=>{localStorage.removeItem(O.CURRENT_USER_ID)},getSubscriptions:t=>{if(!t)return[];try{const r=localStorage.getItem(`${O.SUBSCRIPTIONS_PREFIX}${t}`);return r?JSON.parse(r):[]}catch(r){return console.error("Error reading subscriptions",r),[]}},saveSubscriptions:(t,r)=>{t&&localStorage.setItem(`${O.SUBSCRIPTIONS_PREFIX}${t}`,JSON.stringify(r))}},V=[{id:"demo-1",name:"Netflix",cost:17e3,billingDay:15,billingCycle:"monthly",category:"OTT",url:"https://www.netflix.com",customColor:"#E50914",isPaused:!1,notes:"í”„ë¦¬ë¯¸ì—„ ìš”ê¸ˆì œ"},{id:"demo-2",name:"Spotify",cost:10900,billingDay:20,billingCycle:"monthly",category:"Music",url:"https://www.spotify.com",customColor:"#1DB954",isPaused:!1,notes:""},{id:"demo-3",name:"YouTube Premium",cost:14900,billingDay:5,billingCycle:"monthly",category:"OTT",url:"https://www.youtube.com",customColor:"#FF0000",isPaused:!1,notes:"ê°€ì¡± ìš”ê¸ˆì œ"},{id:"demo-4",name:"ChatGPT Plus",cost:28600,billingDay:10,billingCycle:"monthly",category:"Work",url:"https://chat.openai.com",customColor:"#10A37F",isPaused:!1,notes:"GPT-4 ì‚¬ìš©"},{id:"demo-5",name:"Coupang Wow",cost:7890,billingDay:1,billingCycle:"monthly",category:"Shopping",url:"https://www.coupang.com",customColor:"#342971",isPaused:!1,notes:"ë¡œì¼“ë°°ì†¡ ë¬´ë£Œ"},{id:"demo-6",name:"iCloud+",cost:1100,billingDay:25,billingCycle:"monthly",category:"Utility",url:"https://www.icloud.com",customColor:"#3478F6",isPaused:!0,notes:"50GB ì €ì¥ê³µê°„"},{id:"demo-7",name:"Notion",cost:1e4,billingDay:12,billingCycle:"monthly",category:"Work",url:"https://www.notion.so",customColor:"#000000",isPaused:!1,notes:"Plus ìš”ê¸ˆì œ"},{id:"demo-8",name:"ë°€ë¦¬ì˜ ì„œì¬",cost:9900,billingDay:18,billingCycle:"monthly",category:"Education",url:"https://www.millie.co.kr",customColor:"#FFD700",isPaused:!1,notes:""}];function P(){const t=localStorage.getItem("demoSubscriptions");return t?JSON.parse(t):(localStorage.setItem("demoSubscriptions",JSON.stringify(V)),V)}function W(t){const r=P(),a=r.findIndex(n=>n.id===t.id);return a>=0?r[a]=t:(t.id=`demo-${Date.now()}`,r.push(t)),localStorage.setItem("demoSubscriptions",JSON.stringify(r)),t}function ct(t){const a=P().filter(n=>n.id!==t);localStorage.setItem("demoSubscriptions",JSON.stringify(a))}function je(){localStorage.removeItem("demoMode"),localStorage.removeItem("demoSubscriptions")}function we(){const t=localStorage.getItem("demoMode");if(!t)return null;const r=JSON.parse(t),a=new Date(r.expiresAt),n=new Date;if(a<=n)return je(),null;const s=a-n,l=Math.ceil(s/(1e3*60));return{...r,remainingMinutes:l,isExpired:!1}}const ve=m.createContext();function xt({children:t}){const[r,a]=m.useState(null),[n,s]=m.useState(!1),[l,c]=m.useState(!0);m.useEffect(()=>{(()=>{if(we()){s(!0),c(!1);return}const w=j.getCurrentUserId();if(w){const D=j.getUsers().find(N=>N.id===w);D?a(D):j.logout()}c(!1)})()},[]);const h=async p=>{const w=j.getUsers().find(C=>C.id===p);if(!w)throw new Error("User not found");return j.login(p),a(w),s(!1),w},g=async p=>{const y=j.createUser(p);return await h(y.id),y},d=()=>{const p=new Date;p.setMinutes(p.getMinutes()+30),localStorage.setItem("demoMode",JSON.stringify({startedAt:new Date().toISOString(),expiresAt:p.toISOString()})),localStorage.setItem("demoSubscriptions",JSON.stringify(V)),s(!0),a(null)},x=()=>{je(),s(!1)},i=async p=>{if(!r)return;const y=j.updateUser(r.id,p);a(y)},u=async()=>{n?x():(j.logout(),a(null))},o=async()=>{r&&(j.deleteUser(r.id),await u())},b={user:r,userProfile:r,loading:l,isDemo:n,isAuthenticated:!!r||n,isAdmin:(r==null?void 0:r.isAdmin)||!1,login:h,register:g,updateProfile:i,updateUserProfile:i,logout:u,deleteAccount:o,startDemoMode:d,endDemoMode:x,signOut:u};return e.jsx(ve.Provider,{value:b,children:t})}function Z(){const t=m.useContext(ve);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Ne=m.createContext();function Se({children:t}){const[r,a]=m.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});m.useEffect(()=>{const s=document.documentElement;r?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]);const n=()=>a(s=>!s);return e.jsx(Ne.Provider,{value:{isDark:r,toggleTheme:n},children:t})}function Ce(){const t=m.useContext(Ne);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function mt(t){const[r,a]=m.useState([]),[n,s]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{if(!t){a([]),s(!1);return}try{s(!0);const o=j.getSubscriptions(t.id);a(o)}catch(o){console.error(o),c(o)}finally{s(!1)}},[t]);const h=m.useCallback(async o=>{if(t)try{const b={...o,id:`sub_${Date.now()}`,userId:t.id,createdAt:new Date().toISOString()},y=[...j.getSubscriptions(t.id),b];return j.saveSubscriptions(t.id,y),a(y),b.id}catch(b){throw c(b),b}},[t]),g=m.useCallback(async(o,b)=>{if(t)try{const y=j.getSubscriptions(t.id).map(w=>w.id===o?{...w,...b}:w);j.saveSubscriptions(t.id,y),a(y)}catch(p){throw c(p),p}},[t]),d=m.useCallback(async o=>{if(t)try{const p=j.getSubscriptions(t.id).filter(y=>y.id!==o);j.saveSubscriptions(t.id,p),a(p)}catch(b){throw c(b),b}},[t]),x=m.useCallback(async o=>{if(t)try{const p=j.getSubscriptions(t.id).find(y=>y.id===o);p&&await g(o,{isPaused:!p.isPaused})}catch(b){throw c(b),b}},[t,g]),i=m.useCallback(async()=>{if(t)try{j.saveSubscriptions(t.id,[]),a([])}catch(o){throw c(o),o}},[t]),u=m.useCallback(async o=>{if(t)try{const b=o.map(w=>({...w,id:w.id||`sub_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,userId:t.id,createdAt:new Date().toISOString()})),y=[...j.getSubscriptions(t.id),...b];j.saveSubscriptions(t.id,y),a(y)}catch(b){throw c(b),b}},[t]);return{subscriptions:r,loading:n,error:l,addSubscription:h,updateSubscription:g,deleteSubscription:d,togglePause:x,clearAllSubscriptions:i,importSubscriptions:u}}const ut=t=>{const r=new Date,a=r.getDate(),n=r.getMonth(),s=r.getFullYear();let l=new Date(s,n,t);for(a>t&&(l=new Date(s,n+1,t));l.getDate()!==t;)l.setDate(l.getDate()-1);if(a===t)return 0;const c=l.getTime()-r.getTime();return Math.ceil(c/(1e3*60*60*24))},gt=t=>{if(!t)return-1;const r=new Date(t);return Math.ceil((r-new Date)/(1e3*60*60*24))},De="sub_manager_notifications",M=()=>"Notification"in window,H=()=>M()?Notification.permission:"denied",ht=async()=>{if(!M())return!1;try{return await Notification.requestPermission()==="granted"}catch(t){return console.error("Failed to request notification permission:",t),!1}},q=(t,r={})=>{if(!M()||Notification.permission!=="granted")return null;const a={icon:"/favicon.ico",badge:"/favicon.ico",tag:"subscription-reminder",requireInteraction:!1,silent:!1,...r};try{const n=new Notification(t,a);return setTimeout(()=>n.close(),5e3),n}catch(n){return console.error("Failed to send notification:",n),null}},ee=()=>{try{const t=localStorage.getItem(De);return t?JSON.parse(t):{enabled:!1,reminderDays:[3,1],lastChecked:null}}catch{return{enabled:!1,reminderDays:[3,1],lastChecked:null}}},te=t=>{localStorage.setItem(De,JSON.stringify(t))},bt=t=>{const r=ee();if(!r.enabled||Notification.permission!=="granted")return;const a=new Date().toDateString();if(r.lastChecked===a)return;const n=t.filter(s=>!s.isPaused&&r.reminderDays.includes(s.daysLeft));if(n.length>0)if(n.length===1){const s=n[0];q("ğŸ’³ ê²°ì œì¼ ì•Œë¦¼",{body:`${s.name} ê²°ì œì¼ì´ ${s.daysLeft===0?"ì˜¤ëŠ˜":`${s.daysLeft}ì¼ í›„`}ì…ë‹ˆë‹¤. (${s.cost.toLocaleString()}ì›)`,tag:`subscription-${s.id}`})}else{const s=n.reduce((l,c)=>l+c.cost,0);q("ğŸ’³ ê²°ì œì¼ ì•Œë¦¼",{body:`${n.length}ê°œì˜ êµ¬ë… ê²°ì œê°€ ê³§ ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. (ì´ ${s.toLocaleString()}ì›)`,tag:"subscription-multiple"})}te({...r,lastChecked:a})},pt=async()=>{const t=await ht();return t&&(te({enabled:!0,reminderDays:[3,1,0],lastChecked:null}),q("ğŸ”” ì•Œë¦¼ í™œì„±í™”",{body:"êµ¬ë… ê²°ì œì¼ ì•Œë¦¼ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.",tag:"notification-enabled"})),t},ft=()=>{const t=ee();te({...t,enabled:!1})};function yt({subscriptionCount:t,onOpenSettings:r}){var p;const{isDark:a,toggleTheme:n}=Ce(),{user:s,userProfile:l,isAdmin:c,isDemo:h,signOut:g}=Z(),d=ke(),[x,i]=m.useState(!1),u=async()=>{await g(),d("/login")},o=(l==null?void 0:l.displayName)||(s==null?void 0:s.displayName)||(h?"ì²´í—˜ ì¤‘":"ì‚¬ìš©ì"),b=(l==null?void 0:l.photoURL)||(s==null?void 0:s.photoURL);return e.jsx("header",{className:"bg-white dark:bg-dark-800 sticky top-0 z-20 shadow-sm dark:shadow-dark-900/50 transition-colors",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 p-2 rounded-xl text-white shadow-lg shadow-primary-500/30",children:e.jsx(Ue,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight",children:"êµ¬ë… ë§¤ë‹ˆì €"}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-400 -mt-0.5",children:"Pro Edition"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 bg-gray-100 dark:bg-dark-700 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-bold",children:t}),e.jsx("span",{className:"ml-1",children:"êµ¬ë…ì¤‘"})]}),e.jsx("button",{onClick:n,className:"p-2 rounded-xl text-gray-600 dark:text-dark-300 hover:bg-gray-100 dark:hover:bg-dark-700 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-200 hover:scale-105 active:scale-95","aria-label":"í…Œë§ˆ ë³€ê²½",children:a?e.jsx(me,{size:18}):e.jsx(ue,{size:18})}),e.jsx("button",{onClick:r,className:"p-2 rounded-xl text-gray-600 dark:text-dark-300 hover:bg-gray-100 dark:hover:bg-dark-700 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-200 hover:scale-105 active:scale-95 hover:rotate-45","aria-label":"ì„¤ì •",children:e.jsx(ze,{size:18})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(!x),className:"flex items-center gap-2 p-1.5 pr-3 rounded-xl hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx("div",{className:"w-7 h-7 rounded-full bg-primary-500 flex items-center justify-center text-white text-xs font-medium overflow-hidden",children:b?e.jsx("img",{src:b,alt:"",className:"w-full h-full object-cover"}):((p=o[0])==null?void 0:p.toUpperCase())||"U"})}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-dark-700 rounded-xl shadow-lg border border-gray-100 dark:border-dark-600 z-20 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-dark-600",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:o}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 truncate",children:(s==null?void 0:s.email)||"ì²´í—˜ ëª¨ë“œ"})]}),e.jsxs("div",{className:"py-1",children:[!h&&e.jsxs("button",{onClick:()=>{i(!1),d("/profile")},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 flex items-center gap-2",children:[e.jsx(Re,{size:16}),"í”„ë¡œí•„ ì„¤ì •"]}),c&&e.jsxs("button",{onClick:()=>{i(!1),d("/admin")},className:"w-full px-4 py-2.5 text-left text-sm text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 flex items-center gap-2",children:[e.jsx(_e,{size:16}),"ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ"]}),e.jsxs("button",{onClick:()=>{i(!1),u()},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 flex items-center gap-2",children:[e.jsx(Be,{size:16}),h?"ì²´í—˜ ì¢…ë£Œ":"ë¡œê·¸ì•„ì›ƒ"]})]})]})]})]})]})]})})}const v={OTT:"#E50914",Music:"#1DB954",Shopping:"#FF9900",Utility:"#00A4EF",Work:"#5A5A5A",Education:"#FFD700",Health:"#10B981",Finance:"#8B5CF6",Etc:"#808080"},$={OTT:"ì˜ìƒ/ìŠ¤íŠ¸ë¦¬ë°",Music:"ìŒì•…",Shopping:"ì‡¼í•‘/ì´ì»¤ë¨¸ìŠ¤",Utility:"ìœ í‹¸ë¦¬í‹°",Work:"ì—…ë¬´/ìƒì‚°ì„±",Education:"êµìœ¡/í•™ìŠµ",Health:"ê±´ê°•/ìš´ë™",Finance:"ê¸ˆìœµ/íˆ¬ì",Etc:"ê¸°íƒ€"},kt=[{name:"Netflix",category:"OTT",color:"#E50914",url:"https://www.netflix.com",defaultCost:17e3},{name:"YouTube Premium",category:"OTT",color:"#FF0000",url:"https://www.youtube.com",defaultCost:14900},{name:"Disney+",category:"OTT",color:"#113CCF",url:"https://www.disneyplus.com",defaultCost:9900},{name:"Wavve",category:"OTT",color:"#1C1B1F",url:"https://www.wavve.com",defaultCost:13900},{name:"Tving",category:"OTT",color:"#FF153C",url:"https://www.tving.com",defaultCost:13900},{name:"Watcha",category:"OTT",color:"#FF0558",url:"https://watcha.com",defaultCost:12900},{name:"Spotify",category:"Music",color:"#1DB954",url:"https://www.spotify.com",defaultCost:10900},{name:"Melon",category:"Music",color:"#00CD3C",url:"https://www.melon.com",defaultCost:10900},{name:"Apple Music",category:"Music",color:"#FA233B",url:"https://music.apple.com",defaultCost:10900},{name:"Genie",category:"Music",color:"#3D85C6",url:"https://www.genie.co.kr",defaultCost:10900},{name:"Bugs",category:"Music",color:"#FF3366",url:"https://music.bugs.co.kr",defaultCost:9500},{name:"Coupang Wow",category:"Shopping",color:"#342971",url:"https://www.coupang.com",defaultCost:7890},{name:"Naver Plus",category:"Shopping",color:"#03C75A",url:"https://nid.naver.com",defaultCost:4900},{name:"SSG ìœ ë‹ˆë²„ìŠ¤",category:"Shopping",color:"#FF5A5A",url:"https://www.ssg.com",defaultCost:4900},{name:"Notion",category:"Work",color:"#000000",url:"https://www.notion.so",defaultCost:1e4},{name:"ChatGPT Plus",category:"Work",color:"#10A37F",url:"https://chat.openai.com",defaultCost:2e4},{name:"Figma",category:"Work",color:"#F24E1E",url:"https://www.figma.com",defaultCost:15e3},{name:"GitHub Copilot",category:"Work",color:"#000000",url:"https://github.com",defaultCost:1e4},{name:"Slack",category:"Work",color:"#4A154B",url:"https://slack.com",defaultCost:1e4},{name:"Zoom",category:"Work",color:"#2D8CFF",url:"https://zoom.us",defaultCost:16e3},{name:"Adobe CC",category:"Work",color:"#FF0000",url:"https://www.adobe.com",defaultCost:24e3},{name:"ë°€ë¦¬ì˜ ì„œì¬",category:"Education",color:"#FFD700",url:"https://www.millie.co.kr",defaultCost:9900},{name:"Duolingo",category:"Education",color:"#58CC02",url:"https://www.duolingo.com",defaultCost:14900},{name:"Coursera",category:"Education",color:"#0056D2",url:"https://www.coursera.org",defaultCost:59e3},{name:"í´ë˜ìŠ¤101",category:"Education",color:"#FF6B00",url:"https://class101.net",defaultCost:19900},{name:"Nike Training Club",category:"Health",color:"#000000",url:"https://www.nike.com",defaultCost:0},{name:"Keep",category:"Health",color:"#00C8FF",url:"https://www.gotokeep.com",defaultCost:9900},{name:"iCloud+",category:"Utility",color:"#3478F6",url:"https://www.icloud.com",defaultCost:1100},{name:"Google One",category:"Utility",color:"#4285F4",url:"https://one.google.com",defaultCost:2400},{name:"Dropbox",category:"Utility",color:"#0061FF",url:"https://www.dropbox.com",defaultCost:12e3},{name:"1Password",category:"Utility",color:"#1A8CFF",url:"https://1password.com",defaultCost:5e3},{name:"NordVPN",category:"Utility",color:"#4687FF",url:"https://nordvpn.com",defaultCost:15e3}],jt={monthly:{label:"ì›”ê°„",multiplier:1},yearly:{label:"ì—°ê°„",multiplier:12},weekly:{label:"ì£¼ê°„",multiplier:.25}},wt=[{value:"daysLeft",label:"ê²°ì œì¼ ìˆœ"},{value:"cost-desc",label:"ê¸ˆì•¡ ë†’ì€ ìˆœ"},{value:"cost-asc",label:"ê¸ˆì•¡ ë‚®ì€ ìˆœ"},{value:"name",label:"ì´ë¦„ ìˆœ"},{value:"category",label:"ì¹´í…Œê³ ë¦¬ ìˆœ"}];function Ee({isOpen:t,onClose:r,title:a,items:n,type:s="timeline",totalCost:l}){if(!t)return null;const c=h=>h.toLocaleString();return e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center backdrop-blur-sm p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-scaleIn",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:a}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(R,{size:20})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-2",children:n.length===0?e.jsx("div",{className:"p-8 text-center text-gray-400 dark:text-dark-500 text-sm",children:"í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤"}):e.jsx("div",{className:"space-y-1",children:n.map(h=>{const g=h.customColor||v[h.category]||v.Etc;return e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-xl transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:g},children:h.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm",children:h.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-dark-400 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full",style:{backgroundColor:g}}),$[h.category]||h.category,s==="timeline"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-dark-600",children:"â€¢"}),e.jsxs("span",{children:["ë§¤ì›” ",h.billingDay,"ì¼"]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[c(h.cost),"ì›"]}),s==="chart"&&l>0&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-dark-400",children:[Math.round(h.cost/l*100),"%"]})]})]},h.id)})})}),s==="chart"&&l>0&&e.jsxs("div",{className:"px-5 py-4 bg-gray-50 dark:bg-dark-900 border-t border-gray-100 dark:border-dark-700 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-300",children:"ì´ê³„"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[c(l),"ì›"]})]})]})})}function vt({items:t}){const r=new Date().getDate(),[a,n]=m.useState(null),[s,l]=m.useState(!1),c=m.useMemo(()=>[...t].filter(g=>!g.isPaused).sort((g,d)=>{let x=g.billingDay<r?g.billingDay+31:g.billingDay,i=d.billingDay<r?d.billingDay+31:d.billingDay;return x-i}),[t,r]);if(c.length===0)return e.jsx("div",{className:"text-xs text-white/60 text-center py-4",children:"ê²°ì œ ì˜ˆì •ì¸ êµ¬ë…ì´ ì—†ìŠµë‹ˆë‹¤"});const h=c.slice(0,7);return e.jsxs("div",{className:"relative pt-2 pb-4",children:[e.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:h.map((g,d)=>{const x=g.billingDay<r?(g.billingDay+31-r)/31:(g.billingDay-r)/31,i=g.customColor||v[g.category]||v.Etc;return e.jsx("div",{className:"absolute h-full w-1.5 rounded-full transition-all hover:w-2",style:{left:`${x*100}%`,backgroundColor:i,boxShadow:`0 0 4px ${i}80`}},g.id)})}),e.jsx("div",{className:"flex justify-between mt-4 px-1 gap-1",children:h.slice(0,5).map((g,d)=>{const x=g.billingDay<r,i=g.billingDay===r,u=g.customColor||v[g.category]||v.Etc,o=a===g.id;return e.jsxs("div",{className:"relative flex flex-col items-center group cursor-pointer",style:{flex:`0 0 ${100/5}%`},onMouseEnter:()=>n(g.id),onMouseLeave:()=>n(null),children:[o&&e.jsxs("div",{className:"absolute -top-14 left-1/2 -translate-x-1/2 px-2.5 py-1.5 rounded-lg text-xs whitespace-nowrap z-10 shadow-lg animate-fadeIn",style:{backgroundColor:u,color:"white"},children:[e.jsx("div",{className:"font-bold",children:g.name}),e.jsxs("div",{className:"text-white/80 text-[10px]",children:[g.cost.toLocaleString(),"ì›"]}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-1 w-2 h-2 rotate-45",style:{backgroundColor:u}})]}),e.jsx("div",{className:`w-3.5 h-3.5 rounded-full border-2 transition-all duration-200 ${i?"animate-pulse scale-125":x?"opacity-40":o?"scale-125 shadow-lg":"group-hover:scale-110"}`,style:{backgroundColor:u,borderColor:"rgba(255,255,255,0.6)",boxShadow:o?`0 0 8px ${u}`:"none"}}),e.jsx("span",{className:`text-[10px] font-semibold mt-1.5 transition-colors ${i?"text-white":x?"text-white/40":o?"text-white":"text-white/80"}`,children:i?"ì˜¤ëŠ˜":`${g.billingDay}ì¼`}),e.jsx("span",{className:`text-[10px] max-w-full text-center transition-colors ${i?"text-white font-bold":x?"text-white/40":o?"text-white font-medium":"text-white/70"}`,children:g.name.length>5?g.name.slice(0,5)+"..":g.name})]},g.id)})}),c.length>5&&e.jsx("div",{className:"text-center mt-2",children:e.jsxs("button",{onClick:()=>l(!0),className:"text-[10px] text-white/50 hover:text-white/70 transition-colors cursor-pointer hover:underline",children:["+",c.length-5,"ê°œ ë” ìˆìŒ"]})}),e.jsx(Ee,{isOpen:s,onClose:()=>l(!1),title:"ì´ë‹¬ì˜ ê²°ì œ ì˜ˆì •",items:c,type:"timeline"})]})}function Nt({totalMonthlyCost:t,totalYearlyCost:r,subscriptions:a,previousMonthCost:n=null}){const s=n?((t-n)/n*100).toFixed(1):null;return e.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 via-primary-600 to-violet-600 dark:from-primary-600 dark:via-primary-700 dark:to-violet-700 rounded-3xl p-6 text-white shadow-xl shadow-primary-500/30 dark:shadow-primary-900/40 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/40",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-6 -mt-6 w-36 h-36 rounded-full bg-white opacity-[0.1] blur-2xl animate-pulse",style:{animationDuration:"4s"}}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-6 -mb-6 w-28 h-28 rounded-full bg-white opacity-[0.08] blur-xl animate-pulse",style:{animationDuration:"5s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-24 h-24 rounded-full bg-violet-300 opacity-[0.12] blur-2xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-0 w-16 h-16 rounded-full bg-indigo-300 opacity-[0.1] blur-xl"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"text-white/70 text-sm font-medium mb-1 flex items-center gap-2",children:["ì´ë²ˆ ë‹¬ ì˜ˆìƒ ì§€ì¶œì•¡",s!==null&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full flex items-center gap-0.5 ${parseFloat(s)>0?"bg-red-500/20 text-red-200":"bg-green-500/20 text-green-200"}`,children:[parseFloat(s)>0?e.jsx(X,{size:10}):e.jsx(Je,{size:10}),Math.abs(parseFloat(s)),"%"]})]}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-2",children:[e.jsx("h2",{className:"text-4xl font-extrabold tracking-tight tabular-nums drop-shadow-sm",children:t.toLocaleString()}),e.jsx("span",{className:"text-xl opacity-90 font-medium",children:"ì›"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-6",children:[e.jsxs("span",{children:["ì—°ê°„ ì•½ ",Math.round(r/1e4).toLocaleString(),"ë§Œì›"]}),e.jsx("span",{className:"text-white/30",children:"|"}),e.jsxs("span",{children:["ì¼ í‰ê·  ",Math.round(t/30).toLocaleString(),"ì›"]})]})]}),e.jsxs("div",{className:"bg-white/[0.08] backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-white/70 flex items-center gap-1.5",children:[e.jsx(K,{size:12}),"ê²°ì œ ì¼ì •"]}),e.jsxs("span",{className:"text-[10px] text-white/50",children:[new Date().getMonth()+1,"ì›”"]})]}),e.jsx(vt,{items:a})]})]})}function St({items:t}){return!t||t.length===0?null:e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl p-4 shadow-sm border-l-4 border-red-500 dark:border-red-400 flex items-start gap-3 animate-fade-in",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded-full text-red-500 dark:text-red-400 flex-shrink-0",children:e.jsx(We,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:["ê³§ ê²°ì œë˜ëŠ” ì„œë¹„ìŠ¤",e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-[10px] px-1.5 py-0.5 rounded-full font-medium",children:t.length})]}),e.jsx("div",{className:"mt-2 space-y-1.5",children:t.map(r=>e.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b border-gray-50 dark:border-dark-700 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:r.customColor||"#E50914"}}),e.jsx("span",{className:"text-gray-600 dark:text-dark-300 truncate",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:[r.cost.toLocaleString(),"ì›"]}),e.jsx("span",{className:`font-bold text-xs px-2 py-0.5 rounded ${r.daysLeft===0?"bg-red-500 text-white":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:r.daysLeft===0?"ì˜¤ëŠ˜":`D-${r.daysLeft}`})]})]},r.id))})]})]})}function Ct({data:t,onCategoryClick:r}){const[a,n]=m.useState(null),[s,l]=m.useState(!1);if(!t||t.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400 dark:text-dark-500 bg-gray-50 dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx(ge,{className:"w-8 h-8 mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"})]});const c=t.reduce((i,u)=>i+u.cost,0);let h=0;const g=i=>{const u=Math.cos(2*Math.PI*i),o=Math.sin(2*Math.PI*i);return[u,o]},d=t.map(i=>{const u=i.cost/c,o=h;h+=u;const b=h,[p,y]=g(o),[w,C]=g(b),D=u>.5?1:0,N=["M 0 0",`L ${p} ${y}`,`A 1 1 0 ${D} 1 ${w} ${C}`,"L 0 0"].join(" "),S=i.customColor||v[i.category]||v.Etc,E=a===i.id;return e.jsx("path",{d:N,fill:S,className:"chart-segment cursor-pointer",style:{opacity:a&&!E?.4:1,transform:E?"scale(1.05)":"scale(1)",filter:E?`drop-shadow(0 0 6px ${S}80)`:"none",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},onMouseEnter:()=>n(i.id),onMouseLeave:()=>n(null),onClick:()=>r==null?void 0:r(i.category)},i.id)}),x=t.find(i=>i.id===a);return e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative w-36 h-36 flex-shrink-0",children:[e.jsx("svg",{viewBox:"-1.1 -1.1 2.2 2.2",className:"transform -rotate-90 w-full h-full drop-shadow-sm",children:d}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-20 h-20 bg-white dark:bg-dark-800 rounded-full flex flex-col items-center justify-center shadow-inner dark:shadow-dark-900/50",children:x?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-white truncate max-w-[70px]",children:x.name}),e.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-dark-400",children:[Math.round(x.cost/c*100),"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ì´ë²ˆë‹¬"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800 dark:text-white",children:[Math.round(c/1e4),"ë§Œì›"]})]})})})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 gap-1.5 text-xs max-h-36 overflow-y-auto scrollbar-hide",children:[t.slice(0,6).map(i=>{const u=i.customColor||v[i.category]||v.Etc,o=a===i.id;return e.jsxs("div",{className:`flex items-center justify-between p-1.5 rounded-lg transition-all duration-200 cursor-pointer ${o?"bg-gray-100 dark:bg-dark-700 scale-102":"hover:bg-gray-50 dark:hover:bg-dark-700/50"}`,onMouseEnter:()=>n(i.id),onMouseLeave:()=>n(null),onClick:()=>r==null?void 0:r(i.category),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:u}}),e.jsx("span",{className:"truncate max-w-[80px] text-gray-600 dark:text-dark-300",children:i.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-400 dark:text-dark-500 text-[10px]",children:[i.cost.toLocaleString(),"ì›"]}),e.jsxs("span",{className:"font-semibold text-gray-800 dark:text-white w-8 text-right",children:[Math.round(i.cost/c*100),"%"]})]})]},i.id)}),t.length>6&&e.jsxs("button",{onClick:()=>l(!0),className:"text-gray-400 dark:text-dark-500 pl-4 text-[10px] hover:text-gray-600 dark:hover:text-dark-300 transition-colors text-left",children:["...ì™¸ ",t.length-6,"ê°œ"]})]}),e.jsx(Ee,{isOpen:s,onClose:()=>l(!1),title:"ì§€ì¶œ ìƒì„¸ ë¶„ì„",items:t,type:"chart",totalCost:c})]})}function Dt({subscriptions:t,totalMonthlyCost:r,totalYearlyCost:a,categoryBreakdown:n,onCategoryClick:s}){const l=m.useMemo(()=>{const x=["1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"],i=new Date().getMonth();return Array.from({length:6},(u,o)=>{const b=(i-5+o+12)%12,p=Math.random()*.3-.15,y=Math.round(r*(1+p));return{month:x[b],cost:o===5?r:y,isCurrentMonth:o===5}})},[r]),c=Math.max(...l.map(x=>x.cost)),h=m.useMemo(()=>Object.entries(n).sort((x,i)=>i[1].total-x[1].total).slice(0,5),[n]),g=m.useMemo(()=>[...t].filter(x=>!x.isPaused).sort((x,i)=>i.cost-x.cost)[0],[t]),d=t.filter(x=>!x.isPaused);return t.length===0?null:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(ge,{className:"w-4 h-4 text-primary-500"}),"ì§€ì¶œ ë¶„ì„"]}),e.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-dark-500 bg-gray-100 dark:bg-dark-700 px-2 py-1 rounded-full",children:[d.length,"ê°œ í™œì„±"]})]}),e.jsx(Ct,{data:d,onCategoryClick:s})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(He,{size:14}),e.jsx("span",{className:"text-xs",children:"ì›” í‰ê· "})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(r).toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-gray-400 dark:text-dark-500 ml-0.5",children:"ì›"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-400 mb-2",children:[e.jsx(K,{size:14}),e.jsx("span",{className:"text-xs",children:"ì—°ê°„ ì˜ˆìƒ"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(a/1e4).toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-gray-400 dark:text-dark-500 ml-0.5",children:"ë§Œì›"})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(Ge,{className:"w-4 h-4 text-primary-500"}),"ì›”ë³„ ì¶”ì´"]}),e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ìµœê·¼ 6ê°œì›”"})]}),e.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:l.map((x,i)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:`w-full rounded-t-lg transition-all ${x.isCurrentMonth?"bg-gradient-to-t from-primary-500 to-primary-400":"bg-gray-200 dark:bg-dark-600"}`,style:{height:`${x.cost/c*100}%`,minHeight:"8px"}}),e.jsx("span",{className:`text-[10px] ${x.isCurrentMonth?"text-primary-600 dark:text-primary-400 font-bold":"text-gray-400 dark:text-dark-500"}`,children:x.month})]},i))})]}),h.length>0&&e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(X,{className:"w-4 h-4 text-primary-500"}),"ì¹´í…Œê³ ë¦¬ë³„"]})}),e.jsx("div",{className:"space-y-3",children:h.map(([x,i])=>{const u=i.total/r*100,o=v[x]||v.Etc;return e.jsxs("button",{onClick:()=>s==null?void 0:s(x),className:"w-full text-left hover:bg-gray-50 dark:hover:bg-dark-700 rounded-xl p-2 -mx-2 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:o}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-dark-300",children:$[x]||x}),e.jsxs("span",{className:"text-xs text-gray-400 dark:text-dark-500",children:["(",i.count,"ê°œ)"]})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[i.total.toLocaleString(),"ì›"]})]}),e.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${u}%`,backgroundColor:o}})})]},x)})})]}),g&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-900/30",children:[e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium mb-1",children:"ğŸ’° ê°€ì¥ ë¹„ì‹¼ êµ¬ë…"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:g.name}),e.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[g.cost.toLocaleString(),"ì›/ì›”"]})]})]})]})}function Et({searchQuery:t,onSearchChange:r,selectedCategory:a,onCategoryChange:n,sortBy:s,onSortChange:l,showPaused:c,onShowPausedChange:h}){const g=["All",...Object.keys(v)];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ye,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-dark-500"}),e.jsx("input",{type:"text",placeholder:"êµ¬ë… ì„œë¹„ìŠ¤ ê²€ìƒ‰...",value:t,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-dark-500 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all text-sm"})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 pb-1",children:g.map(d=>e.jsxs("button",{onClick:()=>n(d==="All"?null:d),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all duration-200 transform active:scale-95 ${d==="All"&&!a||a===d?"bg-primary-500 text-white shadow-md shadow-primary-500/30 scale-105":"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-dark-300 hover:bg-gray-200 dark:hover:bg-dark-600 hover:scale-102"}`,children:[d!=="All"&&e.jsx("span",{className:"w-2.5 h-2.5 rounded-full transition-transform group-hover:scale-110",style:{backgroundColor:v[d],boxShadow:d==="All"&&!a||a===d?`0 0 6px ${v[d]}`:"none"}}),d==="All"?"ì „ì²´":$[d]||d]},d))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:d=>l(d.target.value),className:"appearance-none pl-3 pr-8 py-1.5 rounded-lg border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800 text-gray-600 dark:text-dark-300 text-xs font-medium cursor-pointer focus:ring-2 focus:ring-primary-500 outline-none",children:wt.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))}),e.jsx(Ve,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-400",children:"ì¼ì‹œì •ì§€ í¬í•¨"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:d=>h(d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 dark:bg-dark-700 rounded-full peer peer-checked:bg-primary-500 transition-colors"}),e.jsx("div",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform peer-checked:translate-x-4"})]})]})]})]})}function de({subscription:t,onEdit:r,onDelete:a,onTogglePause:n}){const{id:s,name:l,cost:c,billingDay:h,billingCycle:g,category:d,url:x,customColor:i,isPaused:u,trialEndDate:o,daysLeft:b}=t,p=i||v[d]||v.Etc,y=gt(o),w=y>=0;return e.jsxs("div",{className:`group bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border transition-all card-hover ${u?"border-gray-200 dark:border-dark-700 opacity-60":b<=3?"border-red-200 dark:border-red-900/50 glow-urgent":"border-gray-100 dark:border-dark-700 hover:border-primary-200 dark:hover:border-primary-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxs("div",{className:`relative w-11 h-11 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl ${u?"grayscale":""}`,style:{background:u?p:`linear-gradient(135deg, ${p} 0%, ${p}CC 100%)`,boxShadow:u?"none":`0 4px 12px -2px ${p}50`},children:[l.slice(0,1).toUpperCase(),u&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(ae,{size:10,className:"text-white"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-1.5 truncate",children:[l,x&&e.jsx(qe,{size:10,className:"text-gray-300 dark:text-dark-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-dark-400 mt-0.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${p}15`,color:p},children:$[d]||d}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{size:10}),"ë§¤ì›” ",h,"ì¼"]}),g&&g!=="monthly"&&e.jsx("span",{className:"text-primary-500 dark:text-primary-400 font-medium",children:g==="yearly"?"ì—°ê°„":"ì£¼ê°„"})]}),w&&e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-amber-600 dark:text-amber-400",children:[e.jsx(G,{size:10}),"ë¬´ë£Œì²´í—˜ D-",y]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("div",{className:`font-bold text-sm ${u?"text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:[c.toLocaleString(),"ì›"]}),e.jsx("div",{className:`text-[10px] font-bold mt-0.5 ${u?"text-gray-400 dark:text-dark-500":b===0?"text-red-600 dark:text-red-400 animate-pulse":b<=3?"text-red-500 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`,children:u?"ì¼ì‹œì •ì§€":b===0?"Today!":`D-${b}`})]})]}),e.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-50 dark:border-dark-700 flex justify-end items-center gap-2",children:[x&&e.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-1.5 rounded-lg bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 text-xs font-medium hover:bg-primary-100 dark:hover:bg-primary-900/40 transition-colors",children:[e.jsx(be,{size:12}),"ì„œë¹„ìŠ¤ ì´ë™"]}),e.jsx("button",{onClick:()=>n(s),className:`p-1.5 rounded-lg transition-colors ${u?"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20"}`,title:u?"ì¬ê°œ":"ì¼ì‹œì •ì§€",children:u?e.jsx(Xe,{size:16}):e.jsx(ae,{size:16})}),e.jsx("button",{onClick:()=>r(t),className:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-gray-50 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"ìˆ˜ì •",children:e.jsx(Ke,{size:16})}),e.jsx("button",{onClick:()=>a(s),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"ì‚­ì œ",children:e.jsx(pe,{size:16})})]})]})}function Pt({subscriptions:t,searchQuery:r,selectedCategory:a,sortBy:n,showPaused:s,onEdit:l,onDelete:c,onTogglePause:h,onAddNew:g}){const d=m.useMemo(()=>{let i=[...t];if(r){const u=r.toLowerCase();i=i.filter(o=>o.name.toLowerCase().includes(u)||o.category.toLowerCase().includes(u))}switch(a&&(i=i.filter(u=>u.category===a)),s||(i=i.filter(u=>!u.isPaused)),n){case"daysLeft":i.sort((u,o)=>(u.daysLeft||0)-(o.daysLeft||0));break;case"cost-desc":i.sort((u,o)=>o.cost-u.cost);break;case"cost-asc":i.sort((u,o)=>u.cost-o.cost);break;case"name":i.sort((u,o)=>u.name.localeCompare(o.name,"ko"));break;case"category":i.sort((u,o)=>u.category.localeCompare(o.category));break}return i},[t,r,a,n,s]),x=m.useMemo(()=>{if(n!=="category")return null;const i={};return d.forEach(u=>{i[u.category]||(i[u.category]=[]),i[u.category].push(u)}),i},[d,n]);return t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-dashed border-gray-200 dark:border-dark-700",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-dark-700 rounded-full flex items-center justify-center",children:e.jsx(fe,{size:24,className:"text-gray-400 dark:text-dark-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm mb-4",children:"ë“±ë¡ëœ êµ¬ë… ì„œë¹„ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤."}),e.jsx("button",{onClick:g,className:"text-primary-600 dark:text-primary-400 text-sm font-bold hover:underline",children:"+ ì²« êµ¬ë… ì¶”ê°€í•˜ê¸°"})]}):d.length===0?e.jsx("div",{className:"text-center py-8 bg-white dark:bg-dark-800 rounded-2xl",children:e.jsx("p",{className:"text-gray-400 dark:text-dark-500 text-sm",children:"ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤."})}):e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center gap-2 text-sm",children:[e.jsx(X,{className:"w-4 h-4 text-primary-500"}),"êµ¬ë… ë¦¬ìŠ¤íŠ¸",e.jsxs("span",{className:"text-xs font-normal text-gray-400 dark:text-dark-500",children:["(",d.length,")"]})]}),n==="daysLeft"&&e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"ê²°ì œì¼ ìˆœ"})]}),e.jsx("div",{className:"space-y-3",children:x?Object.entries(x).map(([i,u])=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-500 dark:text-dark-400 mb-2 pl-1",children:[i," (",u.length,")"]}),e.jsx("div",{className:"space-y-3",children:u.map((o,b)=>e.jsx("div",{className:"subscription-item",style:{animationDelay:`${b*50}ms`},children:e.jsx(de,{subscription:o,onEdit:l,onDelete:c,onTogglePause:h})},o.id))})]},i)):d.map((i,u)=>e.jsx("div",{className:"subscription-item",style:{animationDelay:`${u*50}ms`},children:e.jsx(de,{subscription:i,onEdit:l,onDelete:c,onTogglePause:h})},i.id))})]})}function It({isOpen:t,onClose:r,onSave:a,editData:n=null}){const[s,l]=m.useState({name:"",cost:"",billingDay:1,billingCycle:"monthly",category:"OTT",url:"",customColor:"",notes:"",trialEndDate:""}),[c,h]=m.useState({}),[g,d]=m.useState(!0);m.useEffect(()=>{n?(l({name:n.name||"",cost:n.cost||"",billingDay:n.billingDay||1,billingCycle:n.billingCycle||"monthly",category:n.category||"OTT",url:n.url||"",customColor:n.customColor||"",notes:n.notes||"",trialEndDate:n.trialEndDate?typeof n.trialEndDate=="object"&&n.trialEndDate.seconds?new Date(n.trialEndDate.seconds*1e3).toISOString().split("T")[0]:new Date(n.trialEndDate).toISOString().split("T")[0]:""}),d(!1)):(l({name:"",cost:"",billingDay:new Date().getDate(),billingCycle:"monthly",category:"OTT",url:"",customColor:"",notes:"",trialEndDate:""}),d(!0)),h({})},[n,t]);const x=o=>{l({...s,name:o.name,category:o.category,url:o.url,customColor:o.color,cost:o.defaultCost||""}),d(!1)},i=()=>{const o={};return s.name.trim()||(o.name="ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!s.cost||isNaN(s.cost)||Number(s.cost)<0)&&(o.cost="ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!s.billingDay||s.billingDay<1||s.billingDay>31)&&(o.billingDay="1~31 ì‚¬ì´ì˜ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"),h(o),Object.keys(o).length===0},u=o=>{if(o.preventDefault(),!i())return;const b={...s,cost:Number(s.cost),billingDay:Number(s.billingDay),trialEndDate:s.trialEndDate?new Date(s.trialEndDate):null};a(b,n==null?void 0:n.id),r()};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-md rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:n?"êµ¬ë… ì •ë³´ ìˆ˜ì •":"ìƒˆ êµ¬ë… ì¶”ê°€"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(R,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[!n&&g&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-dark-400 uppercase tracking-wider mb-2 block",children:"ì¸ê¸° ì„œë¹„ìŠ¤ ê°„í¸ ë“±ë¡"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto scrollbar-hide",children:kt.slice(0,16).map(o=>e.jsxs("button",{type:"button",onClick:()=>x(o),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full border border-gray-200 dark:border-dark-600 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 bg-white dark:bg-dark-700 text-xs font-medium transition-all duration-200 hover:scale-105 hover:shadow-md active:scale-95",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:o.color,boxShadow:`0 2px 4px ${o.color}40`}}),o.name]},o.name))}),e.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-xs text-gray-400 dark:text-dark-500 mt-2 hover:text-primary-500",children:"ì§ì ‘ ì…ë ¥í•˜ê¸° â†’"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ì„œë¹„ìŠ¤ ì´ë¦„ *"}),e.jsx("input",{type:"text",placeholder:"ì˜ˆ: ë„·í”Œë¦­ìŠ¤",className:`w-full px-4 py-2.5 rounded-xl border ${c.name?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-dark-500 focus:bg-white dark:focus:bg-dark-600 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all`,value:s.name,onChange:o=>l({...s,name:o.target.value})}),c.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œ ê¸ˆì•¡ *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"0",min:"0",className:`w-full pl-4 pr-10 py-2.5 rounded-xl border ${c.cost?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all`,value:s.cost,onChange:o=>l({...s,cost:o.target.value})}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400 dark:text-dark-500 text-sm",children:"ì›"})]}),c.cost&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.cost})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œì¼ *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:"31",className:`w-full pl-4 pr-10 py-2.5 rounded-xl border ${c.billingDay?"border-red-400 dark:border-red-500":"border-gray-200 dark:border-dark-600"} bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all`,value:s.billingDay,onChange:o=>l({...s,billingDay:o.target.value})}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400 dark:text-dark-500 text-sm",children:"ì¼"})]}),c.billingDay&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.billingDay})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ê²°ì œ ì£¼ê¸°"}),e.jsx("div",{className:"flex gap-2",children:Object.entries(jt).map(([o,{label:b}])=>e.jsx("button",{type:"button",onClick:()=>l({...s,billingCycle:o}),className:`flex-1 py-2 rounded-xl text-xs font-bold transition-all ${s.billingCycle===o?"bg-primary-500 text-white shadow-md":"bg-gray-100 dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:bg-gray-200 dark:hover:bg-dark-600"}`,children:b},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ì›¹ì‚¬ì´íŠ¸ ë§í¬ (ì„ íƒ)"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-2.5 text-gray-400 dark:text-dark-500",size:16}),e.jsx("input",{type:"url",placeholder:"https://...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm",value:s.url,onChange:o=>l({...s,url:o.target.value})})]}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-1 pl-1",children:"ì…ë ¥ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ë°”ë¡œê°€ê¸° ë²„íŠ¼ì´ ìƒì„±ë©ë‹ˆë‹¤."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5 flex items-center gap-1",children:["ë¬´ë£Œ ì²´í—˜ ì¢…ë£Œì¼ (ì„ íƒ)",e.jsx(Qe,{size:12,className:"text-gray-400"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-2.5 text-gray-400 dark:text-dark-500",size:16}),e.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm",value:s.trialEndDate,onChange:o=>l({...s,trialEndDate:o.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-2",children:"ì¹´í…Œê³ ë¦¬"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:Object.keys(v).map(o=>e.jsxs("button",{type:"button",onClick:()=>l({...s,category:o}),className:`px-3.5 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all duration-200 flex items-center gap-1.5 ${s.category===o?"bg-gray-800 dark:bg-white text-white dark:text-gray-900 shadow-lg transform scale-105":"bg-gray-100 dark:bg-dark-700 text-gray-500 dark:text-dark-400 hover:bg-gray-200 dark:hover:bg-dark-600 hover:scale-102"}`,children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full transition-transform",style:{backgroundColor:v[o],boxShadow:s.category===o?`0 0 6px ${v[o]}`:"none"}}),$[o]||o]},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-300 mb-1.5",children:"ë©”ëª¨ (ì„ íƒ)"}),e.jsx("textarea",{placeholder:"ê³µìœ  ê³„ì •, ìš”ê¸ˆì œ ë“± ë©”ëª¨...",rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all text-sm resize-none",value:s.notes,onChange:o=>l({...s,notes:o.target.value})})]}),e.jsxs("button",{type:"submit",className:"w-full py-3.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold text-base transform active:scale-[0.98] transition-all shadow-lg shadow-primary-500/30 mt-2 flex items-center justify-center gap-2 btn-press",children:[e.jsx(ye,{size:20}),n?"ìˆ˜ì • ì™„ë£Œ":"ë“±ë¡í•˜ê¸°"]})]})]})]})}):null}const Ot=t=>{const r=["ì„œë¹„ìŠ¤ëª…","ì›” ê²°ì œê¸ˆì•¡","ê²°ì œì¼","ì¹´í…Œê³ ë¦¬","ê²°ì œì£¼ê¸°","URL","ì¼ì‹œì •ì§€","ë©”ëª¨","ìƒì„±ì¼"],a=t.map(s=>[s.name,s.cost,s.billingDay,s.category,s.billingCycle||"monthly",s.url||"",s.isPaused?"ì˜ˆ":"ì•„ë‹ˆì˜¤",s.notes||"",s.createdAt||""]);return[r.join(","),...a.map(s=>s.map(l=>typeof l=="string"&&l.includes(",")?`"${l}"`:l).join(","))].join(`
`)},Tt=t=>{const r={version:"1.0",exportedAt:new Date().toISOString(),subscriptions:t.map(a=>({name:a.name,cost:a.cost,billingDay:a.billingDay,category:a.category,billingCycle:a.billingCycle||"monthly",url:a.url||"",customColor:a.customColor||"",isPaused:a.isPaused||!1,notes:a.notes||""}))};return JSON.stringify(r,null,2)},At=t=>{var n,s,l,c,h,g;const r=t.trim().split(`
`);if(r.length<2)return[];const a=[];for(let d=1;d<r.length;d++){const x=Lt(r[d]);x.length>=4&&a.push({name:((n=x[0])==null?void 0:n.trim())||"",cost:parseInt(x[1])||0,billingDay:parseInt(x[2])||1,category:((s=x[3])==null?void 0:s.trim())||"Etc",billingCycle:((l=x[4])==null?void 0:l.trim())||"monthly",url:((c=x[5])==null?void 0:c.trim())||"",isPaused:((h=x[6])==null?void 0:h.trim())==="ì˜ˆ",notes:((g=x[7])==null?void 0:g.trim())||""})}return a},Lt=t=>{const r=[];let a="",n=!1;for(let s=0;s<t.length;s++){const l=t[s];l==='"'?n=!n:l===","&&!n?(r.push(a),a=""):a+=l}return r.push(a),r},Ft=t=>{try{const r=JSON.parse(t);return r.subscriptions&&Array.isArray(r.subscriptions)?r.subscriptions.map(a=>({name:a.name||"",cost:parseInt(a.cost)||0,billingDay:parseInt(a.billingDay)||1,category:a.category||"Etc",billingCycle:a.billingCycle||"monthly",url:a.url||"",customColor:a.customColor||"",isPaused:a.isPaused||!1,notes:a.notes||""})):[]}catch(r){return console.error("JSON parsing error:",r),[]}},ce=(t,r,a)=>{const n=new Blob([t],{type:a}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)},Mt=t=>new Promise((r,a)=>{const n=new FileReader;n.onload=s=>r(s.target.result),n.onerror=s=>a(s),n.readAsText(t)});function $t({isOpen:t,onClose:r,subscriptions:a,onImport:n,onClearAll:s}){const{isDark:l,toggleTheme:c}=Ce(),[h,g]=m.useState(!1),[d,x]=m.useState(null),[i,u]=m.useState(!1),[o,b]=m.useState("default"),p=m.useRef(null);m.useEffect(()=>{if(M()){b(H());const N=ee();u(N.enabled&&H()==="granted")}},[t]);const y=()=>{const N=Ot(a),S=`subscriptions_${new Date().toISOString().split("T")[0]}.csv`;ce(N,S,"text/csv;charset=utf-8")},w=()=>{const N=Tt(a),S=`subscriptions_${new Date().toISOString().split("T")[0]}.json`;ce(N,S,"application/json")},C=async N=>{var E;const S=(E=N.target.files)==null?void 0:E[0];if(S){try{const T=await Mt(S);let A=[];if(S.name.endsWith(".json")?A=Ft(T):S.name.endsWith(".csv")&&(A=At(T)),A.length>0){const _=await n(A);x({success:!0,count:_}),setTimeout(()=>x(null),3e3)}else x({success:!1,message:"ìœ íš¨í•œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"}),setTimeout(()=>x(null),3e3)}catch(T){console.error("Import error:",T),x({success:!1,message:"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"}),setTimeout(()=>x(null),3e3)}p.current&&(p.current.value="")}},D=async()=>{await s(),g(!1),r()};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-end md:items-center justify-center backdrop-blur-sm modal-backdrop",children:e.jsxs("div",{className:"bg-white dark:bg-dark-800 w-full max-w-md rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden modal-content max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-dark-700 flex justify-between items-center bg-gray-50/50 dark:bg-dark-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:"ì„¤ì •"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-dark-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:e.jsx(R,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"ë‹¤í¬ ëª¨ë“œ"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:"ì–´ë‘ìš´ í…Œë§ˆë¡œ ì „í™˜í•©ë‹ˆë‹¤"})]}),e.jsx("button",{onClick:c,className:`relative w-14 h-7 rounded-full transition-colors ${l?"bg-primary-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${l?"translate-x-7":"translate-x-0.5"}`,children:l?e.jsx(ue,{size:12,className:"text-primary-500"}):e.jsx(me,{size:12,className:"text-amber-500"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 dark:text-white text-sm flex items-center gap-2",children:[i?e.jsx(ne,{size:16,className:"text-primary-500"}):e.jsx(oe,{size:16,className:"text-gray-400"}),"ê²°ì œì¼ ì•Œë¦¼"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400 mt-0.5",children:M()?o==="denied"?"ì•Œë¦¼ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ í—ˆìš©í•´ì£¼ì„¸ìš”.":"ê²°ì œ ì˜ˆì •ì¼ 3ì¼, 1ì¼ ì „ì— ì•Œë¦¼":"ì´ ë¸Œë¼ìš°ì €ëŠ” ì•Œë¦¼ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"})]}),e.jsx("button",{onClick:async()=>{if(i)ft(),u(!1);else{const N=await pt();u(N),b(H())}},disabled:!M()||o==="denied",className:`relative w-14 h-7 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"bg-primary-500":"bg-gray-200 dark:bg-dark-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transition-transform flex items-center justify-center ${i?"translate-x-7":"translate-x-0.5"}`,children:i?e.jsx(ne,{size:12,className:"text-primary-500"}):e.jsx(oe,{size:12,className:"text-gray-400"})})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ë°ì´í„° ë‚´ë³´ë‚´ê¸°"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:y,disabled:a.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ze,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV"})]}),e.jsxs("button",{onClick:w,disabled:a.length===0,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-700 dark:text-dark-300 hover:bg-gray-50 dark:hover:bg-dark-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(et,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"JSON"})]})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-dark-500 mt-2",children:[a.length,"ê°œì˜ êµ¬ë… ë°ì´í„°ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤"]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ë°ì´í„° ê°€ì ¸ì˜¤ê¸°"}),e.jsx("input",{ref:p,type:"file",accept:".csv,.json",onChange:C,className:"hidden",id:"import-file"}),e.jsxs("label",{htmlFor:"import-file",className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border-2 border-dashed border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700/50 text-gray-600 dark:text-dark-400 hover:border-primary-400 hover:text-primary-600 dark:hover:text-primary-400 cursor-pointer transition-colors",children:[e.jsx(tt,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"CSV ë˜ëŠ” JSON íŒŒì¼ ì„ íƒ"})]}),d&&e.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs flex items-center gap-2 ${d.success?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"}`,children:[d.success?e.jsx(ye,{size:14}):e.jsx(G,{size:14}),d.success?`${d.count}ê°œì˜ êµ¬ë…ì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤`:d.message]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-dark-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white text-sm mb-3",children:"ìœ„í—˜ êµ¬ì—­"}),h?e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 mb-3",children:[e.jsx(G,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"})]}),e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400/80 mb-3",children:"ëª¨ë“  êµ¬ë… ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 px-4 rounded-lg bg-white dark:bg-dark-700 text-gray-600 dark:text-dark-300 text-sm font-medium hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:"ì·¨ì†Œ"}),e.jsx("button",{onClick:D,className:"flex-1 py-2 px-4 rounded-lg bg-red-500 text-white text-sm font-medium hover:bg-red-600 transition-colors",children:"ì‚­ì œ"})]})]}):e.jsxs("button",{onClick:()=>g(!0),disabled:a.length===0,className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-red-200 dark:border-red-900/50 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(pe,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"ëª¨ë“  ë°ì´í„° ì‚­ì œ"})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-dark-500",children:"êµ¬ë… ë§¤ë‹ˆì € Pro v1.0.0"})})]})]})}):null}function Ut({onSignUp:t}){const r=ke(),[a,n]=m.useState(null),[s,l]=m.useState(!1);if(m.useEffect(()=>{const h=()=>{const d=we();n(d)};h();const g=setInterval(h,6e4);return()=>clearInterval(g)},[]),!a||s)return null;const c=a.remainingMinutes<=5;return e.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${c?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-amber-500 to-orange-500"} text-white py-2 px-4 shadow-lg`,children:e.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(he,{size:16,className:"animate-pulse"}),e.jsxs("span",{children:[e.jsx("strong",{children:"ì²´í—˜ ëª¨ë“œ"})," - ",a.remainingMinutes,"ë¶„ í›„ ë°ì´í„°ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",children:[e.jsx(rt,{size:14}),"ê°€ì…í•˜ê³  ì €ì¥í•˜ê¸°"]}),e.jsx("button",{onClick:()=>l(!0),className:"p-1 hover:bg-white/20 rounded transition-colors",children:e.jsx(R,{size:16})})]})]})})}const zt=m.lazy(()=>Q(()=>import("./LoginPage-7sPz0wd8.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Rt=m.lazy(()=>Q(()=>import("./ForgotPasswordPage-Ccqh2uXW.js"),__vite__mapDeps([3,1,2]),import.meta.url)),_t=m.lazy(()=>Q(()=>import("./ProfilePage-ZUU4pRHv.js"),__vite__mapDeps([4,1,2]),import.meta.url));function Bt(){return e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx("div",{className:"w-12 h-12 spinner"})})})}function Jt(){const{user:t,isDemo:r,isAuthenticated:a}=Z(),n=mt(r?null:t),[s,l]=m.useState([]);m.useEffect(()=>{r&&l(P())},[r]);const c=r?s:n.subscriptions,h=r?!1:n.loading,g=m.useCallback(async f=>{if(r){const k=W({...f,id:`demo-${Date.now()}`});return l(P()),k.id}return n.addSubscription(f)},[r,n]),d=m.useCallback(async(f,k)=>{if(r){const U=P().find($e=>$e.id===f);U&&(W({...U,...k}),l(P()));return}return n.updateSubscription(f,k)},[r,n]),x=m.useCallback(async f=>{if(r){ct(f),l(P());return}return n.deleteSubscription(f)},[r,n]),i=m.useCallback(async f=>{if(r){const F=P().find(U=>U.id===f);F&&(W({...F,isPaused:!F.isPaused}),l(P()));return}return n.togglePause(f)},[r,n]),[u,o]=m.useState(!1),[b,p]=m.useState(!1),[y,w]=m.useState(null),[C,D]=m.useState(null),[N,S]=m.useState(""),[E,T]=m.useState(null),[A,_]=m.useState("daysLeft"),[re,Pe]=m.useState(!0),I=m.useMemo(()=>c.map(f=>({...f,daysLeft:ut(f.billingDay)})),[c]),B=m.useMemo(()=>c.filter(f=>!f.isPaused).reduce((f,k)=>f+(k.cost||0),0),[c]),se=B*12,Ie=m.useMemo(()=>{const f={};return c.filter(k=>!k.isPaused).forEach(k=>{f[k.category]||(f[k.category]={count:0,total:0}),f[k.category].count+=1,f[k.category].total+=k.cost}),f},[c]),Oe=m.useMemo(()=>I.filter(f=>!f.isPaused&&f.daysLeft<=3).sort((f,k)=>f.daysLeft-k.daysLeft),[I]),L=m.useCallback((f,k="success")=>{D({message:f,type:k}),setTimeout(()=>D(null),3e3)},[]);m.useEffect(()=>{I.length>0&&bt(I)},[I]);const J=m.useCallback((f=null)=>{w(f),o(!0)},[]),Te=m.useCallback(()=>{o(!1),w(null)},[]),Ae=m.useCallback(async(f,k)=>{try{k?(await d(k,f),L("êµ¬ë…ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤")):(await g(f),L("ìƒˆ êµ¬ë…ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤"))}catch(F){L("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤","error"),console.error(F)}},[g,d,L]),Le=m.useCallback(async f=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await x(f),L("êµ¬ë…ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤")}catch(k){L("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤","error"),console.error(k)}},[x,L]),Fe=m.useCallback(f=>{T(k=>k===f?null:f)},[]),Me=c.filter(f=>!f.isPaused).length;return h?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 spinner"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400 text-sm",children:"ë¡œë”© ì¤‘..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 text-gray-800 dark:text-white font-sans pb-24 md:pb-10 transition-colors",children:[r&&e.jsx(Ut,{}),e.jsx(yt,{subscriptionCount:Me,onOpenSettings:()=>p(!0)}),e.jsxs("main",{className:`max-w-lg mx-auto px-4 py-6 space-y-6 ${r?"pt-16":""}`,children:[e.jsx(Nt,{totalMonthlyCost:B,totalYearlyCost:se,subscriptions:I}),e.jsx(St,{items:Oe}),e.jsx(Dt,{subscriptions:I,totalMonthlyCost:B,totalYearlyCost:se,categoryBreakdown:Ie,onCategoryClick:Fe}),c.length>0&&e.jsx(Et,{searchQuery:N,onSearchChange:S,selectedCategory:E,onCategoryChange:T,sortBy:A,onSortChange:_,showPaused:re,onShowPausedChange:Pe}),e.jsx(Pt,{subscriptions:I,searchQuery:N,selectedCategory:E,sortBy:A,showPaused:re,onEdit:J,onDelete:Le,onTogglePause:i,onAddNew:()=>J()})]}),e.jsx("button",{onClick:()=>J(),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-xl shadow-primary-500/40 flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-40 fab-pulse","aria-label":"ìƒˆ êµ¬ë… ì¶”ê°€",children:e.jsx(fe,{size:24})}),e.jsx(It,{isOpen:u,onClose:Te,onSave:Ae,editData:y}),e.jsx($t,{isOpen:b,onClose:()=>p(!1),subscriptions:c,onImport:r?null:n.importSubscriptions,onClearAll:r?null:n.clearAllSubscriptions}),C&&e.jsx("div",{className:`toast ${C.type==="error"?"bg-red-500 text-white":"bg-gray-900 dark:bg-white text-white dark:text-gray-900"}`,children:C.message})]})}function xe({children:t}){const{isAuthenticated:r,loading:a}=Z();return a?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-dark-900",children:e.jsx("div",{className:"w-12 h-12 spinner"})}):r?t:e.jsx(ot,{to:"/login",replace:!0})}function Wt(){return e.jsx(Se,{children:e.jsx(xt,{children:e.jsx(at,{children:e.jsx(m.Suspense,{fallback:e.jsx(Bt,{}),children:e.jsxs(nt,{children:[e.jsx(z,{path:"/login",element:e.jsx(zt,{})}),e.jsx(z,{path:"/forgot-password",element:e.jsx(Rt,{})}),e.jsx(z,{path:"/profile",element:e.jsx(xe,{children:e.jsx(_t,{})})}),e.jsx(z,{path:"/",element:e.jsx(xe,{children:e.jsx(Jt,{})})})]})})})})})}Y.createRoot(document.getElementById("root")).render(e.jsx(lt.StrictMode,{children:e.jsx(Se,{children:e.jsx(Wt,{})})}));export{j as l,Z as u};
