import{j as e,W as u,l as S,X as $,r as z,a3 as C,T as L,d as M,p as E}from"./vendor-ui-B6CU6qF1.js";import{r as l}from"./vendor-react-DtEkOSI3.js";function P({subscriptions:h,monthlyIncome:n=0,onUpdateIncome:g,targetRatio:r=10}){const[j,x]=l.useState(!1),[m,c]=l.useState(n||""),[t,b]=l.useState(n);l.useEffect(()=>{b(n),c(n||"")},[n]);const i=h.filter(a=>!a.isPaused).reduce((a,w)=>a+w.cost,0),s=t>0?i/t*100:0,p=s>r,f=s>r*1.5,o=t*(r/100),d=Math.max(0,i-o),k=()=>{const a=Number(m)||0;b(a),g&&g(a),x(!1)},N=()=>{c(t||""),x(!1)},v=()=>s===0?"text-gray-400":s<=r?"text-green-500":s<=r*1.5?"text-amber-500":"text-red-500",y=()=>s===0?"bg-gray-200":s<=r?"bg-green-500":s<=r*1.5?"bg-amber-500":"bg-red-500";return e.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2.5 text-base",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-500",children:e.jsx(u,{className:"w-5 h-5"})}),"수입 대비 분석"]}),e.jsx("span",{className:`text-sm font-bold ${v()}`,children:s>0?`${s.toFixed(1)}%`:"-"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"월 수입"}),j?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:m,onChange:a=>c(a.target.value),className:"flex-1 px-3 py-2.5 rounded-xl border border-indigo-200 dark:border-indigo-800 bg-indigo-50 dark:bg-indigo-900/20 text-gray-800 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",placeholder:"월 수입 입력",min:"0",step:"100000",autoFocus:!0}),e.jsx("button",{onClick:k,className:"p-2.5 rounded-xl bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:e.jsx(S,{size:16})}),e.jsx("button",{onClick:N,className:"p-2.5 rounded-xl bg-gray-100 dark:bg-dark-700 text-gray-500 hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:e.jsx($,{size:16})})]}):e.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-dark-700/50 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors group",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-white",children:t>0?`${(t/1e4).toLocaleString()}만원`:"수입 입력하기"}),e.jsx(z,{size:14,className:"text-gray-400 group-hover:text-indigo-500 transition-colors"})]})]}),t>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5",children:[e.jsx("span",{className:"text-gray-500 dark:text-dark-400",children:"구독 지출 비율"}),e.jsxs("span",{className:"font-bold text-gray-700 dark:text-dark-200",children:[i.toLocaleString(),"원 / ",t.toLocaleString(),"원"]})]}),e.jsxs("div",{className:"h-3 bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-gray-400 dark:bg-dark-500 z-10",style:{left:`${Math.min(r,100)}%`}}),e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${y()}`,style:{width:`${Math.min(s,100)}%`}})]}),e.jsxs("div",{className:"flex justify-between text-[10px] mt-1",children:[e.jsx("span",{className:"text-gray-400",children:"0%"}),e.jsxs("span",{className:"text-gray-400 font-medium",children:["목표 ",r,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-dark-700/50",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 mb-1",children:[e.jsx(C,{size:12}),e.jsx("span",{className:"text-[10px] font-medium",children:"권장 지출"})]}),e.jsxs("p",{className:"text-sm font-bold text-gray-800 dark:text-white",children:[Math.round(o).toLocaleString(),"원"]})]}),e.jsxs("div",{className:`p-3 rounded-xl ${d>0?"bg-red-50 dark:bg-red-900/20":"bg-green-50 dark:bg-green-900/20"}`,children:[e.jsxs("div",{className:`flex items-center gap-1.5 mb-1 ${d>0?"text-red-500":"text-green-500"}`,children:[d>0?e.jsx(L,{size:12}):e.jsx(M,{size:12}),e.jsx("span",{className:"text-[10px] font-medium",children:d>0?"초과 지출":"절약 가능"})]}),e.jsx("p",{className:`text-sm font-bold ${d>0?"text-red-600":"text-green-600"}`,children:d>0?`+${Math.round(d).toLocaleString()}원`:`${Math.round(o-i).toLocaleString()}원`})]})]}),f&&e.jsx("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(E,{size:14,className:"text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-red-700 dark:text-red-400",children:["구독 지출이 수입의 ",s.toFixed(1),"%입니다"]}),e.jsxs("p",{className:"text-[10px] text-red-600/70 dark:text-red-400/70 mt-0.5",children:["권장 비율(",r,"%)을 크게 초과하고 있어요. 구독 정리를 고려해보세요."]})]})]})}),!p&&e.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20",children:e.jsx("p",{className:"text-xs text-green-700 dark:text-green-400 text-center",children:"✨ 구독 지출이 적정 수준입니다!"})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(u,{size:32,className:"mx-auto text-gray-300 dark:text-dark-600 mb-2"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-400",children:"월 수입을 입력하면 지출 비율을 분석해드려요"})]})]})}export{P as default};
