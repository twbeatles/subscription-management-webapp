import{j as e,u as c,v as f}from"./vendor-ui-RaJZtfGk.js";import{u as k,r as t}from"./vendor-react-Cr-SFtWI.js";import{u as j,l as v}from"./index-Bk8POMJN.js";function C(){const d=k(),{login:x,register:g}=j(),[l,m]=t.useState([]),[o,a]=t.useState(!1),[s,u]=t.useState(""),[i,n]=t.useState("");t.useEffect(()=>{h()},[]);const h=()=>{const r=v.getUsers();m(r),r.length===0&&a(!0)},p=async r=>{if(r.preventDefault(),!!s.trim())try{await g(s),d("/")}catch{n("프로필 생성 중 오류가 발생했습니다.")}},y=async r=>{try{await x(r),d("/")}catch{n("로그인 중 오류가 발생했습니다.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-900 p-4 transition-colors",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-800 rounded-2xl shadow-xl overflow-hidden transition-all p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"구독 관리자"}),e.jsx("p",{className:"text-gray-500 dark:text-dark-400",children:o?"새 프로필 만들기":"프로필 선택"})]}),i&&e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 text-red-500 text-sm dark:bg-red-900/20 dark:text-red-400 text-center",children:i}),o?e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"이름 (닉네임)"}),e.jsx("input",{type:"text",value:s,onChange:r=>u(r.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-colors",placeholder:"예: 홍길동",required:!0})]}),e.jsxs("button",{type:"submit",className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(c,{size:20})," 프로필 생성 및 시작"]}),l.length>0&&e.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full py-3 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"기존 프로필 선택하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"grid gap-3 max-h-60 overflow-y-auto pr-1 custom-scrollbar",children:l.map(r=>e.jsxs("button",{onClick:()=>y(r.id),className:"w-full p-4 flex items-center gap-3 bg-gray-50 dark:bg-dark-700 hover:bg-gray-100 dark:hover:bg-dark-600 rounded-xl transition-all text-left group border border-transparent hover:border-primary-200 dark:hover:border-primary-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-lg group-hover:scale-110 transition-transform",children:r.displayName.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.displayName}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-dark-400",children:[new Date(r.createdAt).toLocaleDateString()," 가입"]})]}),e.jsx(f,{size:18,className:"text-gray-300 dark:text-dark-500 group-hover:text-primary-500"})]},r.id))}),e.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-dark-700 mt-4",children:e.jsxs("button",{onClick:()=>a(!0),className:"w-full py-3 px-4 border border-dashed border-gray-300 dark:border-dark-600 text-gray-500 dark:text-dark-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(c,{size:18})," 새 프로필 추가"]})})]})]})})}export{C as default};
